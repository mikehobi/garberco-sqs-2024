!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=28)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resizes=e.resizer=e.emitter=e.Analytics=e.cache=e.api=e.log=e.env=e.config=e.util=e.images=e.dom=e.detect=void 0;var i=m(n(19)),o=m(n(10)),a=m(n(60)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),s=m(n(12)),l=m(n(20)),u=m(n(8)),c=m(n(62)),d=m(n(63)),h=m(n(64)),f=m(n(14)),p=m(n(23)),v=m(n(66));function m(t){return t&&t.__esModule?t:{default:t}}e.detect=i.default,e.dom=o.default,e.images=a.default,e.util=r,e.config=s.default,e.env=l.default,e.log=u.default,e.api=c.default,e.cache=d.default,e.Analytics=h.default,e.emitter=f.default,e.resizer=p.default,e.resizes=v.default},function(t,e,n){var i=n(2),o=[],a=function(t,e){if(this._hobo=i.version,this._context=e&&e.nodeType&&1===e.nodeType?e:document,t===window||t===document||t.nodeType&&1===t.nodeType)this._selector="",t=[t];else if("string"==typeof t)if(t=i.trimString(t),i.rTag.test(t)){t=t.replace(i.rDocType,"");var n=document.createElement("hobo");n.innerHTML=t,t=i.makeArray(n.children),n=null}else this._selector=t,t=i.makeArray(this._context.querySelectorAll(t));else void 0!==t.length&&(this._selector="",t=i.makeArray(t));this._events={},this.length=t.length;for(var o=this.length;o--;)this[o]=t[o];this.forEach(i.makeData)};a.prototype.splice=o.splice,a.prototype.each=o.forEach,a.prototype.forEach=o.forEach,a.prototype.push=o.push,a.prototype.map=o.map,t.exports=a},function(t,e){var n=/^data-/,i=/\D/g,o=/-([\da-z])/gi,a=/^\[|\{/,r=/^\s+|\s+$/g,s=function(t){return t.replace(o,function(t,e){return e.toUpperCase()})},l=function(t,e){var n,i,o,a=[];for(o in t)t.hasOwnProperty(o)&&(n=e?e+"["+o+"]":o,i=t[o],Array.isArray(i)?i.forEach(function(t){a.push(encodeURIComponent(n)+"[]="+encodeURIComponent(t))}):"object"==typeof i?a.push(l(i,n)):a.push(encodeURIComponent(n)+"="+encodeURIComponent(i)));return a.join("&")},u=function(t){if(a.test(t))try{t=JSON.parse(t)}catch(t){throw t}return t},c=function(t){for(var e=t.attributes.length;e--;)if(n.test(t.attributes[e].name)){var i=s(t.attributes[e].name.replace(n,""));t.hoboDataMap[i]=u(t.attributes[e].value)}},d=function(t){for(var e in t.dataset)t.dataset.hasOwnProperty(e)&&(t.hoboDataMap[e]=u(t.dataset[e]))};t.exports={version:"0.3.15",rData:n,rDigit:i,rTag:/^</,rJson:a,rDocType:/^<\!DOCTYPE\shtml>/i,rFront2Back:r,trimString:function(t){return t.replace(r,"")},camelCase:s,makeId:function(){return"hobo"+("0.3.15"+Math.random()).replace(i,"")},makeArray:function(t){return[].slice.call(t)},makeData:function(t){t.hoboDataMap||(t.hoboDataMap={}),t.dataset?d(t):t.attributes&&c(t)},storeData:function(t,e){var n,i;for(i in t)t.hasOwnProperty(i)&&(n=s(i),e.hoboDataMap[n]=t[i])},retrieveData:function(t,e){var n=null;return t=s(t),e.hoboDataMap&&e.hoboDataMap[t]&&(n=e.hoboDataMap[t]),n},mergeData:function(t,e){for(var n in e.hoboDataMap)e.hoboDataMap.hasOwnProperty(n)&&!t[n]&&(t[n]=e.hoboDataMap[n])},removeData:function(t,e){t=s(t),e.hoboDataMap&&e.hoboDataMap[t]&&delete e.hoboDataMap[t]},serializeData:l,getClass:function(t){return t.getAttribute("class")||""},setClass:function(t,e){t.setAttribute("class",e)}}},function(t,e,n){(function(e){t.exports=e.hobo=n(30)}).call(this,n(29))},function(t,e,n){
/*!
 *
 * Use native element selector matching
 *
 * @matchElement
 * @author: kitajchuk
 *
 */
var i;t.exports=i=function(t,e,n){var o=t.matches?"matches":t.webkitMatchesSelector?"webkitMatchesSelector":t.mozMatchesSelector?"mozMatchesSelector":t.msMatchesSelector?"msMatchesSelector":t.oMatchesSelector?"oMatchesSelector":null;return o&&t[o].call(t,e)?t:n&&t!==document.documentElement&&t.parentNode?i(t.parentNode,e,n):null}},function(t,e,n){
/*!
 *
 * Event / Animation cycle manager
 *
 * @Controller
 * @author: kitajchuk
 *
 *
 */
var i,o,a;t.exports=(i=window.requestAnimationFrame,o=window.cancelAnimationFrame,(a=function(){return this.init.apply(this,arguments)}).prototype={constructor:a,init:function(){this._handlers={},this._uid=0,this._started=!1,this._paused=!1,this._cycle=null},go:function(t){if(this._started&&this._cycle)return this;this._started=!0;var e=this,n=function(){e._cycle=i(n),e._started&&"function"==typeof t&&t()};n()},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},stop:function(){return o(this._cycle),this._paused=!1,this._started=!1,this._cycle=null,this},on:function(t,e){var n=t.split(" ");e._jsControllerID=this.getUID();for(var i=n.length;i--;)"function"==typeof e&&(this._handlers[n[i]]||(this._handlers[n[i]]=[]),this._handlers[n[i]].push(e));return this},off:function(t,e){return this._handlers[t]?(e?this._off(t,e):this._offed(t),this):this},fire:function(t){if(!this._handlers[t])return this;for(var e=[].slice.call(arguments,1),n=this._handlers[t].length;n--;)this._handlers[t][n].apply(this,e);return this},getUID:function(){return this._uid=this._uid+1,this._uid},_off:function(t,e){for(var n=0,i=this._handlers[t].length;n<i;n++)if(e._jsControllerID===this._handlers[t][n]._jsControllerID){this._handlers[t].splice(n,1);break}},_offed:function(t){for(var e=this._handlers[t].length;e--;)this._handlers[t][e]=null;delete this._handlers[t]}},a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var o=!1,a=!1,r={init:function(){i.dom.overlay.element.is(".is-active")?o=!0:i.dom.overlay.element.detach()},open:function(){if(o||a)return this;o=!0,i.dom.html.addClass("is-overlay-active"),i.dom.body.append(i.dom.overlay.element),setTimeout(function(){return i.dom.overlay.element.addClass("is-active")},10)},close:function(){var t=this;if(!o)return this;i.dom.overlay.element.removeClass("is-active"),setTimeout(function(){o=!1,i.dom.html.removeClass("is-overlay-active"),i.dom.overlay.element.detach().removeClass("is-intro"),t.empty()},i.dom.overlay.elementTransitionDuration)},empty:function(){i.dom.overlay.elementTitle[0].innerHTML=""},suppress:function(t){(a=t)&&o&&this.close()},setTitle:function(t){a||(i.dom.overlay.elementTitle[0].innerHTML=t)},isActive:function(){return o}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultHammerOptions=e.getTransitionDuration=e.isElementInViewport=e.getTransformValues=e.getElementsInView=e.isElementLoadable=e.updateImages=e.extendObject=e.translate3d=e.loadImages=e.getPageKey=e.noop=e.px=void 0;var i=u(n(3)),o=u(n(59)),a=u(n(10)),r=u(n(12)),s=u(n(19)),l=u(n(13));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){if(t)return t.getBoundingClientRect().top<2*window.innerHeight},d=function(t){if(t){var e=t.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0}},h=function(t,e){for(var n=Math.max.apply(null,t),i=t.length;i--;)t[i]>=e&&t[i]<n&&(n=t[i]);return n},f=function(t,e,n,i){var s=/\?(.*)$/,l=function(t){return parseInt(t,10)},u=null,c=null,f=null,p=null,m=null,g=null,y=null,_=null;for(e=e||d,n||!1===n||(n=!0),_=(t=t||a.default.page.find(r.default.lazyImageSelector)).length;_--;)c=(u=t.eq(_)).data(),m=i||u[0].clientWidth||u[0].parentNode.clientWidth||window.innerWidth,y=c.imgSrc.replace(s,""),c.originalSize&&((f=v(c.originalSize)).width>f.height?u.addClass("image--wide"):u.addClass("image--tall")),n&&c.variants&&(p=c.variants.split(",").map(l),g=h(p,m),u[0].setAttribute(r.default.lazyImageAttr,y+"?format="+g+"w"));return new o.default({elements:t,property:r.default.lazyImageAttr,executor:e})},p=function(){return!0},v=function(t){var e=t.split("x");return{width:parseInt(e[0],10),height:parseInt(e[1],10)}};e.px=function(t){return t+"px"},e.noop=p,e.getPageKey=function(){return window.location.pathname===r.default.appRoot?r.default.homepageKey:""+window.location.pathname+window.location.search},e.loadImages=f,e.translate3d=function(t,e,n,i){t.style[l.default.prefixed(t.style,"transform")]="translate3d( "+e+", "+n+", "+i+" )"},e.extendObject=function(t,e){var n=null,i=Array.isArray(t)?[]:{};if(Array.isArray(e)){for(n=t.length;n--;)i[n]=t[n];for(n=e.length;n--;)i[n]=e[n]}else{for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n])}return i},e.updateImages=function(t){(t=t||(0,i.default)("["+r.default.imageLoaderAttr+"]")).length&&(t.removeAttr(r.default.imageLoaderAttr),f(t,p))},e.isElementLoadable=c,e.getElementsInView=function(t){for(var e=t.length,n=(0,i.default)([]);e--;)c(t[e])&&n.push(t[e]);return n},e.getTransformValues=function(t){if(!t)return null;var e=window.getComputedStyle(t)[l.default.prefixed(t.style,"transform")].replace(/matrix|3d|\(|\)|\s/g,"").split(","),n={};return"none"===e[0]?(n.x=0,n.y=0,n.z=0):16===e.length?(n.x=parseFloat(e[12]),n.y=parseFloat(e[13]),n.z=parseFloat(e[14])):(n.x=parseFloat(e[4]),n.y=parseFloat(e[5]),n.z=0),n},e.isElementInViewport=d,e.getTransitionDuration=function(t){var e=0,n=null,i=1e3;return t&&(n=getComputedStyle(t)["transition-duration"],i=-1===String(n).indexOf("ms")?1e3:1,e=parseFloat(n)*i),e},e.getDefaultHammerOptions=function(){return s.default.isDevice()?{}:{cssProps:{contentZoomingString:!1,tapHighlightColorString:!1,touchCalloutString:!1,touchSelectString:!1,userDragString:!1,userSelectString:!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(20),a=(i=o)&&i.__esModule?i:{default:i};e.default=function(){if(a.default.isDev()){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log(e)}}},function(t,e,n){
/*!
 *
 * A base set of easing methods
 * Most of which were found here:
 * https://gist.github.com/gre/1650294
 *
 * @Easing
 * @author: kitajchuk
 *
 */
t.exports={linear:function(t){return t},swing:function(t){return(1-Math.cos(t*Math.PI))/2},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(3),a=(i=o)&&i.__esModule?i:{default:i},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));var s=(0,a.default)(".js-overlay"),l=(0,a.default)(".js-project-view"),u=(0,a.default)(".js-gallery"),c={doc:(0,a.default)(document),html:(0,a.default)(document.documentElement),body:(0,a.default)(document.body),header:(0,a.default)(".js-header"),nav:(0,a.default)(".js-nav"),intro:(0,a.default)(".js-intro"),overlay:{element:s,elementTitle:s.find(".js-overlay-title"),elementTransitionDuration:r.getTransitionDuration(s[0])},gallery:{element:u,elementNode:u.find(".js-gallery-node")},page:(0,a.default)(".js-page"),project:{element:l,elementPane:l.find(".js-project-view-pane"),elementTransitionDuration:r.getTransitionDuration(l[0])},root:(0,a.default)(".js-root"),main:(0,a.default)(".js-main")};e.default=c},function(t,e,n){
/*!
 *
 * A simple tween class using requestAnimationFrame
 *
 * @Tween
 * @author: kitajchuk
 *
 */
var i;t.exports=(i={ease:n(9).linear,duration:600,from:0,to:0,delay:0,update:function(){},complete:function(){}},function(t){for(var e in t=t||{},i)void 0===t[e]&&(t[e]=i[e]);var n=t.to-t.from,o=null,a=null,r=!1;function s(e){if(!r){null===o&&(o=e);var i=e-o,l=n*t.ease(i/t.duration)+t.from;if("function"==typeof t.update&&t.update(l),i>t.duration)return"function"==typeof t.complete&&t.complete(t.to),cancelAnimationFrame(a),a=null,!1;a=requestAnimationFrame(s)}}setTimeout(function(){a=requestAnimationFrame(s)},t.delay),this.stop=function(){r=!0,cancelAnimationFrame(a),a=null}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={rootUrlId:"garberco",homepageKey:"homepage",lazyImageSelector:".js-lazy-image",lazyImageAttr:"data-img-src",imageLoaderAttr:"data-imageloader",offcanvasClasses:"is-offcanvas is-offcanvas--about is-offcanvas--index is-offcanvas--project"}},function(t,e,n){var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(o,a,r,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=a.createElement("div"),d="function",h=Math.round,f=Math.abs,p=Date.now;function v(t,e,n){return setTimeout(T(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function y(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=o.console&&(o.console.warn||o.console.log);return a&&a.call(o.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign;var _=y(function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&t[i[o]]===s)&&(t[i[o]]=e[i[o]]),o++;return t},"extend","Use `assign`."),b=y(function(t,e){return _(t,e,!0)},"merge","Use `assign`.");function w(t,e,n){var i,o=e.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,n&&l(i,n)}function T(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==d?t.apply(e&&e[0]||s,e):t}function P(t,e){return t===s?e:t}function M(t,e,n){g(I(e),function(e){t.addEventListener(e,n,!1)})}function O(t,e,n){g(I(e),function(e){t.removeEventListener(e,n,!1)})}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function D(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function j(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function k(t){return Array.prototype.slice.call(t,0)}function x(t,e,n){for(var i=[],o=[],a=0;a<t.length;){var r=e?t[a][e]:t[a];j(o,r)<0&&i.push(t[a]),o[a]=r,a++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function S(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),a=0;a<u.length;){if((i=(n=u[a])?n+o:e)in t)return i;a++}return s}var A=1;function $(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var z="ontouchstart"in o,R=S(o,"PointerEvent")!==s,L=z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=25,V=1,F=2,q=4,U=8,H=1,G=2,W=4,Y=8,X=16,B=G|W,K=Y|X,Q=B|K,J=["x","y"],Z=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,a=e&V&&i-o==0,r=e&(q|U)&&i-o==0;n.isFirst=!!a,n.isFinal=!!r,a&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=nt(e));o>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===o&&(n.firstMultiple=!1);var a=n.firstInput,r=n.firstMultiple,l=r?r.center:a.center,u=e.center=it(i);e.timeStamp=p(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=st(l,u),e.distance=rt(l,u),function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},a=t.prevInput||{};e.eventType!==V&&a.eventType!==q||(o=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}(n,e),e.offsetDirection=at(e.deltaX,e.deltaY);var c=ot(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=f(c.x)>f(c.y)?c.x:c.y,e.scale=r?(d=r.pointers,h=i,rt(h[0],h[1],Z)/rt(d[0],d[1],Z)):1,e.rotation=r?function(t,e){return st(e[1],e[0],Z)+st(t[1],t[0],Z)}(r.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,o,a,r=t.lastInterval||e,l=e.timeStamp-r.timeStamp;if(e.eventType!=U&&(l>N||r.velocity===s)){var u=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=ot(l,u,c);i=d.x,o=d.y,n=f(d.x)>f(d.y)?d.x:d.y,a=at(u,c),t.lastInterval=e}else n=r.velocity,i=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=a}(n,e);var d,h;var v=t.element;C(e.srcEvent.target,v)&&(v=e.srcEvent.target);e.target=v}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:it(e),deltaX:t.deltaX,deltaY:t.deltaY}}function it(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:h(n/e),y:h(i/e)}}function ot(t,e,n){return{x:e/t||0,y:n/t||0}}function at(t,e){return t===e?H:f(t)>=f(e)?t<0?G:W:e<0?Y:X}function rt(t,e,n){n||(n=J);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function st(t,e,n){n||(n=J);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M($(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O($(this.element),this.evWin,this.domHandler)}};var lt={mousedown:V,mousemove:F,mouseup:q},ut="mousedown",ct="mousemove mouseup";function dt(){this.evEl=ut,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}w(dt,tt,{handler:function(t){var e=lt[t.type];e&V&&0===t.button&&(this.pressed=!0),e&F&&1!==t.which&&(e=q),this.pressed&&(e&q&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ht={pointerdown:V,pointermove:F,pointerup:q,pointercancel:U,pointerout:U},ft={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",vt="pointermove pointerup pointercancel";function mt(){this.evEl=pt,this.evWin=vt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(pt="MSPointerDown",vt="MSPointerMove MSPointerUp MSPointerCancel"),w(mt,tt,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=ht[i],a=ft[t.pointerType]||t.pointerType,r="touch"==a,s=j(e,t.pointerId,"pointerId");o&V&&(0===t.button||r)?s<0&&(e.push(t),s=e.length-1):o&(q|U)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(s,1))}});var gt={touchstart:V,touchmove:F,touchend:q,touchcancel:U},yt="touchstart",_t="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=yt,this.evWin=_t,this.started=!1,tt.apply(this,arguments)}w(bt,tt,{handler:function(t){var e=gt[t.type];if(e===V&&(this.started=!0),this.started){var n=function(t,e){var n=k(t.touches),i=k(t.changedTouches);e&(q|U)&&(n=x(n.concat(i),"identifier",!0));return[n,i]}.call(this,t,e);e&(q|U)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var wt={touchstart:V,touchmove:F,touchend:q,touchcancel:U},Tt="touchstart touchmove touchend touchcancel";function Et(){this.evTarget=Tt,this.targetIds={},tt.apply(this,arguments)}w(Et,tt,{handler:function(t){var e=wt[t.type],n=function(t,e){var n=k(t.touches),i=this.targetIds;if(e&(V|F)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,a,r=k(t.changedTouches),s=[],l=this.target;if(a=n.filter(function(t){return C(t.target,l)}),e===V)for(o=0;o<a.length;)i[a[o].identifier]=!0,o++;o=0;for(;o<r.length;)i[r[o].identifier]&&s.push(r[o]),e&(q|U)&&delete i[r[o].identifier],o++;if(!s.length)return;return[x(a.concat(s),"identifier",!0),s]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Pt=2500,Mt=25;function Ot(){tt.apply(this,arguments);var t=T(this.handler,this);this.touch=new Et(this.manager,t),this.mouse=new dt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},Pt)}}w(Ot,tt,{handler:function(t,e,n){var i="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&V?(this.primaryTouch=e.changedPointers[0].identifier,Ct.call(this,e)):t&(q|U)&&Ct.call(this,e)}).call(this,e,n);else if(o&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],a=Math.abs(e-o.x),r=Math.abs(n-o.y);if(a<=Mt&&r<=Mt)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Dt=S(c.style,"touchAction"),It=Dt!==s,jt="auto",kt="manipulation",xt="none",St="pan-x",At="pan-y",$t=function(){if(!It)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}();function zt(t,e){this.manager=t,this.set(e)}zt.prototype={set:function(t){"compute"==t&&(t=this.compute()),It&&this.manager.element.style&&$t[t]&&(this.manager.element.style[Dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(D(t,xt))return xt;var e=D(t,St),n=D(t,At);if(e&&n)return xt;if(e||n)return e?St:At;if(D(t,kt))return kt;return jt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,o=D(i,xt)&&!$t[xt],a=D(i,At)&&!$t[At],r=D(i,St)&&!$t[St];if(o){var s=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(s&&l&&u)return}if(!r||!a)return o||a&&n&B||r&&n&K?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Rt=1,Lt=2,Nt=4,Vt=8,Ft=Vt,qt=16;function Ut(t){this.options=l({},this.defaults,t||{}),this.id=A++,this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=Rt,this.simultaneous={},this.requireFail=[]}function Ht(t){return t&qt?"cancel":t&Vt?"end":t&Nt?"move":t&Lt?"start":""}function Gt(t){return t==X?"down":t==Y?"up":t==G?"left":t==W?"right":""}function Wt(t,e){var n=e.manager;return n?n.get(t):t}function Yt(){Ut.apply(this,arguments)}function Xt(){Yt.apply(this,arguments),this.pX=null,this.pY=null}function Bt(){Yt.apply(this,arguments)}function Kt(){Ut.apply(this,arguments),this._timer=null,this._input=null}function Qt(){Yt.apply(this,arguments)}function Jt(){Yt.apply(this,arguments)}function Zt(){Ut.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=P(e.recognizers,te.defaults.preset),new ee(t,e)}Ut.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Wt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Wt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===j(e,t=Wt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Wt(t,this);var e=j(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<Vt&&i(e.options.event+Ht(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=Vt&&i(e.options.event+Ht(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Rt)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ft|qt|32)&&(this.state=Rt),this.state=this.process(e),this.state&(Lt|Nt|Vt|qt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Yt,Ut,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Lt|Nt),o=this.attrTest(t);return i&&(n&U||!o)?e|qt:i||o?n&q?e|Vt:e&Lt?e|Nt:Lt:32}}),w(Xt,Yt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var t=this.options.direction,e=[];return t&B&&e.push(At),t&K&&e.push(St),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,a=t.deltaX,r=t.deltaY;return o&e.direction||(e.direction&B?(o=0===a?H:a<0?G:W,n=a!=this.pX,i=Math.abs(t.deltaX)):(o=0===r?H:r<0?Y:X,n=r!=this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return Yt.prototype.attrTest.call(this,t)&&(this.state&Lt||!(this.state&Lt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Gt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Bt,Yt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[xt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Lt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(Kt,Ut,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[jt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(q|U)&&!o)this.reset();else if(t.eventType&V)this.reset(),this._timer=v(function(){this.state=Ft,this.tryEmit()},e.time,this);else if(t.eventType&q)return Ft;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ft&&(t&&t.eventType&q?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),w(Qt,Yt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[xt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Lt)}}),w(Jt,Yt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:B|K,pointers:1},getTouchAction:function(){return Xt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(B|K)?e=t.overallVelocity:n&B?e=t.overallVelocityX:n&K&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&t.eventType&q},emit:function(t){var e=Gt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Zt,Ut,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[kt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&V&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=q)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||rt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&a?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=v(function(){this.state=Ft,this.tryEmit()},e.interval,this),Lt):Ft}return 32},failTimeout:function(){return this._timer=v(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ft&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Qt,{enable:!1}],[Bt,{enable:!1},["rotate"]],[Jt,{direction:B}],[Xt,{direction:B},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[Kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var n;this.options=l({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(R?mt:L?Et:z?Ot:dt))(n,et),this.touchAction=new zt(this,this.options.touchAction),ne(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ne(t,e){var n,i=t.element;i.style&&(g(t.options.cssProps,function(o,a){n=S(i.style,a),e?(t.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&Ft)&&(o=e.curRecognizer=null);for(var a=0;a<i.length;)n=i[a],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(Lt|Nt|Vt)&&(o=e.curRecognizer=n),a++}},get:function(t){if(t instanceof Ut)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=j(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return g(I(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return g(I(t),function(t){e?n[t]&&n[t].splice(j(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(te,{INPUT_START:V,INPUT_MOVE:F,INPUT_END:q,INPUT_CANCEL:U,STATE_POSSIBLE:Rt,STATE_BEGAN:Lt,STATE_CHANGED:Nt,STATE_ENDED:Vt,STATE_RECOGNIZED:Ft,STATE_CANCELLED:qt,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:G,DIRECTION_RIGHT:W,DIRECTION_UP:Y,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:B,DIRECTION_VERTICAL:K,DIRECTION_ALL:Q,Manager:ee,Input:tt,TouchAction:zt,TouchInput:Et,MouseInput:dt,PointerEventInput:mt,TouchMouseInput:Ot,SingleTouchInput:bt,Recognizer:Ut,AttrRecognizer:Yt,Tap:Zt,Pan:Xt,Swipe:Jt,Pinch:Bt,Rotate:Qt,Press:Kt,on:M,off:O,each:g,merge:b,extend:_,assign:l,inherit:w,bindFn:T,prefixed:S}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=te,(i=function(){return te}.call(e,n,e,t))===s||(t.exports=i)}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(5);var a=new((i=o)&&i.__esModule?i:{default:i}).default;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=v(n(9)),o=v(n(11)),a=v(n(68)),r=v(n(3)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),l=v(n(73)),u=v(n(75)),c=v(n(79)),d=v(n(82)),h=v(n(6)),f=v(n(18)),p=v(n(16));function v(t){return t&&t.__esModule?t:{default:t}}var m={init:function(){this.state={},this.navData=s.dom.nav.data(),this.pageData=s.dom.page.data(),this.pageDuration=s.util.getTransitionDuration(s.dom.page[0]),this.tweenScroll=null,this.$rootPanel=s.dom.main.find(".js-main--garberco"),this.prepPage(),this.bindEmptyHashLinks(),this.initPageController(),s.log("router initialized")},route:function(t){this.controller.getRouter().trigger(t)},push:function(t,e){this.controller.routeSilently(t,e||s.util.noop)},redirect:function(){window.location.href=window.location.origin},initPageController:function(){this.controller=new a.default({}),this.controller.setConfig(["*"]),this.controller.setModules([l.default,u.default,c.default,d.default]),this.controller.on("page-controller-router-transition-out",this.changePageOut.bind(this)),this.controller.on("page-controller-router-refresh-document",this.changeContent.bind(this)),this.controller.on("page-controller-router-transition-in",this.changePageIn.bind(this)),this.controller.on("page-controller-initialized-page",this.initPage.bind(this)),this.controller.on("page-controller-router-samepage",this.samePage.bind(this)),this.controller.initPage()},prepPage:function(){var t=this;this.root=null;var e=window.location.pathname.split("/")[1];"index"!==this.pageData.type?"shop"===e?(this.root="/shop",this.loadRootIndex()):("offcanvas"===this.pageData.type?this.root="/":(this.navData.appTree.forEach(function(e){e.items&&e.items.forEach(function(n){n.collection.id===t.pageData.id&&(t.root=e.collection.fullUrl)})}),s.dom.html.removeClass("hide-index")),this.root=this.root||"/",this.loadRootIndex()):("shop"!==e&&"design"!==e||s.dom.html.addClass("hide-index"),this.root=window.location.pathname),s.dom.root.attr("href",this.root),s.dom.root.on("click",function(){s.dom.html.removeClass(s.config.offcanvasClasses),s.emitter.fire("app--root")}),s.emitter.on("app--project-ended",function(){t.isPop||t.route(t.root)})},initPage:function(){s.dom.nav.detach(),s.env.isConfig()||s.dom.page.detach(),s.dom.html.removeClass("is-clipped"),s.dom.body.removeClass("is-clipped"),window.addEventListener("popstate",this.handlePopstate.bind(this),!1)},samePage:function(){var t=this;window.location.pathname===this.root&&!this.tweenScroll&&this.$rootPanel[0].scrollTop>0&&(this.tweenScroll=new o.default({to:0,from:this.$rootPanel[0].scrollTop,ease:i.default.easeInOutCubic,update:function(e){t.$rootPanel[0].scrollTop=e},complete:function(){t.tweenScroll=null},duration:400}))},handlePopstate:function(){this.isPop=!0;var t=null,e=window.location.pathname.match(/^\/$|^\/about\/$|^\/index\/$/g);e&&e[0]?(e=(e=e[0].replace(/\//g,""))||"garberco",s.dom.main[0].id="is-main--"+e,e===s.config.rootUrlId&&s.dom.html.removeClass(s.config.offcanvasClasses),p.default.isActive()&&s.emitter.fire("app--project-ended"),h.default.close()):((t=(0,r.default)(".js-index-tile[href*='"+window.location.pathname+"']")).trigger("mouseenter"),t.trigger("click")),f.default.close(),this.isPop=!1},loadRootIndex:function(){var t=this;s.api.collection(this.root,{format:"html"},{dataType:"html"}).then(function(e){var n=t.parseDoc(e);s.emitter.fire("app--load-root",n.pageHtml)})},loadFullIndex:function(t){s.api.collection(this.root,{format:"json"},{dataType:"json"}).then(t)},parseDoc:function(t){var e=document.createElement("html"),n=null;return e.innerHTML=t,n=(e=(0,r.default)(e)).find(".js-page"),{$doc:e,$page:n,pageData:n.data(),pageHtml:n[0].innerHTML}},bindEmptyHashLinks:function(){s.dom.body.on("click","[href^='#']",function(t){return t.preventDefault()})},changePageOut:function(){s.dom.html.addClass("is-routing")},changeContent:function(t){var e=this.parseDoc(t.response);s.dom.page[0].innerHTML=e.pageHtml,s.emitter.fire("app--analytics-push",e),this.pageData=e.$page.data()},changePageIn:function(){s.dom.html.removeClass("is-routing")}};e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=c(n(6)),r=c(n(25)),s=c(n(5)),l=c(n(17)),u=c(n(26));function c(t){return t&&t.__esModule?t:{default:t}}var d=!1,h=new s.default,f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d=!0,this.$node=e,this.menu=new r.default(!o.env.isConfig()),this.data=n,this.$plates=this.$node.find(".js-project-plate"),this.$images=this.$node.find(".js-lazy-image"),this.$videos=this.$node.find(".js-video"),this.isEnded=!1,this.bindEvents(),this.loadProject(),this.loadVideos(),o.log("Project",this)}return i(t,[{key:"bindEvents",value:function(){}},{key:"loadProject",value:function(){o.dom.project.elementPane.append(this.$node),o.images.handleImages(this.$images,this.onPreload.bind(this))}},{key:"loadVideos",value:function(){var t=this;this.$videos.forEach(function(e,n){var i=t.$videos.eq(n),o=i.data();i.data("instance",new u.default(i,o))})}},{key:"killVideos",value:function(){var t=this;this.$videos.forEach(function(e,n){var i=t.$videos.eq(n).data();i.instance&&(i.instance.destroy(),i.instance=null)})}},{key:"onPreload",value:function(){l.default.stop(),this.cycleAnimation(),setTimeout(a.default.close(),2*o.dom.project.elementTransitionDuration)}},{key:"cycleAnimation",value:function(){this.onUpdateEmitter(),h.stop(),h.go(this.onUpdateEmitter.bind(this))}},{key:"updatePlates",value:function(){for(var t=null,e=this.$plates.length;e--;)t=this.$plates.eq(e),o.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"updatePosition",value:function(){var t=this.$node[0].getBoundingClientRect();0!==o.dom.project.element[0].scrollTop&&Math.floor(t.bottom)<=0&&!this.isEnded&&(this.isEnded=!0,o.dom.project.element.addClass("is-hidden"),o.emitter.fire("app--project-ended"))}},{key:"onUpdateEmitter",value:function(){this.updatePlates(),this.updatePosition(),o.emitter.fire("app--project-scroll")}},{key:"teardown",value:function(){this.killVideos(),t.close()}}]),t}();f.isActive=function(){return d},f.open=function(){d=!0,l.default.load(),o.dom.html.addClass("is-offcanvas is-offcanvas--project"),o.dom.body.append(o.dom.project.element),setTimeout(function(){return o.dom.project.element.addClass("is-active")},10),setTimeout(function(){return o.dom.project.element.removeClass("is-noscroll")},o.dom.project.elementTransitionDuration)},f.close=function(){d=!1,h.stop(),o.dom.project.element.removeClass("is-active"),setTimeout(function(){o.dom.html.removeClass(o.config.offcanvasClasses),o.dom.project.element.detach().addClass("is-noscroll").removeClass("is-hidden"),o.dom.project.elementPane[0].innerHTML=""},o.dom.project.elementTransitionDuration)},e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=l(n(11)),r=l(n(9)),s=l(n(3));function l(t){return t&&t.__esModule?t:{default:t}}var u=null,c=(0,s.default)('<div class="bar"><div class="bar__inner"></div></div>'),d=c.find(".bar__inner"),h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tween=null,this.timeout=5e3}return i(t,[{key:"append",value:function(){o.dom.body.append(c)}},{key:"load",value:function(){this.append(),this.tween=new a.default({from:0,to:window.innerWidth,update:this.update.bind(this),complete:this.update.bind(this),ease:r.default.easeInOutCubic,duration:this.timeout})}},{key:"stop",value:function(t){this.tween.stop(),this.tween=new a.default({from:this.getFrom(),to:window.innerWidth,update:this.update.bind(this),complete:this.complete.bind(this,t),ease:r.default.easeInOutCubic,duration:50})}},{key:"update",value:function(t){d[0].style.width=o.util.px(t)}},{key:"complete",value:function(t){c.addClass("is-done"),setTimeout(function(){c.detach().removeClass("is-done"),d.attr("style",""),t()},o.util.getTransitionDuration(c[0]))}},{key:"getFrom",value:function(){return d[0].clientWidth}}]),t}(),f={load:function(t,e){(u=new h(t,e)).load()},stop:function(){u&&u.stop(function(){u=null})}};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(n(3)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=f(n(25)),r=f(n(24)),s=f(n(6)),l=f(n(17)),u=f(n(13)),c=f(n(9)),d=f(n(11)),h=f(n(26));function f(t){return t&&t.__esModule?t:{default:t}}var p={init:function(){this.tween=null,this.menu=new a.default(o.dom.gallery.element,!0),this.$image=(0,i.default)(new Image),this.$image[0].className="gallery__image figure__image image",this.videoData=null,this.$videoWrap=(0,i.default)(document.createElement("div")),this.$videoWrap[0].className="_video gallery__video",this.$video=(0,i.default)(document.createElement("video")),this.$video[0].className="_video__element",this.$videoWrap.append(this.$video),o.dom.gallery.elementNode.append(this.$image),o.dom.gallery.elementNode.append(this.$videoWrap),o.detect.isDevice()?this.bindSwipe():this.bindClick()},bindSwipe:function(){this._onTap=this.onTap.bind(this),this._onSwipe=this.onSwipe.bind(this),this._onPanmove=this.onPanmove.bind(this),this._onPanend=this.onPanend.bind(this),this.tap=new u.default(o.dom.gallery.element[0],o.util.getDefaultHammerOptions()),this.tap.on("tap",this._onTap),this.swipe=new u.default(o.dom.gallery.elementNode[0],o.util.getDefaultHammerOptions()),this.swipe.on("panmove",this._onPanmove),this.swipe.on("panend",this._onPanend),this.swipe.on("swipe",this._onSwipe)},bindClick:function(){o.dom.gallery.element.on("click",(0,r.default)(this.onClick.bind(this),200,!0))},onTap:function(t){t.target!==this.$video[0]&&o.emitter.fire("app--gallery-background")},onPanmove:function(t){t.preventDefault(),this.tween||o.util.translate3d(o.dom.gallery.elementNode[0],o.util.px(t.deltaX/3),0,0)},onPanend:function(){var t=this;if(!this.tween){var e=o.util.getTransformValues(o.dom.gallery.elementNode[0]),n=e.x<0;this.tween=new d.default({to:0,from:Math.abs(e.x),ease:c.default.easeInOutCubic,update:function(t){o.util.translate3d(o.dom.gallery.elementNode[0],o.util.px(n?-t:t),0,0)},complete:function(){t.tween=null},duration:200})}},onSwipe:function(t){var e=this;t.preventDefault();var n=o.util.getTransformValues(o.dom.gallery.elementNode[0]),i=t.direction===u.default.DIRECTION_LEFT;this.tween||(this.tween=new d.default({to:window.innerWidth,from:Math.abs(n.x),ease:c.default.easeInOutCubic,update:function(t){o.util.translate3d(o.dom.gallery.elementNode[0],o.util.px(i?-t:t),0,0)},complete:function(){e.empty(),o.emitter.fire("app--gallery-image",i?u.default.DIRECTION_RIGHT:u.default.DIRECTION_LEFT),setTimeout(function(){e.tween=null,o.util.translate3d(o.dom.gallery.elementNode[0],0,0,0)},s.default.isActive()?o.dom.overlay.elementTransitionDuration:10)},duration:200}))},onClick:function(t){t.target===o.dom.gallery.elementNode[0]||s.default.isActive()?this.handleClick(t):o.emitter.fire("app--gallery-background")},handleClick:function(t){var e=(this.videoData?this.$video[0]:this.$image[0]).getBoundingClientRect(),n=null;n=t.clientX<=e.width/2+e.left&&!s.default.isActive()?u.default.DIRECTION_LEFT:u.default.DIRECTION_RIGHT,o.emitter.fire("app--gallery-image",n)},open:function(){this.menu.isActive()||this.menu.open()},close:function(){this.menu.isActive()&&(this.menu.close(),this.empty())},empty:function(){this.$image[0].src="",this.videoData&&(this.$video[0].innerHTML="",this.videoData=null)},setImage:function(t){this.empty();var e=t.data();o.dom.gallery.element.removeClass("is-video"),l.default.load(),this.open(),this.$image.removeAttr(o.config.imageLoaderAttr).attr({"data-img-src":e.imgSrc,"data-variants":e.variants,"data-original-size":e.originalSize}),o.util.loadImages(this.$image,o.util.noop,!0,window.innerWidth).on("done",function(){l.default.stop()})},setVideo:function(t){this.empty(),this.videoData=t;var e=h.default.logVideoFiles(this.videoData),n=h.default.getVideoFile(e);o.dom.gallery.element.addClass("is-video"),this.open(),this.$videoWrap[0].style.paddingBottom=this.videoData.height/this.videoData.width*100+"%",o.detect.isDevice()&&(this.$video[0].setAttribute("poster",this.videoData.pictures.sizes[this.videoData.pictures.sizes.length-1].link),this.$video[0].setAttribute("controls",!0)),this.$video[0].src=n,this.$video[0].load(),this.$video[0].play()}};e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(10)),o=a(n(8));function a(t){return t&&t.__esModule?t:{default:t}}var r={init:function(){this._isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this._isMobile=/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|Opera Mini/gi.test(window.navigator.userAgent),this._isTouch?i.default.html.addClass("is-touchable"):i.default.html.addClass("is-hoverable"),(0,o.default)("detect initialized")},isMobile:function(){return this._isMobile},isTouch:function(){return this._isTouch},isDevice:function(){return this.isTouch()&&this.isMobile()},isStandalone:function(){return"standalone"in window}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="development",o="production",a={DEV:i,PROD:o,ENV:/^localhost|squarespace|^[0-9]{0,3}\.[0-9]{0,3}\.[0-9]{0,3}\.[0-9]{0,3}/g.test(document.domain)?i:o,isConfig:function(){return-1!==window.parent.location.pathname.indexOf("/config")},isDev:function(){return this.ENV===i},isProd:function(){return this.ENV===o}};e.default=a},function(t,e,n){var i;t.exports=(i=function(t){var e=decodeURIComponent(t).match(/[#|?].*$/g),n={};if(e)for(var i=(e=(e=e[0].replace(/^\?|^#|^\/|\/$|\[|\]/g,"")).split("&")).length;i--;){var o=e[i].split("="),a=o[0],r=o[1];n[a]?("[object Array]"!=={}.toString.call(n[a])&&(n[a]=[n[a]]),n[a].push(r)):n[a]=r}return n},"undefined"!=typeof $&&($.paramalama=i),i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(8),r=(i=a)&&i.__esModule?i:{default:i};var s,l=null,u=!1,c={},d=window.sessionStorage,h=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l||(l=this,this._opts=e,this._init()),l}return o(t,[{key:"_init",value:function(){u||(u=!0,this.flush(),(0,r.default)("Singleton Store initialized",this))}},{key:"flush",value:function(){c={},this.save()}},{key:"save",value:function(){this._opts.enableStorage&&t.isStorageSupported?d.setItem("app-cache",JSON.stringify(c)):(0,r.default)("Cache Storage disabled - Not writing to SessionStorage")}},{key:"slug",value:function(t){return t=t.replace(/^\/|\/$/g,"").replace(/\/|\?|&|=|\s/g,"-").toLowerCase()}},{key:"set",value:function(t,e){t=this.slug(t),c[t]=e,this.save()}},{key:"get",value:function(t){return(t=t&&this.slug(t))?this.getValue(c[t]):c}},{key:"getValue",value:function(t){return t}},{key:"remove",value:function(t){delete c[t]}}]),t}();h.crumb=(s=RegExp("(^|; )"+encodeURIComponent("crumb")+"=([^;]*)").exec(document.cookie))?s[2]:null,h.isStorageSupported=function(){var t=!0;try{d.setItem("app-test",1),d.removeItem("app-test")}catch(e){t=!1}return t}(),e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(65);var a=new((i=o)&&i.__esModule?i:{default:i}).default;e.default=a},function(t,e,n){
/*!
 *
 * Debounce methods
 * Sourced from here:
 * http://unscriptable.com/2009/03/20/debouncing-javascript-methods/
 *
 * @debounce
 * @author: kitajchuk
 *
 */
t.exports=function(t,e,n){var i=null;return function(){var o=arguments,a=this;i?clearTimeout(i):n&&t.apply(a,o),i=setTimeout(function(){n||t.apply(a,o),i=null},e||100)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.tDuration=o.util.getTransitionDuration(this.$node[0]),this.isOpen=!1,this.isDetach=n,this.isDetach&&this.$node.detach()}return i(t,[{key:"open",value:function(){var t=this;this.isOpen=!0,o.dom.html.addClass("is-menu-open"),this.isDetach&&o.dom.body.append(this.$node),o.emitter.fire("app--menu-opened"),setTimeout(function(){return t.$node.addClass("is-active")},10),setTimeout(function(){t.$node.addClass("is-active-events"),o.dom.html.addClass("is-clipped"),o.dom.body.addClass("is-clipped")},2*this.tDuration)}},{key:"close",value:function(){var t=this;this.$node.removeClass("is-active is-active-events"),o.dom.html.removeClass("is-clipped"),o.dom.body.removeClass("is-clipped"),o.emitter.fire("app--menu-closed"),setTimeout(function(){t.isOpen=!1,o.dom.html.removeClass("is-menu-open"),t.isDetach&&t.$node.detach()},2*this.tDuration)}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"isActive",value:function(){return this.isOpen}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=s(n(27)),r=s(n(78));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.$video=this.$node.find(".js-video-element"),this.$poster=this.$node.find(".js-video-poster"),this.$playback=this.$node.find(".js-video-playback"),this.data=n,this._files={},this._video=null,this.loadVimeoData()}return i(t,[{key:"loadVimeoData",value:function(){var t=this,e=this.data.vimeoUrl.split("/").pop();o.api.vimeo(e).then(function(e){t.handleVimeoData(e)})}},{key:"handleVimeoData",value:function(e){this.vData=e,this._files=t.logVideoFiles(e),this.data.sourceUrl=t.getVideoFile(this._files),this.data.posterUrl=this.vData.pictures.sizes[this.vData.pictures.sizes.length-1].link,o.detect.isDevice()?this.initMobile():this.initVideo(),this.applyAspect(),this.createMediaNode(this.data.id,this.data.sourceUrl,this.$video[0])}},{key:"initMobile",value:function(){this.$video[0].setAttribute("controls",!0),this.$video[0].setAttribute("loop",!1),this.$video[0].setAttribute("poster",this.data.posterUrl),this.$poster.remove(),this.$playback.remove()}},{key:"initVideo",value:function(){var t=this;this.$video.on("loadedmetadata",function(){t.data.autoplayLoop?t.bindAutoplayLoop():t.data.clickToPlay&&(t.loadThumbFile(),t.bindClickToPlay())})}},{key:"loadThumbFile",value:function(){this.$poster.attr("data-img-src",this.data.posterUrl),o.util.loadImages(this.$poster)}},{key:"bindAutoplayLoop",value:function(){this._autoplayHandler=new r.default(this.$node,this.data.id)}},{key:"bindClickToPlay",value:function(){var t=this;this.$video.on("click",function(){a.default.isPlaying(t.data.id)?(t.$node.removeClass("is-playing"),a.default.stopMedia(t.data.id)):(t.$node.addClass("is-playing"),a.default.playMedia(t.data.id))}),a.default.addMediaEvent(this.data.id,"play",function(){t.$node.addClass("is-active")}),a.default.addMediaEvent(this.data.id,"ended",function(){a.default.stopMedia(t.data.id).setMediaProp(t.data.id,"currentTime",0),t.$node.removeClass("is-active is-playing")})}},{key:"createMediaNode",value:function(t,e,n){a.default.addVideo({id:t,src:e.split(","),element:n,channel:"vid"})}},{key:"applyAspect",value:function(){this.$node[0].style.paddingBottom=this.vData.height/this.vData.width*100+"%"}},{key:"destroy",value:function(){this.$video.off("click loadedmetadata"),this._autoplayHandler&&this._autoplayHandler.destroy(),a.default.getMedia(this.data.id)&&a.default.destroyMedia(this.data.id)}}]),t}();l.logVideoFiles=function(t){for(var e=t.files.length,n={};e--;)(!n[t.files[e].quality]||n[t.files[e].quality]&&t.files[e].size>n[t.files[e].quality].size)&&(n[t.files[e].quality]=t.files[e]);return n},l.getVideoFile=function(t){return(o.detect.isDevice()?t.mobile||t.sd:t.hd||t.sd).link},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(77);var a=new((i=o)&&i.__esModule?i:{default:i}).default;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=c(n(15)),r=c(n(6)),s=c(n(18)),l=c(n(83)),u=c(n(84));function c(t){return t&&t.__esModule?t:{default:t}}n(85);var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.core=o,this.main=u.default,this.router=a.default,this.overlay=r.default,this.gallery=s.default,this.intro=l.default,this.analytics=new o.Analytics,this.core.dom.page.length&&(this.bindEvents(),this.initModules()),o.env.isConfig()&&o.dom.html.addClass("is-config"),o.log("App",this)}return i(t,[{key:"initModules",value:function(){this.core.detect.init(this),this.core.resizes.init(this),this.main.init(this),this.router.init(this),this.overlay.init(this),this.gallery.init(this)}},{key:"bindEvents",value:function(){this._onPreloadDone=this.onPreloadDone.bind(this),this.core.emitter.on("app--preload-done",this._onPreloadDone)}},{key:"onPreloadDone",value:function(){this.core.emitter.off("app--preload-done",this._onPreloadDone),this.intro.teardown()}}]),t}();window.app=new d,e.default=window.app},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){
/*!
 *
 *
 * Hobo
 * A very small, modular DOM utility for modern web apps.
 * @hobo-dist npm run build -- is eq not one next prev attr last first index parent filter detach append remove trigger prepend closest children removeAttr toggleClass
 *
 * @links
 * https://developer.mozilla.org/en-US/docs/Web/API/Node
 * https://developer.mozilla.org/en-US/docs/Web/API/Element
 * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll
 *
 * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest
 *
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise
 * https://github.com/jakearchibald/es6-promise
 * http://www.html5rocks.com/en/tutorials/es6/promises/
 *
 *
 */
var i,o;t.exports=(i=n(1),o=n(2),i.prototype.on=n(31),i.prototype.off=n(32),i.prototype.data=n(33),i.prototype.find=n(34),i.prototype.addClass=n(35),i.prototype.removeClass=n(36),i.prototype.is=n(37),i.prototype.eq=n(38),i.prototype.not=n(39),i.prototype.one=n(40),i.prototype.next=n(41),i.prototype.prev=n(42),i.prototype.attr=n(43),i.prototype.last=n(44),i.prototype.first=n(45),i.prototype.index=n(46),i.prototype.parent=n(47),i.prototype.filter=n(48),i.prototype.detach=n(49),i.prototype.append=n(50),i.prototype.remove=n(51),i.prototype.trigger=n(52),i.prototype.prepend=n(53),i.prototype.closest=n(54),i.prototype.children=n(55),i.prototype.removeAttr=n(56),i.prototype.toggleClass=n(57),hobo=function(t,e){return new i(t,e)},hobo.ajax=n(58),hobo.utils=o,hobo)},function(t,e,n){var i=n(4),o=n(2);t.exports=function(t,e,n){var a=this;return n||(n=e,e=this._selector),t.split(" ").forEach(function(t){a._events[t]||(a._events[t]={}),a.forEach(function(r){(function(t,e,n,a){var r=o.makeId()+"EVENT",s=e,l=function(t){var o=n?i(t.target,n,!0):this;if("mouseenter"===e||"mouseleave"===e){var r="mouseenter"===e?t.fromElement:t.toElement;o&&r!==o&&!o.contains(r)&&a.call(o,t)}else o&&a.call(o,t)};"mouseenter"===e?s="mouseover":"mouseleave"===e&&(s="mouseout"),this._events[e][r]={id:r,type:s,node:t,handler:l,callback:a},t.addEventListener(s,l,!1)}).call(a,r,t,e,n)})}),this}},function(t,e){t.exports=function(t,e){var n=this;return(t?t.split(" "):[null]).forEach(function(t){n.forEach(function(i){null===t?function(t){var e,n,i;for(e in this._events)if(this._events.hasOwnProperty(e))for(i in this._events[e])this._events[e].hasOwnProperty(i)&&(n=this._events[e][i]).node===t&&(t.removeEventListener(n.type,n.handler,!1),delete this._events[e][i])}.call(n,i):function(t,e,n){var i,o;if(n)for(o in this._events[e])this._events[e].hasOwnProperty(o)&&(i=this._events[e][o]).node===t&&i.callback===n&&(t.removeEventListener(i.type,i.handler,!1),delete this._events[e][o]);else for(o in this._events[e])this._events[e].hasOwnProperty(o)&&(i=this._events[e][o]).node===t&&(t.removeEventListener(i.type,i.handler,!1),delete this._events[e][o])}.call(n,i,t,e)})}),this}},function(t,e,n){var i=n(2);t.exports=function(t,e){var n=this,o=null;return"object"==typeof t?(o=t,this.forEach(function(t){i.storeData(o,t)})):e?((o={})[t]=e,this.forEach(function(t){i.storeData(o,t)})):t?(this.forEach(function(e){null===o&&(o=i.retrieveData(t,e))}),n=o):(o={},this.forEach(function(t){i.mergeData(o,t)}),n=o),n}},function(t,e,n){var i=n(1),o=n(2);t.exports=function(t){var e=this;return this.length>1?(e=[],this.forEach(function(n){e=e.concat(o.makeArray(n.querySelectorAll(t)))}),e=new i(e,null)):e=new i(this.length?t:[],this.length?this[0]:null),e}},function(t,e,n){var i=n(2);t.exports=function(t){return this.forEach(function(e){var n=t.split(" "),o=i.getClass(e).split(" ");n.forEach(function(t){-1===o.indexOf(t)&&o.push(t)}),i.setClass(e,i.trimString(o.join(" ")))}),this}},function(t,e,n){var i=n(2);t.exports=function(t){return this.forEach(function(e){if(void 0===t)i.setClass(e,"");else{var n=t.split(" "),o=i.getClass(e).split(" ");n.forEach(function(t){-1!==o.indexOf(t)&&o.splice(o.indexOf(t),1)}),i.setClass(e,i.trimString(o.join(" ")))}}),this}},function(t,e,n){n(1);var i=n(4);t.exports=function(t){return!!i(this[0],t)}},function(t,e,n){var i=n(1);t.exports=function(t){return t<this.length?new i(this[t],this._context):this}},function(t,e,n){var i=n(4),o=n(1);t.exports=function(t){var e=new o([],this._context);return t instanceof o?this.forEach(function(n){var i=!0;t.forEach(function(t){n===t&&(i=!1)}),i&&e.push(n)}):this.forEach(function(n,o){"function"==typeof t?t(o,n)&&e.push(n):i(n,t)||e.push(n)}),e}},function(t,e,n){n(4),n(2);t.exports=function(t,e,n){var i=this;return n||(n=e,e=this._selector),this.on(t,e,function e(o){n.call(this,o),i.off(t,e)})}},function(t,e,n){var i=n(1),o=n(4);t.exports=function(t){var e=[];return this.forEach(function(n){for(var i=n.nextSibling;i&&1!==i.nodeType;)i=i.nextSibling;i&&(!t||t&&o(i,t))&&e.push(i)}),new i(e,this._context)}},function(t,e,n){var i=n(1),o=n(4);t.exports=function(t){var e=[];return this.forEach(function(n){for(var i=n.previousSibling;i&&1!==i.nodeType;)i=i.previousSibling;i&&(!t||t&&o(i,t))&&e.push(i)}),new i(e,this._context)}},function(t,e,n){var i=n(2),o=function(t,e,n){if(t.setAttribute(e,n),i.rData.test(e)){var o={};o[e.replace(i.rData,"")]=n,i.storeData(o,t)}};t.exports=function(t,e){var n=this;if("object"==typeof t)for(var i in t)this.forEach(function(e){o(e,i,t[i])});else void 0!==e?this.forEach(function(n){o(n,t,e)}):n=this[0].getAttribute(t);return n}},function(t,e,n){var i=n(1);t.exports=function(){return new i(this[this.length-1],this._context)}},function(t,e,n){var i=n(1);t.exports=function(){return new i(this[0],this._context)}},function(t,e){t.exports=function(){return[].indexOf.call(this[0].parentNode.children,this[0])}},function(t,e,n){var i=n(1),o=n(4);t.exports=function(t){var e=[];return this.forEach(function(n){(!t||t&&o(n.parentNode,t))&&e.push(n.parentNode)}),new i(e,null)}},function(t,e,n){var i=n(1),o=n(4);t.exports=function(t){var e=[];return this.forEach(function(n){o(n,t)&&e.push(n)}),new i(e,null)}},function(t,e){t.exports=function(){return this.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)}),this}},function(t,e,n){var i=n(1);t.exports=function(t){return"string"==typeof t&&(t=new i(t)),this.forEach(function(e){t instanceof i||t.length&&"function"==typeof t.forEach?t.forEach(function(t){t.nodeType&&1===t.nodeType&&e.appendChild(t)}):t.nodeType&&e.appendChild(t)}),this}},function(t,e){t.exports=function(){return this.off(),this.forEach(function(t){delete t.hoboDataMap,t.parentNode&&t.parentNode.removeChild(t)}),this}},function(t,e){t.exports=function(t){var e,n,i=this;return this.forEach(function(o){for(n in i._events[t])i._events[t].hasOwnProperty(n)&&(e=i._events[t][n]).node===o&&((e=document.createEvent("Events")).initEvent(t,!0,!1),o.dispatchEvent(e))}),this}},function(t,e,n){var i=n(1);t.exports=function(t){return"string"==typeof t&&(t=new i(t)),this.forEach(function(e){t instanceof i||t.length&&"function"==typeof t.forEach?t.forEach(function(t){t.nodeType&&1===t.nodeType&&e.insertBefore(t,e.firstChild)}):t.nodeType&&e.insertBefore(t,e.firstChild)}),this}},function(t,e,n){var i=n(1),o=n(4);t.exports=function(t){var e=[];return this.forEach(function(n){var i=o(n,t,!0);i&&e.push(i)}),new i(e,null)}},function(t,e,n){var i=n(1);n(2);t.exports=function(){var t,e,n=[];return this.forEach(function(i){for(e=0,t=i.children.length;e<t;e++)n.push(i.children[e])}),new i(n,this._context)}},function(t,e,n){var i=n(2);t.exports=function(t){return this.forEach(function(e){e.removeAttribute(t),i.rData.test(t)&&i.removeData(t.replace(i.rData,""),e)}),this}},function(t,e,n){var i=n(1),o=n(4);t.exports=function(t){return t=t.split(" "),this.forEach(function(e){t.forEach(function(t){o(e,"."+t)?new i(e,null).removeClass(t):new i(e,null).addClass(t)})}),this}},function(t,e,n){var i=n(2),o=function(){var t=this;this._promise=new Promise(function(e,n){t._resolve=e,t._reject=n})};o.prototype.then=function(t){return this._then=t,this},o.prototype.catch=function(t){return this._catch=t,this},o.prototype.resolve=function(t){return this._then&&(this._then(t),this._resolve(t)),this},o.prototype.reject=function(t){return this._catch&&(this._catch(t),this._reject(t)),this},o.prototype.abort=function(){return this._xhr&&(this._reject("Rejecting on XMLHttpRequest.abort()"),this._xhr.abort()),this},t.exports=function(t){var e=t.data||null,n=t.dataType||"html",a=(t.method||"GET").toUpperCase(),r=t.url||window.location.href,s=t.headers||null,l=t.payload||null,u=new o;!e||FormData&&e instanceof FormData||(e=i.serializeData(t.data)),l&&"string"!=typeof l&&(l=JSON.stringify(l)),"GET"===a&&e&&(r+="?"+e);var c=function(t){if("json"===n)try{t=JSON.parse(t)}catch(e){u.reject(t)}u.resolve(t)};if("jsonp"===n){var d=i.makeId()+"JSONP",h=t.jsonp||"callback",f=document.createElement("script");f.src=r+(/\?/.test(r)?"&":"?")+h+"="+d,window[d]=function(t){document.getElementsByTagName("head")[0].removeChild(f),f=null,delete window[d],c(t)},document.getElementsByTagName("head")[0].appendChild(f)}else{var p=new XMLHttpRequest;if(p.open(a,r,!0),s)for(var v in s)s.hasOwnProperty(v)&&p.setRequestHeader(v,s[v]);p.onreadystatechange=function(t){4===this.readyState&&(/^20/.test(this.status)?c(this.responseText):u.reject(this.responseText))},p.send(e||l),u._xhr=p}return u}},function(t,e,n){
/*!
 *
 * Handle lazy-loading images with contextual load conditions.
 *
 * @ImageLoader
 * @author: kitajchuk
 *
 *
 */
var i,o;t.exports=(i=n(5),((o=function(t){if(!t)throw new Error("ImageLoader Class requires options to be passed");if(i.call(this),this._executor=t.executor||function(t){return t},this._elements=t.elements,this._property=t.property||"data-src",this._loadType=t.loadType||"async",this._numLoaded=0,this._num2Load=this._elements?this._elements.length:0,this._transitionDelay=t.transitionDelay||0,this._transitionDuration=t.transitionDuration||400,this._resolved=!1,!this._elements.length)return this;"async"===this._loadType?this.initAsync():this.initSync()}).prototype=Object.create(i.prototype)).initAsync=function(){var t=this;this.go(function(){t._resolved?t.stop():t.handle()})},o.prototype.initSync=function(){var t=this;!function e(){var n=t._elements[t._numLoaded];t._numLoaded++,t.load(n,function(n){n||t._resolved||e()})}()},o.prototype.load=function(t,e){var n=this,i=null,o=null,a="IMG"===t.nodeName,r=t.getAttribute(this._property);return t.setAttribute("data-imageloader",!0),i=a?t:new Image,o=setTimeout(function(){clearTimeout(o),i.onload=function(){n.fire("load",t),a||(t.style.backgroundImage="url("+r+")",i=null),o=setTimeout(function(){clearTimeout(o),n._numLoaded!==n._num2Load||n._resolved?"function"==typeof e&&e(!1):n._resolve(!0)},n._transitionDuration)},i.onerror=function(){n.fire("error",t),n._numLoaded!==n._num2Load||n._resolved?"function"==typeof e&&e(!0):n._resolve(!0)},i.src=r},this._transitionDelay),this},o.prototype.handle=function(){for(var t=this.getNotLoaded(),e=0,n=t.length;e<n;e++)this._executor(t[e])&&(this._numLoaded++,this.load(t[e]))},o.prototype.getNotLoaded=function(){for(var t=[],e=0,n=this._elements.length;e<n;e++)this._elements[e].getAttribute("data-imageloader")||t.push(this._elements[e]);return t},o.prototype._resolve=function(){this._resolved=!0,this.fire("done")},o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(10)),o=s(n(12)),a=s(n(14)),r=s(n(61));function s(t){return t&&t.__esModule?t:{default:t}}var l={handlePreload:function(t){"function"==typeof t&&t(),a.default.fire("app--preload-done")},handleLazyload:function(){a.default.fire("app--lazyload-done")},handleImages:function(t,e){if((t=t||i.default.page.find(o.default.lazyImageSelector)).length){var n=new r.default(t);n.on("preload",this.handlePreload.bind(this,e)),n.on("lazyload",this.handleLazyload.bind(this))}else this.handlePreload(e)}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=s(n(8)),r=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.$preload=o.getElementsInView(t),n.$lazyload=t.not(n.$preload),n.$preload.length?n.handlePreload():n.fire("preload"),n.$lazyload.length&&n.handleLazyload(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),i(e,[{key:"handlePreload",value:function(){var t=this;(0,a.default)("ImageController preload queue:",this.$preload.length),this.preLoader=o.loadImages(this.$preload,o.noop),this.preLoader.on("done",function(){(0,a.default)("ImageController preloaded:",t.$preload.length),t.fire("preload")})}},{key:"handleLazyload",value:function(){var t=this;(0,a.default)("ImageController lazyload queue:",this.$lazyload.length),this.lazyLoader=o.loadImages(this.$lazyload,o.isElementLoadable),this.lazyLoader.on("done",function(){(0,a.default)("ImageController lazyloaded:",t.$lazyload.length),t.fire("lazyload")})}}]),e}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(3)),o=r(n(21)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));function r(t){return t&&t.__esModule?t:{default:t}}var s=/^\/|\/$/g,l={data:{squarespace:{url:location.origin,api:[location.origin,"api"].join("/")}},dataType:"json",format:"json",method:"GET",endpoint:function(t){return[this.data.squarespace.url,t.replace(s,"")].join("/")},apipoint:function(t){return[this.data.squarespace.api,t.replace(s,"")].join("/")},request:function(t,e,n){var o=a.extendObject({format:this.format,nocache:!0},e),r=a.extendObject({url:t,data:o,dataType:this.dataType,method:this.method},n);return i.default.ajax(r)},collection:function(t,e,n){var i=this;return new Promise(function(r,s){var l={},u=t.split("?")[0];e=a.extendObject({},e),(e=a.extendObject(e,(0,o.default)(t))).tag&&(e.tag=e.tag.replace(/\+/g," ")),e.category&&(e.category=e.category.replace(/\+/g," ")),i.request(i.endpoint(u),e,n).then(function(t){"string"==typeof t?r(t):(l={collection:t.collection,item:t.item||null,items:t.items||null,pagination:t.pagination||null},r(l))}).catch(function(t){s(t)})})},vimeo:function(t){return i.default.ajax({url:"https://api.vimeo.com/videos/"+t,method:"GET",data:{access_token:"4fe810e95b5a32a53133739750ef23e4"},dataType:"json"})}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(22),a=(i=o)&&i.__esModule?i:{default:i};e.default=new a.default({enableStorage:!1})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=s(n(3)),r=s(n(22));function s(t){return t&&t.__esModule?t:{default:t}}var l=null,u=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l||(o.emitter.on("app--analytics-push",this.pushTrack.bind(this)),o.log("Analytics initialized"),this.apiEndpoint="/api/census/RecordHit",l=this),l}return i(t,[{key:"pushTrack",value:function(t){var e=t.pageData.itemTitle||t.pageData.collectionTitle,n=t.pageData.websiteId,i=t.pageData.itemId?{itemId:t.pageData.itemId}:{collectionId:t.pageData.collectionId};o.env.isProd()&&this.recordHit(n,i,e).then(function(t){o.log("Analytics",t)}).catch(function(t){o.log("warn",t)}),this.setDocumentTitle(e)}},{key:"setDocumentTitle",value:function(t){document.title=t}},{key:"recordHit",value:function(t,e,n){var i={url:window.location.href,queryString:window.location.search,userAgent:window.navigator.userAgent,referrer:"",localStorageSupported:r.default.isStorageSupported,viewportInnerHeight:window.innerHeight,viewportInnerWidth:window.innerWidth,screenHeight:window.screen.height,screenWidth:window.screen.width,title:n,websiteId:t,templateId:t};return e.itemId?i.itemId=e.itemId:i.collectionId=e.collectionId,a.default.ajax({url:this.apiEndpoint+"?crumb="+r.default.crumb,method:"POST",data:{event:"View",data:JSON.stringify(i)},dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}]),t}();e.default=u},function(t,e,n){
/*!
 *
 * Window resize / orientationchange event controller
 *
 * @ResizeController
 * @author: kitajchuk
 *
 *
 */
var i,o,a,r,s;t.exports=(i=n(5),o="orientation"in window,a=null,r=null,((s=function(){return r||(a=(r=this).getViewport(),this.go(function(){var t=r.getViewport(),e=(t.width===a.width&&(t.height,a.height),t.width!==a.width||t.height!==a.height),n=t.width>a.width||t.height>a.height,i=t.width<a.width||t.height<a.height,o=t.width!==a.width,s=t.height!==a.height,l=t.orient!==a.orient,u=t.orient!==a.orient&&90!==t.orient,c=t.orient!==a.orient&&90===t.orient;e&&r.fire("resize"),i?r.fire("resizedown"):n&&r.fire("resizeup"),o?r.fire("resizewidth"):s&&r.fire("resizeheight"),l&&r.fire("orientationchange"),u?r.fire("orientationportrait"):c&&r.fire("orientationlandscape"),a=t})),r}).prototype=new i).getViewport=function(){return{width:window.innerWidth,height:window.innerHeight,orient:o?Math.abs(window.orientation):null}},s.prototype.isPortrait=function(){var t=this.getViewport().orient;return null!==t&&90!==t},s.prototype.isLandscape=function(){var t=this.getViewport().orient;return null!==t&&90===t},s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(8)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),a=u(n(14)),r=u(n(23)),s=u(n(67)),l=u(n(24));function u(t){return t&&t.__esModule?t:{default:t}}var c={init:function(){r.default.on("resize",(0,s.default)(h,50)),r.default.on("resizewidth",(0,l.default)(d,300)),(0,i.default)("resizes initialized")}},d=function(){a.default.fire("app--resize-debounced"),o.updateImages()},h=function(){a.default.fire("app--resize")};e.default=c},function(t,e,n){
/*!
 *
 * Throttle callbacks
 *
 * @throttle
 * @author: kitajchuk
 *
 */
t.exports=function(t,e){var n=!1;return function(){n||(t.call(),n=!0,setTimeout(function(){n=!1},e||100))}}},function(t,e,n){
/*!
 *
 * Asynchronous webpage transitioning with pushstate management.
 *
 * @PageController
 * @author: kitajchuk
 *
 * @module
 * - init
 * - isActive
 * - onload
 * - unload
 *
 *
 */
var i,o,a,r,s,l,u,c,d,h,f,p,v,m,g,y,_,b,w,T,E,P,M,O,C,D,I;t.exports=(i=n(69),o=n(5),a=null,r=[],s=[],l={active:[],inactive:[]},u=!1,c=null,d=null,h=!0,f=null,p=null,v=!1,m=!1,g=null,y=!1,_=null,b=function(t,e){m||_.fire("page-controller-"+t,e)},w=function(t){return"function"==typeof t},T=function(){if(!m)for(var t=l.active.length;t--;)w(l.active[t].onload)&&l.active[t].onload()},E=function(t){var e,n=t.uri;for(e in t.query)n+="-"+e+"-"+t.query[e];for(e in t.params)n+="-"+e+"-"+t.params[e];return n},P=function(){if(!m){l.active=[],l.inactive=[];for(var t=s.length;t--;){var e=s[t];w(e.isActive)&&(e.isActive()?l.active.push(e):l.inactive.push(e))}b("router-synced-modules",l)}},M=function(t){y||(y=!0,_.go(function(){Date.now()-c>=_._options.transitionTime&&(_.stop(),D(t))}))},O=function(t){y||(C(t.request),setTimeout(function(){D(t)},_._options.transitionTime))},C=function(t){if(!y){var e=p===E(t);if(e)return b("router-samepage",{request:t}),void(v=!0);c=Date.now(),h||b("router-transition-out",{request:t})}},D=function(t){if(v)return v=!1,void(y=!1);var e={response:t.response.responseText,request:t.request,status:t.status};d=e.request.uri,f=e.request.query,p=E(e.request),h?(h=!1,y=!1,P(),T(),b("initialized-page",e)):setTimeout(function(){P(),function(){if(!m)for(var t=l.active.length;t--;)w(l.active[t].unload)&&l.active[t].unload()}(),b("router-refresh-document",e),P(),T(),b("router-transition-in",e),y=!1,m&&(m=!1,w(g)&&(g(e),g=null))},_._options.transitionTime)},((I=function(t){if(!_&&(_=this,this._options={transitionTime:0,routerOptions:{pushStateOptions:{}}},(t=t||{}).transitionTime&&(this._options.transitionTime=t.transitionTime),t.routerOptions))for(var e in t.routerOptions)this._options.routerOptions[e]=t.routerOptions[e];return _}).prototype=new o).initPage=function(){if(!u&&(u=!0,(a=new i(this._options.routerOptions))._matcher.parse(window.location.href,r).matched)){a.bind();for(var t=r.length;t--;)a.get(r[t],M);a.on("preget",C),a.on("popget",O),function(t){for(var e=s.length;e--;)!s[e].__initialized&&w(s[e].init)&&(s[e].__initialized=!0,s[e].init())}()}},I.prototype.routeSilently=function(t,e){m=!0,g=e,a.trigger(t)},I.prototype.setConfig=function(t){r=t},I.prototype.setModules=function(t){if(t)for(var e=t.length;e--;)this.addModule(t[e])},I.prototype.addModule=function(t){if(!(-1===s.indexOf(t)&&w(t.isActive)&&w(t.onload)&&w(t.unload)))throw new Error("PageController ERROR - All registered modules require isActive, onload and unload methods.");s.push(t)},I.prototype.getModules=function(){return s},I.prototype.getConfig=function(){return r},I.prototype.getRouter=function(){return a},I.prototype.getPusher=function(){return a._pusher},I.prototype.getMatcher=function(){return a._matcher},I.prototype.getRoute=function(){return d},I.prototype.getQuery=function(){return f},I)},function(t,e,n){
/*!
 *
 * Handles basic get routing
 *
 * @Router
 * @author: kitajchuk
 *
 */
var i,o,a,r,s,l;t.exports=(a=n(70),r=n(71),s=n(72),(l=function(){return this.init.apply(this,arguments)}).prototype={constructor:l,_rHTTPs:/^http[s]?:\/\/.*?\//,_rFiles:/\.(jpg|jpeg|png|gif|pdf|csv|txt|md|doc|docx|xls|xlsx|webm|mp4|mp3)$/gi,_rDomain:new RegExp(document.domain),_isRouting:!1,init:function(t){for(var e in this._options={async:!0,proxy:!1,caching:!0,handle404:!0,handle500:!0,pushStateOptions:{}},t=t||{})this._options[e]=t[e];this._matcher=new r,this._pusher=new a(this._options.pushStateOptions),this._callbacks={},this._responses={},this._uid=0,this._ready=!1},bind:function(){var t=this,e=window.location.href.replace(window.location.hash,"");document.addEventListener("click",function(e){t._handleClick(this,e)},!1),this._pusher.on("popstate",function(e,n){t._handlePopstate(e,n)}),this._options.async&&this._options.handle404?this._route(e,function(e,n){t._ready=!0}):setTimeout(function(){var n={status:200,responseText:(new XMLSerializer).serializeToString(document)};t._fire("get",e,n,n.status),t._cache(e,n),t._ready=!0},200)},on:function(t,e){this._bind(t,e)},off:function(t,e){this._unbind(t,e)},trigger:function(t){i||(i=document.createElement("a")),i.href=t,this._handleClick(i,{target:i})},get:function(t,e){this._matcher.config([t]),e._routerRoutes?e._routerRoutes.push(t):e._routerRoutes=[t],1===e._routerRoutes.length&&this._bind("get",e)},getActiveEl:function(){return o},getRouteForUrl:function(t){return this._matcher._cleanRoute(t)},getRouteDataForUrl:function(t){return this._matcher.parse(t,this._matcher.getRoutes()).params},getUID:function(){return this._uid=this._uid+1,this._uid},_preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},_handleClick:function(t,e){var n=s(t,"a",!0)||s(e.target,"a",!0),i=n&&this._matcher.test(n.href),a=n&&this._rDomain.test(n.href),r=n&&this._options.proxy&&this._options.proxy.domain,l=n&&-1!==n.href.indexOf("#"),u=n&&-1!==n.className.indexOf("js-router--ignore"),c=n&&e.metaKey,d=n&&"_blank"===n.target,h=n&&a&&n.href.match(this._rFiles);(i&&a||r)&&(l||u||c||d||h||(o=n,this._preventDefault(e),this._isRouting||this._route(n.href)))},_handlePopstate:function(t,e){if(this._ready){for(var n=this._callbacks.get.length;n--;){var i=this._matcher.parse(t,this._callbacks.get[n]._routerRoutes);if(i.matched)break}data={route:this._matcher._cleanRoute(t),response:this._responses[t],request:i,status:this._responses[t].status},this._fire("popget",t,data)}else this._ready=!0},_route:function(t,e){var n=this,i={request:t,original:t};this._isRouting=!0,this._matchUrl(i.original),this._options.proxy&&this._options.proxy.domain&&(i.request=this._options.proxy.domain+"/"+i.request.replace(this._rHTTPs,"")),this._getUrl(i,function(t,o){n._isRouting=!1,n._pusher.push(i.original),n._fire("get",i.original,t,o),"function"==typeof e&&e(t,o)})},_matchUrl:function(t){if(this._ready)for(var e=this._callbacks.get.length;e--;){var n=this._matcher.parse(t,this._callbacks.get[e]._routerRoutes);if(n.matched){this._fire("preget",t,n);break}}},_getUrl:function(t,e){var n=function(n,i){try{o._cache(t.original,n),"function"==typeof e&&e(n,i)}catch(t){}},i=null,o=this;this._responses[t.original]?n(this._responses[t.original],this._responses[t.original].status):this._options.async?((i=new XMLHttpRequest).open("GET",t.request,!0),i.onreadystatechange=function(t){4===this.readyState&&(200===this.status?n(this,200):404===this.status&&o._options.handle404?n(this,404):500===this.status&&o._options.handle500&&n(this,500))},i.send()):n({responseText:""},200)},_cache:function(t,e){this._options.caching&&!this._responses[t]&&(this._responses[t]=e)},_bind:function(t,e){"function"==typeof e&&(this._callbacks[t]||(this._callbacks[t]=[]),e._jsRouterID=this.getUID(),this._callbacks[t].push(e))},_unbind:function(t,e){if(!this._callbacks[t])return this;if(e){for(var n=0,i=this._callbacks[t].length;n<i;n++)if(e._jsRouterID===this._callbacks[t][n]._jsRouterID){this._callbacks[t].splice(n,1);break}}else{for(var o=this._callbacks[t].length;o--;)this._callbacks[t][o]=null;delete this._callbacks[t]}},_fire:function(t,e,n,i){var o;if("get"===t)for(o=this._callbacks[t].length;o--;){var a=this._matcher.parse(e,this._callbacks[t][o]._routerRoutes);a.matched&&this._callbacks[t][o].call(this,{route:this._matcher._cleanRoute(e),response:n,request:a,status:i})}else if(this._callbacks[t])for(o=this._callbacks[t].length;o--;)this._callbacks[t][o].call(this,n)}},l)},function(t,e,n){
/*!
 *
 * Handles history pushstate/popstate with async option
 * If history is not supported, falls back to hashbang!
 *
 * @PushState
 * @author: kitajchuk
 *
 */
var i;t.exports=((i=function(){return this.init.apply(this,arguments)}).prototype={constructor:i,_pushable:"history"in window&&"pushState"in window.history,_hashable:"onhashchange"in window,init:function(t){this._initUrl=window.location.href.replace(window.location.hash,""),this._options=t||{},this._enabled=!1,this._ishashpushed=!1,this._uid=0,this._states={},this._callbacks={},this._states[this._initUrl]={uid:this.getUID()},this._stateEnable()},on:function(t,e){"function"==typeof e&&(this._callbacks[t]||(this._callbacks[t]=[]),e._pushstateID=this.getUID(),e._pushstateType=t,this._callbacks[t].push(e))},off:function(t,e){if(this._callbacks[t])for(var n=this._callbacks[t].length;n--;)if(this._callbacks[t][n]._pushstateID===e._pushstateID){this._callbacks[t].splice(n,1);break}},push:function(t){t!==window.location.href&&(this._push(t),this._states[t]={uid:this.getUID()})},goBack:function(){window.history.back(),this._fire("backstate")},goForward:function(){window.history.forward(),this._fire("forwardstate")},getUID:function(){return this._uid=this._uid+1,this._uid},_push:function(t){if(this._pushable&&!this._options.forceHash)window.history.pushState(this._states[t],"",t);else{var e=t.replace(window.location.origin,"");e===window.location.pathname&&(e="/"),this._ishashpushed=!0,window.location.hash=e}},_fire:function(t,e){if(this._callbacks[t])for(var n=this._callbacks[t].length;n--;)this._callbacks[t][n].apply(this,[].slice.call(arguments,1))},_stateEnable:function(){if(this._enabled)return this;var t=this,e=function(){var e=window.location.href;t._options.forceHash&&(e=(e=e.replace(window.location.hash,"")).replace(window.location.pathname,""),-1!==["#/","#",""].indexOf(window.location.hash)?e+=window.location.pathname:e+=window.location.hash.replace("#","")),t._fire("popstate",e,t._states[e])};this._enabled=!0,this._pushable&&!this._options.forceHash?window.addEventListener("popstate",function(t){e()},!1):this._hashable&&(this._push(this._initUrl),window.addEventListener("hashchange",function(n){t._ishashpushed?t._ishashpushed=!1:e()},!1))}},i)},function(t,e,n){
/*!
 *
 * Handles wildcard route matching against urls with !num and !slug condition testing
 *
 * @MatchRoute
 * @author: kitajchuk
 *
 */
var i,o;t.exports=(i=n(21),(o=function(){return this.init.apply(this,arguments)}).prototype={constructor:o,_rHTTPs:/^http[s]?:\/\/.*?\//,_rTrails:/^\/|\/$/g,_rHashQuery:/#.*$|\?.*$/g,_rWild:/^:/,_wilders:{num:/^[0-9]+$/,slug:/^[A-Za-z]+[A-Za-z0-9-_.]*$/},init:function(t){this._routes=t?this._cleanRoutes(t):[]},getRoutes:function(){return this._routes},config:function(t){return t="string"==typeof t?[t]:t,this._routes=this._routes.concat(this._cleanRoutes(t)),this},test:function(t){return this.parse(t,this._routes).matched},params:function(t){return this.parse(t,this._routes).params},compare:function(t,e){return this.parse(e,[t])},parse:function(t,e){for(var n,o,a,r,s,l,u,c,d=this._cleanRoute(t),h=d.split("/"),f=h.length,p=e.length,v=0;v<p;v++){if(o="*"===e[v],c={matched:!1,route:null,uri:[],params:{},query:i(t)},s=e[v].split("/"),"/"===d&&"/"===e[v]){c.matched=!0,c.route=e[v],c.uri="/";break}if(s.length===h.length||o){n=0;for(var m=0;m<f;m++)this._rWild.test(s[m])?(r=(a=s[m].split("!"))[0],(u=a[1])?(this._wilders[u]&&(l=this._wilders[u]),l&&l.test(h[m])&&(n++,c.params[r.replace(this._rWild,"")]=h[m],c.uri.push(h[m]))):(n++,c.params[r.replace(this._rWild,"")]=h[m],c.uri.push(h[m]))):h[m]===s[m]&&(n++,c.uri.push(h[m]));if(n===h.length||o){c.matched=!0,c.route=e[v],c.uri=o?d:c.uri.join("/");break}}}return c},_cleanRoute:function(t){return"/"!==t&&(t=(t=(t=(t=t.replace(this._rHTTPs,"")).replace(this._rTrails,"")).replace(this._rHashQuery,"")).replace(this._rTrails,"")),""===t&&(t="/"),t},_cleanRoutes:function(t){for(var e=t.length;e--;)t[e]=this._cleanRoute(t[e]);return t}},o)},function(t,e,n){
/*!
 *
 * Use native element selector matching
 *
 * @matchElement
 * @author: kitajchuk
 *
 */
var i;t.exports=i=function(t,e,n){var o=t.matches?"matches":t.webkitMatchesSelector?"webkitMatchesSelector":t.mozMatchesSelector?"mozMatchesSelector":t.msMatchesSelector?"msMatchesSelector":t.oMatchesSelector?"oMatchesSelector":null;return o&&t[o].call(t,e)?t:n&&t!==document.documentElement&&t.parentNode?i(t.parentNode,e,n):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=n(74),r=(i=a)&&i.__esModule?i:{default:i};var s=null,l=null,u={init:function(){o.emitter.on("app--root",function(){l&&l.teardown()}),o.log("about initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(o.emitter.fire("app--offcanvas"),o.dom.html.removeClass(o.config.offcanvasClasses).addClass("is-offcanvas is-offcanvas--about"),!l){var t=s.data();l=new r.default(s,t)}},unload:function(){},getElements:function(){return(s=o.dom.page.find(".js-about")).length}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var a=null,r=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a||this.initialize(e,n),a}return i(t,[{key:"initialize",value:function(t,e){this.$node=t,this.data=e,this.transTime=400,this.$target=o.dom.main.find(".js-main--"+this.data.target),this.$anim=this.$node.find(".js-animate-in"),this.$images=this.$node.find(".js-lazy-image"),this.loadContent(),a=this}},{key:"loadContent",value:function(){var t=this;this.$target.append(this.$node),setTimeout(function(){t.$anim.addClass("is-active")},10),o.emitter.fire("app--preload-done")}},{key:"teardown",value:function(){}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(3)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=r(n(76));function r(t){return t&&t.__esModule?t:{default:t}}var s=null,l=null,u={init:function(){var t=this;o.emitter.on("app--offcanvas",function(){l&&l.teardown()}),o.emitter.on("app--load-root",function(e){s=(0,i.default)(e),t.onload()}),o.log("indexes initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(l)l.cycleAnimation();else{var t=s.data();l=new a.default(s,t)}},unload:function(){},getElements:function(){return(s=o.dom.page.find(".js-index")).length}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=c(n(3)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),r=c(n(15)),s=c(n(16)),l=c(n(6)),u=c(n(5));function c(t){return t&&t.__esModule?t:{default:t}}var d=null,h=new u.default,f=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(!d||d&&d.data.id!==n.id)&&this.initialize(e,n),d}return i(t,[{key:"initialize",value:function(t,e){this.$node=t,this.data=e,this.$target=a.dom.main.find(".js-main--"+this.data.target),this.$images=this.$node.find(".js-lazy-image"),this.timeoutId=null,this.timeoutDelay=a.dom.overlay.elementTransitionDuration,this.bindEvents(),this.loadIndex(),d=this}},{key:"cycleAnimation",value:function(){this.$anims=this.$node.find(".js-animate"),window.location.pathname===r.default.root?(h.stop(),h.go(this.updateAnimate.bind(this)),this.handleScroll()):this.updateAnimate()}},{key:"handleScroll",value:function(){var t=null,e=function(){l.default.suppress(!1)};this.$target.on("scroll",function(){try{clearTimeout(t)}catch(t){a.log("warn",t)}l.default.suppress(!0),t=setTimeout(e,300)})}},{key:"updateAnimate",value:function(){for(var t=null,e=this.$anims.length;e--;)t=this.$anims.eq(e),a.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"bindEvents",value:function(){a.dom.body.on("click",".js-index-tile",this.onTileClick.bind(this)),a.detect.isDevice()||(a.dom.body.on("mouseenter",".js-index-tile img",this.onMouseEnter.bind(this)),a.dom.body.on("mousemove",".js-index-tile img",this.onMouseEnter.bind(this)),a.dom.body.on("mouseleave",".js-index-tile img",this.onMouseLeave.bind(this)))}},{key:"loadIndex",value:function(){var t=this;this.$target.append(this.$node),a.images.handleImages(this.$images,function(){t.cycleAnimation()})}},{key:"onTileClick",value:function(t){t.preventDefault();var e=(0,o.default)(t.target).closest(".js-index-tile");l.default.setTitle(e.data("title")),l.default.open(),s.default.open()}},{key:"onMouseEnter",value:function(t){try{clearTimeout(this.timeoutId)}catch(t){a.log("warn",t)}if(!s.default.isActive()){var e=(0,o.default)(t.target).closest(".js-index-tile");l.default.setTitle(e.data("title")),l.default.open()}}},{key:"onMouseLeave",value:function(){s.default.isActive()||(this.timeoutId=setTimeout(function(){s.default.isActive()||l.default.close()},this.timeoutDelay))}},{key:"teardown",value:function(){h.stop(),this.$target.off("scroll")}}]),t}();e.default=f},function(t,e,n){
/*!
 *
 * A lightweight manager for HTML5 audio and video.
 *
 * @MediaBox
 * @singleton
 * @author: kitajchuk
 *
 * @useful web pages with information on this stuffs
 * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement
 * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video
 * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement
 *
 */
var i,o,a,r,s,l,u,c,d,h,f,p,v,m,g,y,_;t.exports=(i=n(9),o=n(11),a=window.requestAnimationFrame,r=window.cancelAnimationFrame,s=/[#|?].*$/g,l=/^no$/,u=function(t){return"function"==typeof t},c=function(t,e){for(var n,i,o=0,a=e.length;o<a;o++){var r=e[o].split(".").pop().toLowerCase().replace(s,"");if("webm"===r&&"probably"===y.support[t][r]){n=e[o],i=y.support[t][r];break}"probably"!==y.support[t][r]&&"maybe"!==y.support[t][r]||(n=e[o],i=y.support[t][r]),"ogv"!==r&&"oga"!==r||"probably"!==y.support[t].ogg&&"maybe"!==y.support[t].ogg||(n=e[o],i=y.support[t].ogg),"mp4"!==r&&"m4v"!==r||"probably"!==y.support[t].h264&&"maybe"!==y.support[t].h264||(n=e[o],i=y.support[t].h264),"aac"!==r||"probably"!==y.support[t].m4a&&"maybe"!==y.support[t].m4a||(n=e[o],i=y.support[t].m4a),"mp1"!==r&&"mp2"!==r&&"mpg"!==r&&"mpeg"!==r||"probably"!==y.support[t].mp3&&"maybe"!==y.support[t].mp3||(n=e[o],i=y.support[t].mp3)}return{source:n,canPlay:i}},d=function(t){t._updateId&&(r(t._updateId),t._updateId=null,t._updateFn=null)},h=function(t,e,n){var i=new XMLHttpRequest;if(i.open("GET",t,!0),e)for(var o in e)i[o]=e[o];return i.onreadystatechange=function(t){if(4===this.readyState&&200===this.status)try{e.responseType||(this.responseJSON=JSON.parse(this.responseText)),u(n)&&n(this)}catch(t){throw new Error([t.name,t.message].join(" : "))}},i.send(),i},f={bgm:{volume:1,_builtIn:!0},sfx:{volume:1,_builtIn:!0},vid:{volume:1,_builtIn:!0}},p={},v={},m=null,window.AudioContext?_=window.AudioContext:window.webkitAudioContext&&(_=window.webkitAudioContext),g=_?new _:_,(y=function(){return m||function(){m=this}.apply(this,arguments)}).types={AUDIO:"audio",VIDEO:"video"},y.support={audio:function(){var t=document.createElement("audio"),e={};try{t.canPlayType&&(e.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(l,""),e.mp3=t.canPlayType("audio/mpeg;").replace(l,""),e.opus=t.canPlayType('audio/ogg; codecs="opus"').replace(l,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(l,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(l,""))}catch(t){}return e}(),video:function(){var t=document.createElement("video"),e={};try{t.canPlayType&&(e.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(l,""),e.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(l,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(l,""),e.vp9=t.canPlayType('video/webm; codecs="vp9"').replace(l,""),e.hls=t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(l,""))}catch(t){}return e}()},y.STATE_STOPPED=0,y.STATE_STOPPING=1,y.STATE_PAUSED=2,y.STATE_PLAYING=3,y.prototype={constructor:y,isLoaded:function(t){return!0===this.getMedia(t).loaded},isStopped:function(t){return this.getMedia(t).state===y.STATE_STOPPED},isPaused:function(t){return this.getMedia(t).state===y.STATE_PAUSED},isPlaying:function(t){var e=this.getMedia(t);return e.state===y.STATE_PLAYING||e.state===y.STATE_STOPPING},setVolume:function(t,e){return this.getMedia(t)._node.volume=e,m},getVolume:function(t){return this.getMedia(t)._node.volume},getMediaProp:function(t,e){var n=this.getMedia(t);if(n)return n._node[e]},setMediaProp:function(t,e,n){var i=this.getMedia(t);return i&&(i._node[e]=n),m},getMediaAttr:function(t,e){var n=this.getMedia(t);if(n)return n._node.getAttribute(e)},setMediaAttr:function(t,e,n){var i=this.getMedia(t);return i&&i._node.setAttribute(e,n),m},addMediaEvent:function(t,e,n){var i=this.getMedia(t);if(i){if("timeupdate"===e)return i._events.timeupdate=n,m;i._events[e]=function(){u(n)&&n.apply(this,arguments)},i._node.addEventListener(e,i._events[e],!1)}return m},removeMediaEvent:function(t,e){var n=this.getMedia(t);return n&&("timeupdate"===e&&d(n),n._node.removeEventListener(e,n._events[e],!1),n._events[e]=null),m},playMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&(this.isStopped(t)||this.isPaused(t))&&(e._node.volume=f[e.channel].volume,e._node.play(),e.state=y.STATE_PLAYING,!e._updateId&&u(e._events.timeupdate)&&(e._updateFn=function(){e._events.timeupdate.call(e._node,null),e._updateId=a(e._updateFn)},e._updateId=a(e._updateFn))),m},pauseMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&this.isPlaying(t)&&(e._node.pause(),e.state=y.STATE_PAUSED,d(e)),m},stopMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&this.isPlaying(t)&&(e._node.pause(),e.state=y.STATE_STOPPED,d(e)),m},getMedia:function(t){return v[t]?v[t]:p[t]},getAudios:function(){return p},getVideos:function(){return v},destroyMedia:function(t){var e=this.getMedia(t);return this.stopMedia(t),e.type===y.types.AUDIO?delete p[t]:delete v[t],m},loadMedia:function(t,e){var n=this;return h(t,null,function(t){n.addMedia(t.responseJSON),u(e)&&e()}),m},addMedia:function(t){for(var e in t)for(var n=t[e].length;n--;)u(this[e])&&this[e](t[e][n]);return m},addVideo:function(t){var e=t.id,n=t.src,i={element:t.element,channel:t.channel};return!v[e]&&e&&n?(f[i.channel]||(f[i.channel]={volume:1}),v[e]={},v[e].type=y.types.VIDEO,v[e].state=y.STATE_STOPPED,v[e].loaded=!0,v[e].channel=i.channel,v[e].sources=n,v[e]._source=c(y.types.VIDEO,n),v[e]._events={},v[e]._updateId=null,v[e]._updateFn=null,v[e]._node=i.element||document.createElement("video"),v[e]._nodeSource=document.createElement("source"),v[e]._nodeSource.src=v[e]._source.source,v[e]._nodeSource.type=function(t,e){var n,i=e.split(".").pop().toLowerCase().replace(s,"");if("video"===t)switch(i){case"webm":n="video/webm";break;case"mp4":case"m4v":n="video/mp4";break;case"ogv":n="video/ogg"}else switch(i){case"aac":n="audio/aac";break;case"m4a":n="audio/x-m4a";break;case"mp4":n="audio/mp4";break;case"mp1":case"mp2":case"mp3":case"mpg":case"mpeg":n="audio/mpeg";break;case"oga":case"ogg":n="audio/ogg";break;case"wav":n="audio/wav"}return n}(y.types.VIDEO,v[e]._source.source),v[e]._node.appendChild(v[e]._nodeSource),m):m},addAudio:function(t){var e=t.id,n=t.src,i={channel:t.channel,CORS:t.CORS||!1};return!p[e]&&e&&n?(f[i.channel]||(f[i.channel]={volume:1}),p[e]={},p[e].type=y.types.AUDIO,p[e].state=y.STATE_STOPPED,p[e].loaded=!0,p[e].channel=i.channel,p[e].sources=n,p[e]._source=c(y.types.AUDIO,n),p[e]._events={},p[e]._updateId=null,p[e]._updateFn=null,p[e]._node=new Audio(p[e]._source.source),u(t.onloaded)&&!i.CORS&&h(p[e]._source.source,{responseType:"arraybuffer"},function(e){g.decodeAudioData(e.response,t.onloaded)}),m):m},fadeMediaIn:function(t,e,n){var a,r=this.getMedia(t),s=this;return r&&r.state===y.STATE_PLAYING?m:(r&&(a=f[r.channel].volume,r.state===y.STATE_STOPPED?(this.playMedia(t),this.setVolume(t,0)):r.state===y.STATE_STOPPING&&(r.state=y.STATE_PLAYING),new o({to:a,from:0,ease:u(n)?n:i.linear,duration:e||1e3,update:function(e){s.setVolume(t,e>a?a:e)},complete:function(){s.setVolume(t,a)}})),m)},fadeMediaOut:function(t,e,n){var a=this.getMedia(t);if(a&&a.state===y.STATE_STOPPING)return m;var r=this,s=function(e){a.state===y.STATE_STOPPING&&(r.setVolume(t,e<0?0:e),0===r.getVolume(t)&&r.stopMedia(t))};return a&&(a.state=y.STATE_STOPPING,new o({to:0,from:r.getVolume(t),ease:u(n)?n:i.linear,duration:e||1e3,update:s,complete:s})),m},stopChannel:function(t){var e;for(e in v)v[e].channel===t&&v[e].state===y.STATE_PLAYING&&this.pauseMedia(e);for(e in p)p[e].channel===t&&p[e].state===y.STATE_PLAYING&&this.pauseMedia(e);return m},playChannel:function(t){var e;for(e in v)v[e].channel===t&&v[e].state===y.STATE_PAUSED&&this.playMedia(e);for(e in p)p[e].channel===t&&p[e].state===y.STATE_PAUSED&&this.playMedia(e);return m},fadeChannelOut:function(t,e){var n;for(n in v)v[n].channel===t&&v[n].state===y.STATE_PLAYING&&this.fadeMediaOut(n,e);for(n in p)p[n].channel===t&&p[n].state===y.STATE_PLAYING&&this.fadeMediaOut(n,e);return m},fadeChannelIn:function(t,e){var n;for(n in v)v[n].channel===t&&v[n].state===y.STATE_STOPPED&&this.fadeMediaIn(n,e);for(n in p)p[n].channel===t&&p[n].state===y.STATE_STOPPED&&this.fadeMediaIn(n,e);return m},crossFadeChannel:function(t,e,n){var i;for(i in v)v[i].channel===t&&v[i].state===y.STATE_PLAYING&&this.fadeMediaOut(i,n);for(i in p)p[i].channel===t&&p[i].state===y.STATE_PLAYING&&this.fadeMediaOut(i,n);return this.fadeMediaIn(e,n)},setChannelProp:function(t,e,n){return f[t]&&(f[t][e]=n),m},getChannelProp:function(t,e){if(f[t])return f[t][e]},getChannels:function(){return f}},y)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),r=n(27),s=(i=r)&&i.__esModule?i:{default:i};var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.id=n,this.bindEvents()}return o(t,[{key:"bindEvents",value:function(){this._onScroll=this.onScroll.bind(this),s.default.getMedia(this.id)&&this._onScroll(),a.emitter.on("app--project-scroll",this._onScroll)}},{key:"onScroll",value:function(){a.util.isElementInViewport(this.$node[0])?s.default.isPlaying(this.id)||s.default.playMedia(this.id):s.default.isPlaying(this.id)&&s.default.stopMedia(this.id)}},{key:"destroy",value:function(){a.emitter.off("app--project-scroll",this._onScroll)}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=n(80),r=(i=a)&&i.__esModule?i:{default:i};var s=null,l=null,u={init:function(){o.emitter.on("app--root",function(){l&&l.teardown()}),o.log("listing initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(o.emitter.fire("app--offcanvas"),o.dom.html.removeClass(o.config.offcanvasClasses).addClass("is-offcanvas is-offcanvas--index"),l)l.cycleAnimation();else{var t=s.data();l=new r.default(s,t)}},unload:function(){},getElements:function(){return(s=o.dom.page.find(".js-listing")).length}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=f(n(3)),r=f(n(15)),s=f(n(18)),l=f(n(6)),u=f(n(81)),c=f(n(5)),d=f(n(17)),h=f(n(13));function f(t){return t&&t.__esModule?t:{default:t}}var p=null,v=new c.default,m='\n<div class="listing__tile grid__item__small js-listing-tile">\n    <div class="grid__photo grid__photo--small animate animate--fade js-animate">\n        <figure class="figure">\n            <img class="figure__image image js-lazy-image" data-img-src="{assetUrl}" data-variants="{systemDataVariants}" data-original-size="{originalSize}" />\n        </figure>\n    </div>\n</div>\n',g=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p||this.initialize(e,n),p}return i(t,[{key:"initialize",value:function(t,e){this.data=e,this.$node=t,this.$tile=null,this.$image=null,this.$target=o.dom.main.find(".js-main--"+this.data.target),this.$anims=null,this.vimeos={},this.bindEvents(),this.loadIndex(),p=this}},{key:"cycleAnimation",value:function(){this.$anims=this.$node.find(".js-animate"),v.stop(),v.go(this.updateAnimate.bind(this))}},{key:"updateAnimate",value:function(){for(var t=null,e=this.$anims.length;e--;)t=this.$anims.eq(e),o.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"bindEvents",value:function(){var t=this;this.$node.on("click",".js-listing-tile",function(e){if(!s.default.menu.isActive()){var n=(0,a.default)(e.target),i=n.is(".js-listing-tile")?n:n.closest(".js-listing-tile");t.bindGallery(i)}})}},{key:"bindGallery",value:function(t){var e=t.data();this.$tile=t,this.$image=this.$tile.find(o.config.lazyImageSelector),e.vimeoId?s.default.setVideo(this.vimeos[e.vimeoId]):s.default.setImage(this.$image),this._onKeyDown=this.onKeyDown.bind(this),this._onGalleryImage=this.onGalleryImage.bind(this),this._onGalleryBack=this.onGalleryBack.bind(this),o.emitter.on("app--gallery-image",this._onGalleryImage),o.emitter.on("app--gallery-background",this._onGalleryBack),o.dom.doc.on("keydown",this._onKeyDown)}},{key:"nextTile",value:function(t){var e=t.data();this.$tile=t,this.$image=this.$tile.find(o.config.lazyImageSelector),e.vimeoId?s.default.setVideo(this.vimeos[e.vimeoId]):s.default.setImage(this.$image)}},{key:"unbindGallery",value:function(){this.$tile=null,this.$image=null,l.default.close(),s.default.close(),o.dom.doc.off("keydown",this._onKeyDown),o.emitter.off("app--gallery-image",this._onGalleryImage),o.emitter.off("app--gallery-background",this._onGalleryBack)}},{key:"nextProject",value:function(t,e){t.length&&(this.$tile=e,this.$image=this.$tile.find(o.config.lazyImageSelector),s.default.setImage(this.$image),l.default.close())}},{key:"nextTitle",value:function(t,e){s.default.empty(),t.length&&(l.default.setTitle(e||t.data("title")),l.default.open(),o.dom.gallery.element.addClass("is-title"),this.$tile=t)}},{key:"loadIndex",value:function(){d.default.load(),r.default.loadFullIndex(this.onLoadFullIndex.bind(this))}},{key:"loadVideo",value:function(t,e){var n=this,i=t.split("/").pop();o.api.vimeo(i).then(function(t){n.vimeos[i]=t,e.data("vimeoId",i).find(".js-vimeo-image").removeAttr("data-img-src").removeAttr("data-variants").removeAttr("data-original-size").attr("src",t.pictures.sizes[t.pictures.sizes.length-1].link)})}},{key:"onLoadFullIndex",value:function(t){var e=this;t.collection.collections.forEach(function(t){var n=(0,a.default)((0,u.default)('<div class="listing__title js-listing-title" data-title="{title}"><h3 class="listing__title__text h3">{text}</h3></div>'.replace(/\n/g,""),{text:t.title,title:t.description||t.title})),i=(0,a.default)('<div class="listing__grid js-listing-project grid grid--index"></div>'.replace(/\n/g,"")),o=null;t.items.forEach(function(t){t.customContent.vimeoVideoUrl?(o=(0,a.default)('\n<div class="listing__tile grid__item__small js-listing-tile">\n    <div class="grid__photo grid__photo--small animate animate--fade js-animate">\n        <figure class="figure">\n            <img class="figure__image image image--wide js-vimeo-image" />\n            <span class="icon icon--svg icon--playback _video__playback">\n                <svg class="icon__svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="-188 216.1 261.3 209.9" xml:space="preserve"><polygon points="35.8 296.4 -86.3 216.1 -86.3 426 73.3 321.1 "/><rect x="-188" y="216.1" class="st0" width="59.2" height="209.9"/></svg>\n            </span>\n        </figure>\n    </div>\n</div>\n'),i.append(o),e.loadVideo(t.customContent.vimeoVideoUrl,o)):(i.append((0,u.default)(m.replace(/\n/g,""),t)),t.customContent&&t.customContent.diptychImage&&t.customContent.diptychImage.systemDataVariants&&i.append((0,u.default)(m.replace(/\n/g,""),t.customContent.diptychImage)))}),e.$node.append(n),e.$node.append(i)}),this.$target.append(this.$node),o.images.handleImages(this.$node.find(".js-lazy-image"),function(){d.default.stop(),e.cycleAnimation()})}},{key:"onGalleryImage",value:function(t){t===h.default.DIRECTION_LEFT?this.onKeyDown({keyCode:37}):this.onKeyDown({keyCode:39})}},{key:"onGalleryBack",value:function(){s.default.empty(),this.unbindGallery()}},{key:"onKeyDown",value:function(t){var e=null,n=null,i=null,a=null,r=this.$tile.next(),s=this.$tile.prev();if(27===t.keyCode)return this.unbindGallery(),!1;this.$tile.is(".js-listing-title")?(39===t.keyCode?(a=this.$tile.next(),this.nextProject(a,a.find(".js-listing-tile").first())):37===t.keyCode&&(a=this.$tile.prev()).length&&this.nextProject(a,a.find(".js-listing-tile").last()),o.dom.gallery.element.removeClass("is-title")):39===t.keyCode&&r.length?this.nextTile(r):39!==t.keyCode||r.length?37===t.keyCode&&s.length?this.nextTile(s):37!==t.keyCode||s.length||(e=null,(n=(i=this.$tile.parent()).prev().prev().prev()).length&&(e=n.data("title")),n=i.prev(),this.nextTitle(n,e)):this.nextTitle(this.$tile.parent().next())}},{key:"teardown",value:function(){v.stop()}}]),t}();e.default=g},function(t,e,n){t.exports=function(t,e){return t.replace(/\{{1,2}([^{}]*)\}{1,2}/g,function(t,n){var i=e[n.replace(/\s/g,"")];return"string"==typeof i||"number"==typeof i?i:t})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=n(16),r=(i=a)&&i.__esModule?i:{default:i};var s=null,l=null,u={init:function(){o.dom.project.element.is(".is-active")||o.dom.project.element.detach(),o.log("projects initialized")},isActive:function(){return this.getElements()>0},onload:function(){var t=s.data();l=new r.default(s,t),o.emitter.on("app--root",c),o.emitter.on("app--project-ended",c)},unload:function(){this.teardown()},teardown:function(){s=null,l&&(l.teardown(),l=null),o.emitter.off("app--root",c),o.emitter.off("app--project-ended",c)},getElements:function(){return(s=o.dom.page.find(".js-project")).length}},c=function(){l&&(l.teardown(),l=null)};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var o={teardown:function(){i.dom.intro.length&&setTimeout(function(){i.dom.intro.removeClass("is-active"),setTimeout(function(){return i.dom.intro.remove()},i.util.getTransitionDuration(i.dom.intro[0]))},1e3)}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(3),a=(i=o)&&i.__esModule?i:{default:i},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var s={init:function(){this.$mainPanels=r.dom.main.find(".js-main-panel"),this.mainDuration=r.util.getTransitionDuration(this.$mainPanels[0]),this.bindEvents()},bindEvents:function(){r.dom.header.on("click",".js-controller",this.onController.bind(this))},onController:function(t){t.preventDefault();var e=(0,a.default)(t.target),n=(e.is(".js-controller")?e:e.closest(".js-controller")).data(),i=r.dom.main.find(".js-main--"+n.target);this.$mainPanels.removeClass("is-active"),i.addClass("is-active"),r.dom.main[0].id="is-main--"+n.target}};e.default=s},function(t,e,n){t.exports=n.p+"../styles/screen.css"}]);
//# sourceMappingURL=app.js.map