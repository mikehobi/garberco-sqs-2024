{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./source/js/core/index.js","webpack:///./node_modules/properjs-hobo/lib/Hobo.js","webpack:///./node_modules/properjs-hobo/lib/utils.js","webpack:///./node_modules/properjs-hobo/dist/hobo.build.js-exposed","webpack:///./node_modules/properjs-hobo/node_modules/properjs-matchelement/matchElement.js","webpack:///./node_modules/properjs-controller/Controller.js","webpack:///./source/js/overlay.js","webpack:///./source/js/core/util.js","webpack:///./source/js/core/log.js","webpack:///./node_modules/properjs-easing/Easing.js","webpack:///./source/js/core/dom.js","webpack:///./node_modules/properjs-tween/Tween.js","webpack:///./source/js/core/config.js","webpack:///./node_modules/hammerjs/hammer.js","webpack:///./source/js/core/emitter.js","webpack:///./source/js/router.js","webpack:///./source/js/projects/Project.js","webpack:///./source/js/bar.js","webpack:///./source/js/gallery.js","webpack:///./source/js/core/detect.js","webpack:///./source/js/core/env.js","webpack:///./node_modules/paramalama/paramalama.js","webpack:///./source/js/core/Store.js","webpack:///./source/js/core/resizer.js","webpack:///./node_modules/properjs-debounce/debounce.js","webpack:///./source/js/Menu.js","webpack:///./source/js/video/VideoVimeo.js","webpack:///./source/js/video/mediabox.js","webpack:///./source/js/app.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/properjs-hobo/dist/hobo.build.js","webpack:///./node_modules/properjs-hobo/lib/core/on.js","webpack:///./node_modules/properjs-hobo/lib/core/off.js","webpack:///./node_modules/properjs-hobo/lib/core/data.js","webpack:///./node_modules/properjs-hobo/lib/core/find.js","webpack:///./node_modules/properjs-hobo/lib/core/addClass.js","webpack:///./node_modules/properjs-hobo/lib/core/removeClass.js","webpack:///./node_modules/properjs-hobo/lib/extended/is.js","webpack:///./node_modules/properjs-hobo/lib/extended/eq.js","webpack:///./node_modules/properjs-hobo/lib/extended/not.js","webpack:///./node_modules/properjs-hobo/lib/extended/one.js","webpack:///./node_modules/properjs-hobo/lib/extended/next.js","webpack:///./node_modules/properjs-hobo/lib/extended/prev.js","webpack:///./node_modules/properjs-hobo/lib/extended/attr.js","webpack:///./node_modules/properjs-hobo/lib/extended/last.js","webpack:///./node_modules/properjs-hobo/lib/extended/first.js","webpack:///./node_modules/properjs-hobo/lib/extended/index.js","webpack:///./node_modules/properjs-hobo/lib/extended/parent.js","webpack:///./node_modules/properjs-hobo/lib/extended/filter.js","webpack:///./node_modules/properjs-hobo/lib/extended/detach.js","webpack:///./node_modules/properjs-hobo/lib/extended/append.js","webpack:///./node_modules/properjs-hobo/lib/extended/remove.js","webpack:///./node_modules/properjs-hobo/lib/extended/trigger.js","webpack:///./node_modules/properjs-hobo/lib/extended/prepend.js","webpack:///./node_modules/properjs-hobo/lib/extended/closest.js","webpack:///./node_modules/properjs-hobo/lib/extended/children.js","webpack:///./node_modules/properjs-hobo/lib/extended/removeAttr.js","webpack:///./node_modules/properjs-hobo/lib/extended/toggleClass.js","webpack:///./node_modules/properjs-hobo/lib/core/ajax.js","webpack:///./node_modules/properjs-imageloader/ImageLoader.js","webpack:///./source/js/core/images.js","webpack:///./source/js/core/ImageController.js","webpack:///./source/js/core/api.js","webpack:///./source/js/core/cache.js","webpack:///./source/js/core/Analytics.js","webpack:///./node_modules/properjs-resizecontroller/ResizeController.js","webpack:///./source/js/core/resizes.js","webpack:///./node_modules/properjs-throttle/throttle.js","webpack:///./node_modules/properjs-pagecontroller/PageController.js","webpack:///./node_modules/properjs-router/Router.js","webpack:///./node_modules/properjs-pushstate/PushState.js","webpack:///./node_modules/properjs-matchroute/MatchRoute.js","webpack:///./node_modules/properjs-matchelement/matchElement.js","webpack:///./source/js/about/index.js","webpack:///./source/js/about/About.js","webpack:///./source/js/indexes/index.js","webpack:///./source/js/indexes/IndexRoot.js","webpack:///./node_modules/properjs-mediabox/MediaBox.js","webpack:///./source/js/video/AutoplayHandler.js","webpack:///./source/js/indexes/listing.js","webpack:///./source/js/indexes/IndexFull.js","webpack:///./node_modules/properjs-template/template.js","webpack:///./source/js/projects/index.js","webpack:///./source/js/intro.js","webpack:///./source/js/main.js","webpack:///./source/sass/screen.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","util","detect","dom","images","config","env","log","api","cache","Analytics","emitter","resizer","resizes","utils","array","Hobo","selector","context","this","_hobo","version","_context","nodeType","document","window","_selector","trimString","rTag","test","replace","rDocType","el","createElement","innerHTML","makeArray","children","querySelectorAll","undefined","length","_events","forEach","makeData","splice","each","push","map","rData","rDigit","rDashAlpha","rJson","rFront2Back","camelCase","str","all","letter","toUpperCase","serializeData","data","prefix","val","Array","isArray","v","encodeURIComponent","join","_getDataValue","JSON","parse","error","_mapAttributes","node","attributes","hoboDataMap","_mapDataset","dataset","makeId","Math","random","nodes","slice","storeData","id","retrieveData","ret","mergeData","removeData","getClass","getAttribute","setClass","klass","setAttribute","global","matchElement","walk","method","documentElement","parentNode","raf","caf","Controller","requestAnimationFrame","cancelAnimationFrame","init","apply","arguments","constructor","_handlers","_uid","_started","_paused","_cycle","go","fn","self","anim","pause","play","stop","on","event","handler","events","split","_jsControllerID","getUID","off","_off","_offed","fire","args","len","core","isActive","isSuppressed","overlay","element","is","detach","open","html","addClass","body","append","setTimeout","close","_this","removeClass","empty","elementTransitionDuration","elementTitle","suppress","bool","setTitle","text","isElementLoadable","getBoundingClientRect","top","innerHeight","isElementInViewport","bounds","bottom","getClosestValue","arr","closestTo","max","loadImages","useVariant","useWidth","rQuery","vnt","parseInt","$img","dims","vars","width","variant","source","page","find","lazyImageSelector","eq","clientWidth","innerWidth","imgSrc","originalSize","getOriginalDims","height","variants","lazyImageAttr","ImageLoader","elements","executor","noop","original","px","getPageKey","location","pathname","appRoot","homepageKey","search","translate3d","x","y","z","style","Hammer","prefixed","extendObject","target","arrow","updateImages","_properjsHobo2","default","imageLoaderAttr","removeAttr","getElementsInView","$nodes","$ret","getTransformValues","values","getComputedStyle","parseFloat","getTransitionDuration","duration","multiplyBy","String","indexOf","getDefaultHammerOptions","isDevice","cssProps","contentZoomingString","tapHighlightColorString","touchCalloutString","touchSelectString","userDragString","userSelectString","_env","isDev","_len","_key","console","linear","swing","cos","PI","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","_properjsHobo","$_jsOverlay","$_jsProject","$_jsGallery","doc","header","nav","intro","gallery","elementNode","project","elementPane","root","main","defaults","ease","from","to","delay","update","complete","options","tweenDiff","startTime","rafTimer","isStopped","animate","rafTimeStamp","animDiff","tweenTo","rootUrlId","offcanvasClasses","__WEBPACK_AMD_DEFINE_RESULT__","exportName","assign","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","round","abs","now","Date","setTimeoutContext","timeout","bindFn","invokeArrayArg","arg","obj","iterator","deprecate","message","deprecationMessage","e","Error","stack","warn","TypeError","output","index","nextKey","extend","dest","src","merge","keys","inherit","child","base","properties","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","splitStr","type","addEventListener","removeEventListeners","removeEventListener","hasParent","parent","inStr","trim","inArray","findByKey","toArray","uniqueArray","sort","results","a","b","prop","camelProp","_uniqueId","getWindowForElement","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","inputTarget","domHandler","ev","enable","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offset","offsetDelta","prevDelta","prevInput","deltaX","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","start","end","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","last","lastInterval","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","props","sqrt","atan2","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","setLastTouch","eventData","lastTouch","lts","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","dx","dy","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","set","compute","actions","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","preset","Manager","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","toggleCssProps","item","add","force","stopped","curRecognizer","existing","remove","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","STATE_FAILED","Tap","Pan","Swipe","Pinch","Rotate","Press","_properjsController","router","navData","pageData","pageDuration","tweenScroll","$rootPanel","prepPage","bindEmptyHashLinks","initPageController","route","path","controller","getRouter","trigger","cb","routeSilently","redirect","href","origin","PageController","setConfig","setModules","about","indexes","listing","projects","changePageOut","changeContent","changePageIn","initPage","samePage","segmentOne","loadRootIndex","appTree","indexItem","items","collectionItem","collection","fullUrl","attr","isPop","isConfig","handlePopstate","_this2","scrollTop","Tween","Easing","$tile","match","Project","_this3","format","dataType","then","response","parseDoc","pageHtml","loadFullIndex","$doc","$page","execSquarespace","Squarespace","initializeCommerce","Y","animator","$node","_classCallCheck","menu","Menu","$plates","$images","$videos","isEnded","bindEvents","loadProject","loadVideos","handleImages","onPreload","elem","$video","VideoVimeo","instance","bar","cycleAnimation","onUpdateEmitter","$plate","nodeRect","floor","updatePlates","updatePosition","killVideos","load","_instance","$_jsBar","$_jsInner","Bar","tween","getFrom","position","color","$image","Image","className","videoData","$videoWrap","bindSwipe","bindClick","_onTap","onTap","_onSwipe","onSwipe","_onPanmove","onPanmove","_onPanend","onPanend","tap","swipe","_properjsDebounce2","onClick","transform","isLeft","handleClick","rect","left","setImage","data-img-src","data-variants","data-original-size","setVideo","vData","files","logVideoFiles","file","getVideoFile","paddingBottom","pictures","sizes","link","_isTouch","DocumentTouch","_isMobile","_log2","isMobile","isStandalone","DEV","PROD","ENV","domain","isProd","paramalama","query","decodeURIComponent","pair","toString","$","_log","_initialized","_cache","_session","sessionStorage","Store","_opts","_init","flush","save","enableStorage","isStorageSupported","setItem","stringify","uri","slug","getValue","crumb","RegExp","exec","cookie","removeItem","err","_properjsResizecontroller","ResizeController","execAsap","detached","tDuration","isOpen","isDetach","$poster","$playback","_files","_video","loadVimeoData","vimeoId","vimeoUrl","pop","vimeo","handleVimeoData","sourceUrl","posterUrl","initMobile","initVideo","applyAspect","createMediaNode","autoplayLoop","bindAutoplayLoop","clickToPlay","loadThumbFile","bindClickToPlay","_autoplayHandler","AutoplayHandler","mediabox","isPlaying","stopMedia","playMedia","addMediaEvent","setMediaProp","url","addVideo","channel","getMedia","destroyMedia","quality","size","mobile","sd","hd","_properjsMediabox","MediaBox","require","App","analytics","initModules","_onPreloadDone","onPreloadDone","teardown","app","g","Function","not","one","next","prev","first","prepend","closest","toggleClass","hobo","ajax","eventId","eventHandler","relatedElement","fromElement","toElement","contains","evo","classes","newClass","elsClass","oldClass","keepers","pushNode","once","nextNode","nextSibling","prevNode","previousSibling","addAttr","parents","filtered","removeChild","appendage","appendChild","prependage","insertBefore","firstChild","removeAttribute","AjaxPromise","_promise","Promise","resolve","reject","_resolve","_reject","_then","catch","_catch","abort","_xhr","params","headers","payload","ajaxPromise","FormData","handleResponse","jsonpCallbackValue","jsonpCallbackKey","jsonp","jsonpScript","getElementsByTagName","xhr","XMLHttpRequest","setRequestHeader","onreadystatechange","readyState","status","responseText","send","_executor","_elements","_property","_loadType","loadType","_numLoaded","_num2Load","_transitionDelay","transitionDelay","_transitionDuration","transitionDuration","_resolved","initAsync","initSync","handle","syncLoad","image","isImage","nodeName","onload","backgroundImage","onerror","elems","getNotLoaded","handlePreload","handleLazyload","imageController","ImageController","_possibleConstructorReturn","__proto__","getPrototypeOf","$preload","$lazyload","preLoader","lazyLoader","_rSlash","squarespace","endpoint","apipoint","request","nocache","opts","seg","_paramalama2","tag","category","pagination","access_token","_Store","pushTrack","apiEndpoint","pageTitle","itemTitle","collectionTitle","websiteId","itemId","collectionId","recordHit","res","setDocumentTitle","title","websiteTitle","datas","queryString","referrer","localStorageSupported","viewportInnerHeight","viewportInnerWidth","screenHeight","screen","screenWidth","templateId","Content-Type","_hasOrientation","_currentView","getViewport","currentView","isResize","isResizeUp","isResizeDown","isResizeWidth","isResizeHeight","isOrientation","orient","isOrientationPortrait","isOrientationLandscape","orientation","isPortrait","isLandscape","_properjsThrottle2","onThrottle","onDebounce","wait","Router","_router","_config","_modules","_synced","_timeBefore","_currentRoute","_isFirstRoute","_currentQuery","_currentToString","_isSamePage","_silentMode","_silentCallback","_isRoutingActive","isFunction","execOnload","getRouteDataToString","syncModules","onRouterResponse","onPopGetRouter","onPreGetRouter","handleRouterResponse","active","inactive","_options","transitionTime","isSameRequest","unload","execUnload","routerOptions","pushStateOptions","_matcher","matched","__initialized","execInit","addModule","getModules","getConfig","getPusher","_pusher","getMatcher","getRoute","getQuery","_triggerEl","_activeEl","PushState","MatchRoute","_rHTTPs","_rFiles","_rDomain","_isRouting","async","proxy","caching","handle404","handle500","_callbacks","_responses","_ready","hash","_handleClick","_handlePopstate","_route","XMLSerializer","serializeToString","_fire","_bind","_unbind","_routerRoutes","getActiveEl","getRouteForUrl","_cleanRoute","getRouteDataForUrl","getRoutes","_preventDefault","returnValue","isMatched","isDomain","isProxy","isHashed","isIgnore","isMetaKey","metaKey","isBlank","isFile","dat","urls","_matchUrl","_getUrl","stat","_jsRouterID","j","_pushable","history","_hashable","_initUrl","_enabled","_ishashpushed","_states","uid","_stateEnable","_pushstateID","_pushstateType","_push","goBack","back","goForward","forward","forceHash","pushState","hashUri","_rTrails","_rHashQuery","_rWild","_wilders","num","routes","_routes","_cleanRoutes","compare","segMatches","isStar","ruris","regex","cond","uris","uLen","iLen","_About","$_jsElement","getElements","About","initialize","transTime","$target","$anim","loadContent","IndexRoot","timeoutId","timeoutDelay","loadIndex","$anims","updateAnimate","handleScroll","_timeout","_handleScroll","onTileClick","onMouseEnter","onMouseLeave","rHashQuery","rNos","getCanPlaySource","clearPlaybackUpdate","createRequest","_channels","_audio","AudioContext","media","sources","canPlay","support","ogg","h264","m4a","mp3","track","_updateId","_updateFn","responseType","responseJSON","bgm","volume","_builtIn","sfx","vid","webkitAudioContext","AUDIO","VIDEO","audio","canPlayType","opus","wav","getAudioSupport","video","webm","vp9","hls","getVideoSupport","STATE_STOPPED","STATE_STOPPING","STATE_PAUSED","STATE_PLAYING","isLoaded","loaded","isPaused","setVolume","_node","getVolume","getMediaProp","getMediaAttr","setMediaAttr","timeupdate","removeMediaEvent","pauseMedia","getAudios","getVideos","loadMedia","addMedia","bundle","_source","_nodeSource","ext","getMimeForMedia","addAudio","CORS","Audio","onloaded","decodeAudioData","fadeMediaIn","easing","fadeMediaOut","stopChannel","playChannel","fadeChannelOut","fadeChannelIn","crossFadeChannel","objId","setChannelProp","getChannelProp","getChannels","_mediabox","_onScroll","onScroll","_IndexFull","IndexFull","_gridItemTpl","vimeos","bindGallery","$elem","_onKeyDown","onKeyDown","_onGalleryImage","onGalleryImage","_onGalleryBack","onGalleryBack","$project","$title","onLoadFullIndex","json","collections","_properjsTemplate2","_gridTitleTpl","description","$grid","_gridWrapTpl","recordTypeLabel","customContent","vimeoVideoUrl","_gridVideoTpl","loadVideo","diptychImage","systemDataVariants","keyCode","unbindGallery","$parent","$next","$prev","nextProject","nextTile","nextTitle","_Project","killProject","$mainPanels","mainDuration","onController","$panel"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n","/**\n *\n * @public\n * @module core\n * @description Holds the different core modules.\n *\n */\nimport detect from \"./detect\";\nimport dom from \"./dom\";\nimport images from \"./images\";\nimport * as util from \"./util\";\nimport config from \"./config\";\nimport env from \"./env\";\nimport log from \"./log\";\nimport api from \"./api\";\nimport cache from \"./cache\";\nimport Analytics from \"./Analytics\";\nimport emitter from \"./emitter\";\nimport resizer from \"./resizer\";\nimport resizes from \"./resizes\";\n\n\nexport {\n    detect,\n    dom,\n    images,\n    util,\n    config,\n    env,\n    log,\n    api,\n    cache,\n    Analytics,\n    emitter,\n    resizer,\n    resizes\n};\n","var utils = require( \"./utils\" ),\n    array = [];\n\n\n/**\n *\n * @class Hobo\n * @constructor\n * @classdesc A very small, modular DOM utility for modern web apps.\n * @param {string} selector The goods - String, Element, Collection.\n * @param {element} context The Element used to call `querySelectorAll`\n *\n */\nvar Hobo = function ( selector, context ) {\n    // Hobo version?\n    this._hobo = utils.version;\n\n    // Hobo context\n    this._context = (context && context.nodeType && context.nodeType === 1 ? context : document);\n\n    // Hobo selector / elements\n    // Hobo supports a mixed selector argument\n\n    // Handle Window\n    // Handle Document\n    // Handle DOMElement\n    if ( selector === window || selector === document || (selector.nodeType && selector.nodeType === 1) ) {\n        this._selector = \"\";\n        selector = [ selector ];\n\n    // Handle String\n    } else if ( typeof selector === \"string\" ) {\n        // Trim trailing whitespace from the string\n        selector = utils.trimString( selector );\n\n        // Handle string html => Element creation\n        if ( utils.rTag.test( selector ) ) {\n            // Then remove the doctype - `<!DOCTYPE html>`\n            selector = selector.replace( utils.rDocType, \"\" );\n\n            // Create a dummy `hobo` element\n            // Dump the HTML payload in the `hobo` element\n            // Extract the elements from the `hobo` element\n            var el = document.createElement( \"hobo\" );\n                el.innerHTML = selector;\n\n            // Format elements as a true Array\n            selector = utils.makeArray( el.children );\n\n            el = null;\n\n        // Handle string selector\n        } else {\n            this._selector = selector;\n            selector = utils.makeArray( this._context.querySelectorAll( selector ) );\n        }\n\n    // Handle Collection: NodeList, HTMLCollection, Array\n    } else if ( selector.length !== undefined ) {\n        this._selector = \"\";\n        selector = utils.makeArray( selector );\n    }\n\n    // Hobo events?\n    this._events = {};\n\n    // Hobo length?\n    this.length = selector.length;\n\n    // Hobo elements?\n    for ( var i = this.length; i--; ) {\n        this[ i ] = selector[ i ];\n    }\n\n    // Initial mapping of each nodes data.\n    // Transfer {DOMStringMap} => {hoboDataMap}\n    this.forEach( utils.makeData );\n};\n\n\n// Shim Array-like presentation in console\nHobo.prototype.splice = array.splice;\n\n\n/**\n *\n * @instance\n * @method each\n * @param {function} callback The method called on each iteration\n * @memberof Hobo\n * @description Make sure Hobo is iterable like an Array\n *\n */\nHobo.prototype.each = array.forEach;\n\n\n/**\n *\n * @instance\n * @method forEach\n * @param {function} callback The method called on each iteration\n * @memberof Hobo\n * @description Make sure Hobo is iterable like an Array\n *\n */\nHobo.prototype.forEach = array.forEach;\n\n\n/**\n *\n * @instance\n * @method push\n * @param {?} element element1, ..., elementN\n * @memberof Hobo\n * @description Make sure Hobo is pushable like an Array\n *\n */\nHobo.prototype.push = array.push;\n\n\n/**\n *\n * @instance\n * @method map\n * @param {function} callback The method called for each element\n * @memberof Hobo\n * @description Make sure Hobo is mappable like an Array\n *\n */\nHobo.prototype.map = array.map;\n\n\n// Export the main Hobo Class :D\nmodule.exports = Hobo;\n","/**\n *\n * @static\n * @memberof Hobo\n * @member utils\n * @description Utility methods used internally by Hobo\n *\n */\nvar version = \"0.3.15\",\n\n\n    rData = /^data-/,\n\n\n    rDigit = /\\D/g,\n\n\n    rDashAlpha = /-([\\da-z])/gi,\n\n\n    rTag = /^</,\n\n\n    rJson = /^\\[|\\{/,\n\n\n    rDocType = /^<\\!DOCTYPE\\shtml>/i,\n\n\n    rFront2Back = /^\\s+|\\s+$/g,\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method trimString\n     * @description Trim leading and trailing whitespace\n     * @param {string} str The string to trim\n     * @returns {string}\n     *\n     */\n    trimString = function ( str ) {\n        return str.replace( rFront2Back, \"\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method camelCase\n     * @description Camel case a string\n     * @param {string} str The string to camel case\n     * @returns {string}\n     *\n     */\n    camelCase = function ( str ) {\n        return str.replace( rDashAlpha, function ( all, letter ) {\n            return letter.toUpperCase();\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method makeId\n     * @description Make a unique hobo ID string\n     * @returns {string}\n     *\n     */\n    makeId = function () {\n        return (\"hobo\" + ( version + Math.random() ).replace( rDigit, \"\" ));\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method makeArray\n     * @description Convert elements to a native Array\n     * @param {elements} nodes The nodes to make into an array\n     * @returns {array}\n     *\n     */\n    makeArray = function ( nodes ) {\n        return [].slice.call( nodes );\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method makeData\n     * @description Establish the hoboDataMap for a node\n     * @param {element} node The node to map data on\n     *\n     */\n    makeData = function ( node ) {\n        if ( !node.hoboDataMap ) {\n            node.hoboDataMap = {};\n        }\n\n        if ( node.dataset ) {\n            _mapDataset( node );\n\n        } else if ( node.attributes ) {\n            _mapAttributes( node );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method storeData\n     * @description Store data in the hoboDataMap\n     * @param {object} data The data to store\n     * @param {element} node The node to store data with\n     *\n     */\n    storeData = function ( data, node ) {\n        var id,\n            i;\n\n        for ( i in data ) {\n            if ( data.hasOwnProperty( i ) ) {\n                id = camelCase( i );\n\n                node.hoboDataMap[ id ] = data[ i ];\n            }\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method mergeData\n     * @description Merge\n     * @param {object} data The data to mutate\n     * @param {element} node The node to pull data from\n     *\n     */\n    mergeData = function ( data, node ) {\n        for ( var i in node.hoboDataMap ) {\n            if ( node.hoboDataMap.hasOwnProperty( i ) && !data[ i ] ) {\n                data[ i ] = node.hoboDataMap[ i ];\n            }\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method retrieveData\n     * @description Get data from a node\n     * @param {string} key The reference point for a data entry\n     * @param {element} node The node to pull a data value from\n     * @returns {mixed}\n     *\n     */\n    retrieveData = function ( key, node ) {\n        var ret = null;\n\n        // All data mapped into Hobo will be camel-cased\n        key = camelCase( key );\n\n        if ( node.hoboDataMap && node.hoboDataMap[ key ] ) {\n            ret = node.hoboDataMap[ key ];\n        }\n\n        return ret;\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method removeData\n     * @description Delete data from a nodes hoboDataMap\n     * @param {string} key The reference point for a data entry\n     * @param {element} node The node to delete a data value from\n     *\n     */\n    removeData = function ( key, node ) {\n        // All data mapped into Hobo will be camel-cased\n        key = camelCase( key );\n\n        if ( node.hoboDataMap && node.hoboDataMap[ key ] ) {\n            delete node.hoboDataMap[ key ];\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method serializeData\n     * @description Convert data into AJAXable querystring\n     * @param {object} data The data to convert\n     * @param {string} prefix The current iterations property name\n     * @returns {string}\n     *\n     */\n    serializeData = function ( data, prefix ) {\n        var str = [],\n            key,\n            val,\n            i;\n\n        for ( i in data ) {\n            if ( data.hasOwnProperty( i ) ) {\n                key = prefix ? (prefix + \"[\" + i + \"]\") : i;\n                val = data[ i ];\n\n                if ( Array.isArray( val ) ) {\n                    val.forEach(function ( v ) {\n                        str.push( (encodeURIComponent( key ) + \"[]\" + \"=\" + encodeURIComponent( v )) );\n                    });\n\n                } else if ( typeof val === \"object\" ) {\n                    str.push( serializeData( val, key ) );\n\n                } else {\n                    str.push( (encodeURIComponent( key ) + \"=\" + encodeURIComponent( val )) );\n                }\n            }\n        }\n\n        return str.join( \"&\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method getClass\n     * @description Get the class string from a node\n     * @param {Element} node The node to get `class` for\n     * @returns {string}\n     *\n     */\n    getClass = function ( node ) {\n        return (node.getAttribute( \"class\" ) || \"\");\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method setClass\n     * @description Set the class string for a node\n     * @param {Element} node The node to set `class` on\n     * @param {string} klass The class string to be applied\n     *\n     */\n    setClass = function ( node, klass ) {\n        node.setAttribute( \"class\", klass );\n    },\n\n\n    // DOMStringMap camel-cases data- attributes.\n    // NamedNodeMap is a fallback which supports IE 10.\n    // Data mapped through Hobo must camel-case as well.\n\n\n    /**\n     *\n     * @private\n     * @memberof utils\n     * @method _getDataValue\n     * @description Normalized parsing of JSON string into Object\n     * @param {object} data The data to parse\n     * @returns {object}\n     *\n     */\n    _getDataValue = function ( data ) {\n        if ( rJson.test( data ) ) {\n            try {\n                data = JSON.parse( data );\n\n            } catch ( error ) {\n                throw error;\n            }\n        }\n\n        return data;\n    },\n\n\n    /**\n     *\n     * @private\n     * @memberof utils\n     * @method _mapAttributes\n     * @description Migrate existing NamedNodeMap to a nodes hoboDataMap\n     * @param {element} node The data to parse\n     *\n     */\n    _mapAttributes = function ( node ) {\n        var i = node.attributes.length;\n\n        for ( i; i--; ) {\n            if ( rData.test( node.attributes[ i ].name ) ) {\n                var key = camelCase( node.attributes[ i ].name.replace( rData, \"\" ) );\n\n                node.hoboDataMap[ key ] = _getDataValue( node.attributes[ i ].value );\n            }\n        }\n    },\n\n\n    /**\n     *\n     * @private\n     * @memberof utils\n     * @method _mapDataset\n     * @description Migrate existing DOMStringMap to a nodes hoboDataMap\n     * @param {element} node The data to parse\n     *\n     */\n    _mapDataset = function ( node ) {\n        for ( var i in node.dataset ) {\n            if ( node.dataset.hasOwnProperty( i ) ) {\n                node.hoboDataMap[ i ] = _getDataValue( node.dataset[ i ] );\n            }\n        }\n    };\n\n\nmodule.exports = {\n    version: version,\n    rData: rData,\n    rDigit: rDigit,\n    rTag: rTag,\n    rJson: rJson,\n    rDocType: rDocType,\n    rFront2Back: rFront2Back,\n    trimString: trimString,\n    camelCase: camelCase,\n    makeId: makeId,\n    makeArray: makeArray,\n    makeData: makeData,\n    storeData: storeData,\n    retrieveData: retrieveData,\n    mergeData: mergeData,\n    removeData: removeData,\n    serializeData: serializeData,\n    getClass: getClass,\n    setClass: setClass\n};\n","module.exports = global[\"hobo\"] = require(\"-!./hobo.build.js\");","/*!\n *\n * Use native element selector matching\n *\n * @matchElement\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.matchElement = factory();\n    }\n    \n})(function () {\n\n    /**\n     *\n     * Use native element selector matching\n     * @memberof! <global>\n     * @method matchElement\n     * @param {object} el the element\n     * @param {string} selector the selector to match\n     * @param {boolean} walk should we walk the tree if el is not a match?\n     * @returns element OR null\n     *\n     */\n    var matchElement = function ( el, selector, walk ) {\n        var method = ( el.matches ) ? \"matches\" : ( el.webkitMatchesSelector ) ? \n                                      \"webkitMatchesSelector\" : ( el.mozMatchesSelector ) ? \n                                      \"mozMatchesSelector\" : ( el.msMatchesSelector ) ? \n                                      \"msMatchesSelector\" : ( el.oMatchesSelector ) ? \n                                      \"oMatchesSelector\" : null;\n\n        // Try testing the element against the selector\n        // 0.1 => Method is not undefined\n        // 0.2 => Element passes method call\n        if ( method && el[ method ].call( el, selector ) ) {\n            return el;\n\n        // Keep walking up the DOM if we can - only if `walk` flag is `true`\n        } else if ( walk && el !== document.documentElement && el.parentNode ) {\n            return matchElement( el.parentNode, selector, walk );\n\n        // Otherwise we should not execute an event\n        } else {\n            return null;\n        }\n    };\n\n\n    return matchElement;\n\n});","/*!\n *\n * Event / Animation cycle manager\n *\n * @Controller\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Controller = factory();\n    }\n    \n})(function () {\n    // Private animation functions\n    var raf = window.requestAnimationFrame,\n        caf = window.cancelAnimationFrame,\n    \n    \n    /**\n     *\n     * Event / Animation cycle manager\n     * @constructor Controller\n     * @requires raf\n     * @memberof! <global>\n     *\n     */\n    Controller = function () {\n        return this.init.apply( this, arguments );\n    };\n    \n    Controller.prototype = {\n        constructor: Controller,\n    \n        /**\n         *\n         * Controller constructor method\n         * @memberof Controller\n         * @method Controller.init\n         *\n         */\n        init: function () {\n            /**\n             *\n             * Controller event handlers object\n             * @memberof Controller\n             * @member _handlers\n             * @private\n             *\n             */\n            this._handlers = {};\n    \n            /**\n             *\n             * Controller unique ID\n             * @memberof Controller\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n    \n            /**\n             *\n             * Started iteration flag\n             * @memberof Controller\n             * @member _started\n             * @private\n             *\n             */\n            this._started = false;\n    \n            /**\n             *\n             * Paused flag\n             * @memberof Controller\n             * @member _paused\n             * @private\n             *\n             */\n            this._paused = false;\n    \n            /**\n             *\n             * Timeout reference\n             * @memberof Controller\n             * @member _cycle\n             * @private\n             *\n             */\n            this._cycle = null;\n        },\n    \n        /**\n         *\n         * Controller go method to start frames\n         * @memberof Controller\n         * @method go\n         *\n         */\n        go: function ( fn ) {\n            if ( this._started && this._cycle ) {\n                return this;\n            }\n    \n            this._started = true;\n    \n            var self = this,\n                anim = function () {\n                    self._cycle = raf( anim );\n    \n                    if ( self._started ) {\n                        if ( typeof fn === \"function\" ) {\n                            fn();\n                        }\n                    }\n                };\n    \n            anim();\n        },\n    \n        /**\n         *\n         * Pause the cycle\n         * @memberof Controller\n         * @method pause\n         *\n         */\n        pause: function () {\n            this._paused = true;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Play the cycle\n         * @memberof Controller\n         * @method play\n         *\n         */\n        play: function () {\n            this._paused = false;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Stop the cycle\n         * @memberof Controller\n         * @method stop\n         *\n         */\n        stop: function () {\n            caf( this._cycle );\n    \n            this._paused = false;\n            this._started = false;\n            this._cycle = null;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller add event handler\n         * @memberof Controller\n         * @method on\n         * @param {string} event the event to listen for\n         * @param {function} handler the handler to call\n         *\n         */\n        on: function ( event, handler ) {\n            var events = event.split( \" \" );\n    \n            // One unique ID per handler\n            handler._jsControllerID = this.getUID();\n    \n            for ( var i = events.length; i--; ) {\n                if ( typeof handler === \"function\" ) {\n                    if ( !this._handlers[ events[ i ] ] ) {\n                        this._handlers[ events[ i ] ] = [];\n                    }\n    \n                    // Handler can be stored with multiple events\n                    this._handlers[ events[ i ] ].push( handler );\n                }\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller remove event handler\n         * @memberof Controller\n         * @method off\n         * @param {string} event the event to remove handler for\n         * @param {function} handler the handler to remove\n         *\n         */\n        off: function ( event, handler ) {\n            if ( !this._handlers[ event ] ) {\n                return this;\n            }\n    \n            // Remove a single handler\n            if ( handler ) {\n                this._off( event, handler );\n    \n            // Remove all handlers for event\n            } else {\n                this._offed( event );\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller fire an event\n         * @memberof Controller\n         * @method fire\n         * @param {string} event the event to fire\n         *\n         */\n        fire: function ( event ) {\n            if ( !this._handlers[ event ] ) {\n                return this;\n            }\n    \n            var args = [].slice.call( arguments, 1 );\n    \n            for ( var i = this._handlers[ event ].length; i--; ) {\n                this._handlers[ event ][ i ].apply( this, args );\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Get a unique ID\n         * @memberof Controller\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n    \n            return this._uid;\n        },\n    \n        /**\n         *\n         * Controller internal off method assumes event AND handler are good\n         * @memberof Controller\n         * @method _off\n         * @param {string} event the event to remove handler for\n         * @param {function} handler the handler to remove\n         * @private\n         *\n         */\n        _off: function ( event, handler ) {\n            for ( var i = 0, len = this._handlers[ event ].length; i < len; i++ ) {\n                if ( handler._jsControllerID === this._handlers[ event ][ i ]._jsControllerID ) {\n                    this._handlers[ event ].splice( i, 1 );\n    \n                    break;\n                }\n            }\n        },\n    \n        /**\n         *\n         * Controller completely remove all handlers and an event type\n         * @memberof Controller\n         * @method _offed\n         * @param {string} event the event to remove handler for\n         * @private\n         *\n         */\n        _offed: function ( event ) {\n            for ( var i = this._handlers[ event ].length; i--; ) {\n                this._handlers[ event ][ i ] = null;\n            }\n    \n            delete this._handlers[ event ];\n        }\n    };\n\n    return Controller;\n});","import * as core from \"./core\";\n\n\nlet isActive = false;\nlet isSuppressed = false;\n\n\n/**\n *\n * @public\n * @module overlay\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst overlay = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof overlay\n     * @description Initialize the overlay element.\n     *\n     */\n    init () {\n        if ( core.dom.overlay.element.is( \".is-active\" ) ) {\n            isActive = true;\n\n        } else {\n            core.dom.overlay.element.detach();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method open\n     * @memberof overlay\n     * @description Open the overlay.\n     * @returns {@this}\n     *\n     */\n    open () {\n        if ( isActive || isSuppressed ) {\n            return this;\n        }\n\n        isActive = true;\n\n        core.dom.html.addClass( \"is-overlay-active\" );\n        core.dom.body.append( core.dom.overlay.element );\n\n        setTimeout( () => core.dom.overlay.element.addClass( \"is-active\" ), 10 );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method close\n     * @memberof overlay\n     * @description Close the overlay.\n     * @returns {@this}\n     *\n     */\n    close () {\n        if ( !isActive ) {\n            return this;\n        }\n\n        core.dom.overlay.element.removeClass( \"is-active\" );\n\n        setTimeout( () => {\n            isActive = false;\n\n            core.dom.html.removeClass( \"is-overlay-active\" );\n            core.dom.overlay.element.detach().removeClass( \"is-intro\" );\n\n            this.empty();\n\n        }, core.dom.overlay.elementTransitionDuration );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method empty\n     * @memberof overlay\n     * @description Empty the overlay.\n     *\n     */\n    empty () {\n        core.dom.overlay.elementTitle[ 0 ].innerHTML = \"\";\n    },\n\n\n    /**\n     *\n     * @public\n     * @method suppress\n     * @param {boolean} bool Will it be suppressed?\n     * @memberof overlay\n     * @description Suppress the overlay.\n     *\n     */\n    suppress ( bool ) {\n        isSuppressed = bool;\n\n        if ( isSuppressed && isActive ) {\n            this.close();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setTitle\n     * @param {string} text The text/html to set.\n     * @memberof overlay\n     * @description Add text to the overlay.\n     *\n     */\n    setTitle ( text ) {\n        if ( !isSuppressed ) {\n            core.dom.overlay.elementTitle[ 0 ].innerHTML = text;\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof overlay\n     * @description Is the overlay open?.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return isActive;\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default overlay;\n","/**\n *\n * @public\n * @module util\n * @description Houses app-wide utility methods.\n *\n */\n\n\nimport $ from \"properjs-hobo\";\nimport ImageLoader from \"properjs-imageloader\";\nimport dom from \"./dom\";\nimport config from \"./config\";\nimport detect from \"./detect\";\nimport Hammer from \"hammerjs\";\n\n\n/**\n *\n * @description Add pixel units when inline styling\n * @method px\n * @param {string} str The value to pixel-ify\n * @memberof util\n * @returns {string}\n *\n */\nconst px = function ( str ) {\n    return `${str}px`;\n};\n\n\n/**\n *\n * @description Apply a translate3d transform\n * @method translate3d\n * @param {object} el The element to transform\n * @param {string|number} x The x value\n * @param {string|number} y The y value\n * @param {string|number} z The z value\n * @memberof core.util\n *\n */\nconst translate3d = function ( el, x, y, z ) {\n    el.style[ Hammer.prefixed( el.style, \"transform\" ) ] = `translate3d( ${x}, ${y}, ${z} )`;\n};\n\n\n/**\n *\n * @description Module onImageLoadHander method, handles event\n * @method isElementLoadable\n * @param {object} el The DOMElement to check the offset of\n * @memberof core.util\n * @returns {boolean}\n *\n */\nconst isElementLoadable = function ( el ) {\n    if ( el ) {\n        const bounds = el.getBoundingClientRect();\n\n        return ( bounds.top < (window.innerHeight * 2) );\n    }\n};\n\n\n/**\n *\n * @description Module isElementInViewport method, handles element boundaries\n * @method isElementInViewport\n * @param {object} el The DOMElement to check the offsets of\n * @memberof util\n * @returns {boolean}\n *\n */\nconst isElementInViewport = function ( el ) {\n    if ( el ) {\n        const bounds = el.getBoundingClientRect();\n\n        return ( bounds.top < window.innerHeight && bounds.bottom > 0 );\n    }\n};\n\n\n/**\n *\n * @method getClosestValue\n * @memberof util\n * @param {array} arr The array to process\n * @param {number} closestTo The number to get close to\n * @description Get closest number value without going under\n * @returns {number}\n *\n */\nconst getClosestValue = function ( arr, closestTo ) {\n    // Get the highest number in arr in case it matches nothing.\n    let close = Math.max.apply( null, arr );\n    let i = arr.length;\n\n    for ( i; i--; ) {\n        // Check if it's higher than your number, but lower than your closest value\n        if ( arr[ i ] >= closestTo && arr[ i ] < close ) {\n            close = arr[ i ];\n        }\n    }\n\n    return close;\n};\n\n\n/**\n *\n * @public\n * @method getElementsInView\n * @param {Hobo} $nodes The elements to check\n * @memberof util\n * @description Get only visible elements\n * @returns {Hobo}\n *\n */\nconst getElementsInView = function ( $nodes ) {\n    let i = $nodes.length;\n    const $ret = $( [] );\n\n    for ( i; i--; ) {\n        if ( isElementLoadable( $nodes[ i ] ) ) {\n            $ret.push( $nodes[ i ] );\n        }\n    }\n\n    return $ret;\n};\n\n\n/**\n *\n * @description Update images that have already been loaded\n * @method updateImages\n * @param {Hobo} images The optional argument passed collection to reload\n * @memberof util\n *\n */\nconst updateImages = function ( images ) {\n    images = (images || $( `[${config.imageLoaderAttr}]` ));\n\n    if ( images.length ) {\n        images.removeAttr( config.imageLoaderAttr );\n\n        loadImages( images, noop );\n    }\n};\n\n\n/**\n *\n * @description Fresh query to lazyload images on page\n * @method loadImages\n * @param {object} images Optional collection of images to load\n * @param {function} handler Optional handler for load conditions\n * @param {boolean} useVariant Optional flag to skip loading size variants\n * @param {number} useWidth Optional manual width to determine variant against\n * @memberof util\n * @returns {instance}\n *\n */\nconst loadImages = function ( images, handler, useVariant, useWidth ) {\n    const rQuery = /\\?(.*)$/;\n    const map = function ( vnt ) {\n        return parseInt( vnt, 10 );\n    };\n    let $img = null;\n    let data = null;\n    let dims = null;\n    let vars = null;\n    let width = null;\n    let variant = null;\n    let source = null;\n    let i = null;\n\n    // Normalize the handler\n    handler = (handler || isElementInViewport);\n\n    // Normalize the images\n    images = (images || dom.page.find( config.lazyImageSelector ));\n\n    // Normalize the `useVariant` flag\n    if ( !useVariant && useVariant !== false ) {\n        useVariant = true;\n    }\n\n    // Get the right size image from Squarespace\n    // http://developers.squarespace.com/using-the-imageloader/\n    // Depending on the original upload size, we have these variants\n    // {original, 1500w, 1000w, 750w, 500w, 300w, 100w}\n    i = images.length;\n\n    for ( i; i--; ) {\n        $img = images.eq( i );\n        data = $img.data();\n        width = (useWidth || $img[ 0 ].clientWidth || $img[ 0 ].parentNode.clientWidth || window.innerWidth);\n        source = data.imgSrc.replace( rQuery, \"\" );\n\n        // Pre-process portrait vs landscape using originalSize\n        if ( data.originalSize ) {\n            dims = getOriginalDims( data.originalSize );\n\n            if ( dims.width > dims.height ) {\n                $img.addClass( \"image--wide\" );\n\n            } else {\n                $img.addClass( \"image--tall\" );\n            }\n        }\n\n        if ( useVariant && data.variants ) {\n            vars = data.variants.split( \",\" ).map( map );\n            variant = getClosestValue( vars, width );\n\n            // If the pixel density is higher, use a larger image ?\n            //if ( window.devicePixelRatio > 1 ) {\n            // Splice off the variant that was matched\n            //    vars.splice( vars.indexOf( variant ), 1 );\n\n            // Apply the new, larger variant as the format\n            //    variant = getClosestValue( vars, variant );\n            //}\n\n            $img[ 0 ].setAttribute( config.lazyImageAttr, `${source}?format=${variant}w` );\n        }\n    }\n\n    return new ImageLoader({\n        elements: images,\n        property: config.lazyImageAttr,\n        executor: handler\n    });\n};\n\n\n/**\n *\n * @description Get the applied transition duration from CSS\n * @method getTransitionDuration\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {number}\n *\n */\nconst getTransitionDuration = function ( el ) {\n    let ret = 0;\n    let duration = null;\n    let isSeconds = false;\n    let multiplyBy = 1000;\n\n    if ( el ) {\n        duration = getComputedStyle( el )[ \"transition-duration\" ];\n        isSeconds = String( duration ).indexOf( \"ms\" ) === -1;\n        multiplyBy = isSeconds ? 1000 : 1;\n\n        ret = parseFloat( duration ) * multiplyBy;\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @description All true all the time\n * @method noop\n * @memberof util\n * @returns {boolean}\n *\n */\nconst noop = function () {\n    return true;\n};\n\n\n/**\n *\n * @public\n * @method getOriginalDims\n * @memberof util\n * @param {string} original The original image dims\n * @description Get an object reference to original dims.\n *              Format: \"1600x1600\"\n * @returns {object}\n *\n */\nconst getOriginalDims = function ( original ) {\n    const dims = original.split( \"x\" );\n\n    return {\n        width: parseInt( dims[ 0 ], 10 ),\n        height: parseInt( dims[ 1 ], 10 )\n    };\n};\n\n\n/**\n *\n * @public\n * @method getPageKey\n * @memberof util\n * @description Get the unique page key for cache and such\n * @returns {object}\n *\n */\nconst getPageKey = function () {\n    let ret = null;\n\n    if ( window.location.pathname === config.appRoot ) {\n        ret = config.homepageKey;\n\n    } else {\n        ret = `${window.location.pathname}${window.location.search}`;\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @public\n * @method extendObject\n * @memberof util\n * @param {object} target The target object/array\n * @param {object} arrow The incoming object/array\n * @description Merge objects and arrays by cloning - non-mutable\n * @returns {object}\n *\n */\nconst extendObject = function ( target, arrow ) {\n    let i = null;\n\n    // Never mutate the target\n    const ret = Array.isArray( target ) ? [] : {};\n\n    // Merge Arrays\n    if ( Array.isArray( arrow ) ) {\n        i = target.length;\n\n        for ( i; i--; ) {\n            ret[ i ] = target[ i ];\n        }\n\n        i = arrow.length;\n\n        for ( i; i--; ) {\n            ret[ i ] = arrow[ i ];\n        }\n\n    // Merge Objects\n    } else {\n        for ( i in target ) {\n            if ( target.hasOwnProperty( i ) ) {\n                ret[ i ] = target[ i ];\n            }\n        }\n\n        for ( i in arrow ) {\n            if ( arrow.hasOwnProperty( i ) ) {\n                ret[ i ] = arrow[ i ];\n            }\n        }\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @method getDefaultHammerOptions\n * @memberof core.util\n * @description The default options for Hammer JS.\n *              Disables cssProps for non-touch experiences.\n * @returns {object}\n *\n */\nconst getDefaultHammerOptions = function () {\n    return detect.isDevice() ? {} : {\n        cssProps: {\n            contentZoomingString: false,\n            tapHighlightColorString: false,\n            touchCalloutString: false,\n            touchSelectString: false,\n            userDragString: false,\n            userSelectString: false\n        }\n    };\n};\n\n\n/**\n *\n * Get the applied transform values from CSS\n * @method getTransformValues\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {object}\n *\n */\nconst getTransformValues = function ( el ) {\n    if ( !el ) {\n        return null;\n    }\n\n    const transform = window.getComputedStyle( el )[ Hammer.prefixed( el.style, \"transform\" ) ];\n    const values = transform.replace( /matrix|3d|\\(|\\)|\\s/g, \"\" ).split( \",\" );\n    const ret = {};\n\n    // No Transform\n    if ( values[ 0 ] === \"none\" ) {\n        ret.x = 0;\n        ret.y = 0;\n        ret.z = 0;\n\n    // Matrix 3D\n    } else if ( values.length === 16 ) {\n        ret.x = parseFloat( values[ 12 ] );\n        ret.y = parseFloat( values[ 13 ] );\n        ret.z = parseFloat( values[ 14 ] );\n\n    } else {\n        ret.x = parseFloat( values[ 4 ] );\n        ret.y = parseFloat( values[ 5 ] );\n        ret.z = 0;\n    }\n\n    return ret;\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport {\n    px,\n    noop,\n    getPageKey,\n    loadImages,\n    translate3d,\n    extendObject,\n    updateImages,\n    isElementLoadable,\n    getElementsInView,\n    getTransformValues,\n    isElementInViewport,\n    getTransitionDuration,\n    getDefaultHammerOptions\n};\n","import env from \"./env\";\n\n\n/**\n *\n * @public\n * @method log\n * @description Normalized app console logger.\n *\n */\nconst log = function ( ...args ) {\n    if ( env.isDev() ) {\n        console.log( args );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default log;\n","/*!\n *\n * A base set of easing methods\n * Most of which were found here:\n * https://gist.github.com/gre/1650294\n *\n * @Easing\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Easing = factory();\n    }\n    \n})(function () {\n\n    /**\n     *\n     * Easing functions\n     * @namespace Easing\n     * @memberof! <global>\n     *\n     */\n    var Easing = {\n        /**\n         *\n         * Produce a linear ease\n         * @method linear\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        linear: function ( t ) { return t; },\n        \n        /**\n         *\n         * Produce a swing ease like in jQuery\n         * @method swing\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        swing: function ( t ) { return (1-Math.cos( t*Math.PI ))/2; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuad: function ( t ) { return t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuad: function ( t ) { return t*(2-t); },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuad: function ( t ) { return t<0.5 ? 2*t*t : -1+(4-2*t)*t; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInCubic: function ( t ) { return t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutCubic: function ( t ) { return (--t)*t*t+1; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutCubic: function ( t ) { return t<0.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuart: function ( t ) { return t*t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuart: function ( t ) { return 1-(--t)*t*t*t; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuart: function ( t ) { return t<0.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuint: function ( t ) { return t*t*t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuint: function ( t ) { return 1+(--t)*t*t*t*t; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuint: function ( t ) { return t<0.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t; }\n    };\n    \n    \n    return Easing;\n\n\n});","import $ from \"properjs-hobo\";\nimport * as util from \"./util\";\n\n\nconst $_jsOverlay = $( \".js-overlay\" );\nconst $_jsProject = $( \".js-project-view\" );\nconst $_jsGallery = $( \".js-gallery\" );\n\n\n/**\n *\n * @public\n * @module dom\n * @description Holds high-level cached Nodes.\n *\n */\nconst dom = {\n    /**\n     *\n     * @public\n     * @member doc\n     * @memberof dom\n     * @description The cached document node.\n     *\n     */\n    doc: $( document ),\n\n\n    /**\n     *\n     * @public\n     * @member html\n     * @memberof dom\n     * @description The cached documentElement node.\n     *\n     */\n    html: $( document.documentElement ),\n\n\n    /**\n     *\n     * @public\n     * @member body\n     * @memberof dom\n     * @description The cached body node.\n     *\n     */\n    body: $( document.body ),\n\n\n    /**\n     *\n     * @public\n     * @member header\n     * @memberof dom\n     * @description The cached header node.\n     *\n     */\n    header: $( \".js-header\" ),\n\n\n    /**\n     *\n     * @public\n     * @member nav\n     * @memberof dom\n     * @description The cached nav node.\n     *\n     */\n    nav: $( \".js-nav\" ),\n\n\n    /**\n     *\n     * @public\n     * @member intro\n     * @memberof dom\n     * @description The cached intro node?\n     *\n     */\n    intro: $( \".js-intro\" ),\n\n\n    /**\n     *\n     * @public\n     * @member overlay\n     * @memberof dom\n     * @description The cached overlay node.\n     *\n     */\n    overlay: {\n        element: $_jsOverlay,\n        elementTitle: $_jsOverlay.find( \".js-overlay-title\" ),\n        elementTransitionDuration: util.getTransitionDuration( $_jsOverlay[ 0 ] )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member gallery\n     * @memberof dom\n     * @description The cached gallery node.\n     *\n     */\n    gallery: {\n        element: $_jsGallery,\n        elementNode: $_jsGallery.find( \".js-gallery-node\" )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member page\n     * @memberof dom\n     * @description The cached page container node.\n     *\n     */\n    page: $( \".js-page\" ),\n\n\n    /**\n     *\n     * @public\n     * @member project\n     * @memberof dom\n     * @description The project view node.\n     *\n     */\n    project: {\n        element: $_jsProject,\n        elementPane: $_jsProject.find( \".js-project-view-pane\" ),\n        elementTransitionDuration: util.getTransitionDuration( $_jsProject[ 0 ] )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member root\n     * @memberof dom\n     * @description The cached root node.\n     *\n     */\n    root: $( \".js-root\" ),\n\n\n    /**\n     *\n     * @public\n     * @member main\n     * @memberof dom\n     * @description The cached main node.\n     *\n     */\n    main: $( \".js-main\" )\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default dom;","/*!\n *\n * A simple tween class using requestAnimationFrame\n *\n * @Tween\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Tween = factory();\n    }\n    \n})(function () {\n\n    var Easing = require( \"properjs-easing\" ),\n        defaults = {\n            ease: Easing.linear,\n            duration: 600,\n            from: 0,\n            to: 0,\n            delay: 0,\n            update: function () {},\n            complete: function () {}\n        };\n    \n    \n    /**\n     *\n     * Tween function\n     * @constructor Tween\n     * @requires raf\n     * @requires Easing\n     * @param {object} options Tween animation settings\n     * <ul>\n     * <li>duration - How long the tween will last</li>\n     * <li>from - Where to start the tween</li>\n     * <li>to - When to end the tween</li>\n     * <li>update - The callback on each iteration</li>\n     * <li>complete - The callback on end of animation</li>\n     * <li>ease - The easing function to use</li>\n     * <li>delay - How long to wait before animation</li>\n     * </ul>\n     * @memberof! <global>\n     *\n     */\n    var Tween = function ( options ) {\n        // Normalize options\n        options = (options || {});\n    \n        // Normalize options\n        for ( var i in defaults ) {\n            if ( options[ i ] === undefined ) {\n                options[ i ] = defaults[ i ];\n            }\n        }\n    \n        var tweenDiff = (options.to - options.from),\n            startTime = null,\n            rafTimer = null,\n            isStopped = false;\n    \n        function animate( rafTimeStamp ) {\n            if ( isStopped ) {\n                return;\n            }\n    \n            if ( startTime === null ) {\n                startTime = rafTimeStamp;\n            }\n    \n            var animDiff = (rafTimeStamp - startTime),\n                tweenTo = (tweenDiff * options.ease( animDiff / options.duration )) + options.from;\n    \n            if ( typeof options.update === \"function\" ) {\n                options.update( tweenTo );\n            }\n    \n            if ( animDiff > options.duration ) {\n                if ( typeof options.complete === \"function\" ) {\n                    options.complete( options.to );\n                }\n    \n                cancelAnimationFrame( rafTimer );\n    \n                rafTimer = null;\n    \n                return false;\n            }\n    \n            rafTimer = requestAnimationFrame( animate );\n        }\n    \n        setTimeout(function () {\n            rafTimer = requestAnimationFrame( animate );\n    \n        }, options.delay );\n    \n        this.stop = function () {\n            isStopped = true;\n    \n            cancelAnimationFrame( rafTimer );\n    \n            rafTimer = null;\n        };\n    };\n    \n    \n    return Tween;\n\n\n});","/**\n *\n * @public\n * @module config\n * @description Stores app-wide config values.\n *\n */\nconst config = {\n    /**\n     *\n     * @public\n     * @member rootUrlId\n     * @memberof config\n     * @description The urlId for \"/\".\n     *\n     */\n    rootUrlId: \"garberco\",\n\n\n    /**\n     *\n     * @public\n     * @member homepageKey\n     * @memberof config\n     * @description The cache key to use for homepage.\n     *\n     */\n    homepageKey: \"homepage\",\n\n\n    /**\n     *\n     * @public\n     * @member lazyImageSelector\n     * @memberof config\n     * @description The string selector used for images deemed lazy-loadable.\n     *\n     */\n    lazyImageSelector: \".js-lazy-image\",\n\n\n    /**\n     *\n     * @public\n     * @member lazyImageAttr\n     * @memberof config\n     * @description The string attribute for lazy image source URLs.\n     *\n     */\n    lazyImageAttr: \"data-img-src\",\n\n\n    /**\n     *\n     * @public\n     * @member imageLoaderAttr\n     * @memberof config\n     * @description The string attribute ImageLoader gives loaded images.\n     *\n     */\n    imageLoaderAttr: \"data-imageloader\",\n\n\n    /**\n     *\n     * @public\n     * @member offcanvasClasses\n     * @memberof config\n     * @description The string of offcanvas element classNames.\n     *\n     */\n    offcanvasClasses: \"is-offcanvas is-offcanvas--about is-offcanvas--index is-offcanvas--project\"\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default config;","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","import Controller from \"properjs-controller\";\n\n\n/**\n *\n * @description Single app instanceof [Controller]{@link https://github.com/ProperJS/Controller} for arbitrary event emitting\n * @member emitter\n * @memberof core\n *\n */\nconst emitter = new Controller();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default emitter;","import Easing from \"properjs-easing\";\nimport Tween from \"properjs-tween\";\nimport PageController from \"properjs-pagecontroller\";\nimport $ from \"properjs-hobo\";\nimport * as core from \"./core\";\nimport about from \"./about\";\nimport indexes from \"./indexes\";\nimport listing from \"./indexes/listing\";\nimport projects from \"./projects\";\nimport overlay from \"./overlay\";\nimport gallery from \"./gallery\";\nimport Project from \"./projects/Project\";\n\n\n/**\n *\n * @public\n * @namespace router\n * @description Handles async web app routing for nice transitions.\n *\n */\nconst router = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof router\n     * @description Initialize the router module.\n     *\n     */\n    init () {\n        this.state = {};\n        this.navData = core.dom.nav.data();\n        this.pageData = core.dom.page.data();\n        this.pageDuration = core.util.getTransitionDuration( core.dom.page[ 0 ] );\n        this.tweenScroll = null;\n        this.$rootPanel = core.dom.main.find( \".js-main--garberco\" );\n        this.prepPage();\n        this.bindEmptyHashLinks();\n        this.initPageController();\n\n        core.log( \"router initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method route\n     * @param {string} path The uri to route to\n     * @memberof router\n     * @description Trigger app to route a specific page. [Reference]{@link https://github.com/ProperJS/Router/blob/master/Router.js#L222}\n     *\n     */\n    route ( path ) {\n        this.controller.getRouter().trigger( path );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method push\n     * @param {string} path The uri to route to\n     * @param {function} cb Optional callback to fire\n     * @memberof router\n     * @description Trigger a silent route with a supplied callback.\n     *\n     */\n    push ( path, cb ) {\n        this.controller.routeSilently( path, (cb || core.util.noop) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method redirect\n     * @memberof router\n     * @description Handle 404 / Invalid page hit.\n     *\n     */\n    redirect () {\n        window.location.href = window.location.origin;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method initPageController\n     * @memberof router\n     * @description Create the PageController instance.\n     *\n     */\n    initPageController () {\n        this.controller = new PageController( {} );\n\n        this.controller.setConfig([\n            \"*\"\n        ]);\n\n        this.controller.setModules([\n            about,\n            indexes,\n            listing,\n            projects\n        ]);\n\n        this.controller.on( \"page-controller-router-transition-out\", this.changePageOut.bind( this ) );\n        this.controller.on( \"page-controller-router-refresh-document\", this.changeContent.bind( this ) );\n        this.controller.on( \"page-controller-router-transition-in\", this.changePageIn.bind( this ) );\n        this.controller.on( \"page-controller-initialized-page\", this.initPage.bind( this ) );\n        this.controller.on( \"page-controller-router-samepage\", this.samePage.bind( this ) );\n\n        this.controller.initPage();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method prepPage\n     * @memberof router\n     * @description Perform actions before PageController init callback.\n     *\n     */\n    prepPage () {\n        this.root = null;\n\n        const path = window.location.pathname.split( '/' );\n        const segmentOne = path [ 1 ];\n\n        // Index?\n        // Shop?\n        // Indexes will already have the root gridwall loaded\n        // Offcanvas/Project paths will need to manually load the root index\n        if ( this.pageData.type !== \"index\" ) {\n\n            //Shop?\n\n            if ( segmentOne === \"shop\" ) {\n\n                this.root = \"/shop\";\n                this.loadRootIndex();\n\n            } else {\n\n                if ( this.pageData.type === \"offcanvas\" ) {\n                    this.root = \"/\";\n\n                } else {\n                    this.navData.appTree.forEach(( indexItem ) => {\n                        if ( indexItem.items ) {\n                            indexItem.items.forEach(( collectionItem ) => {\n                                if ( collectionItem.collection.id === this.pageData.id ) {\n                                    this.root = indexItem.collection.fullUrl;\n                                }\n                            });\n                        }\n                    });\n                    core.dom.html.removeClass( \"hide-index\" );\n                }\n\n                this.root = (this.root || \"/\");\n                this.loadRootIndex();\n\n            }\n\n        } else {\n            // Hide index button on Shop and Design\n            if ( segmentOne === \"shop\" || segmentOne === \"direction\") {\n                core.dom.html.addClass( \"hide-index\" );\n            }\n\n            this.root = window.location.pathname;\n        }\n\n        core.dom.root.attr( \"href\", this.root );\n\n        core.dom.root.on( \"click\", () => {\n            core.dom.html.removeClass( core.config.offcanvasClasses );\n\n            core.emitter.fire( \"app--root\" );\n        });\n\n        core.emitter.on( \"app--project-ended\", () => {\n            if ( !this.isPop ) {\n                this.route( this.root );\n            }\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method initPage\n     * @param {object} data The PageController data object\n     * @memberof router\n     * @description Perform actions after PageController init callback.\n     *\n     */\n    initPage ( /* data */ ) {\n        core.dom.nav.detach();\n        // core.dom.page.detach();\n\n        if ( !core.env.isConfig() ) {\n            core.dom.page.detach();\n        }\n\n        core.dom.html.removeClass( \"is-clipped\" );\n        core.dom.body.removeClass( \"is-clipped\" );\n\n        window.addEventListener( \"popstate\", this.handlePopstate.bind( this ), false );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method samePage\n     * @memberof router\n     * @description Handle logo click on root index, or homepage.\n     *\n     */\n    samePage () {\n        if ( window.location.pathname === this.root && !this.tweenScroll && this.$rootPanel[ 0 ].scrollTop > 0 ) {\n            this.tweenScroll = new Tween({\n                to: 0,\n                from: this.$rootPanel[ 0 ].scrollTop,\n                ease: Easing.easeInOutCubic,\n                update: ( top ) => {\n                    this.$rootPanel[ 0 ].scrollTop = top;\n                },\n                complete: () => {\n                    this.tweenScroll = null;\n                },\n                duration: 400\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handlePopstate\n     * @memberof router\n     * @description Process actions to take on popstate.\n     *\n     */\n    handlePopstate () {\n        this.isPop = true;\n\n        let $tile = null;\n        let match = window.location.pathname.match( /^\\/$|^\\/about\\/$|^\\/index\\/$/g );\n\n        // GarberCo?\n        // About?\n        // Index?\n        if ( match && match[ 0 ] ) {\n            match = match[ 0 ].replace( /\\//g, \"\" );\n            match = match ? match : \"garberco\";\n\n            core.dom.main[ 0 ].id = `is-main--${match}`;\n\n            // GarberCo?\n            if ( match === core.config.rootUrlId ) {\n                core.dom.html.removeClass( core.config.offcanvasClasses );\n                //core.dom.html.removeClass( \"is-neverflow\" );\n            }\n\n            // Project?\n            if ( Project.isActive() ) {\n                core.emitter.fire( \"app--project-ended\" );\n            }\n\n            // Overlay?\n            overlay.close();\n\n        // Project?\n        } else {\n            $tile = $( `.js-index-tile[href*='${window.location.pathname}']` );\n            $tile.trigger( \"mouseenter\" );\n            $tile.trigger( \"click\" );\n        }\n\n        // Gallery?\n        gallery.close();\n\n        this.isPop = false;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method loadRootIndex\n     * @memberof router\n     * @description Load the parent Index for the current collection.\n     *\n     */\n    loadRootIndex () {\n        core.api.collection(\n            this.root,\n            { format: \"html\" },\n            { dataType: \"html\" }\n\n        ).then(( response ) => {\n            const doc = this.parseDoc( response );\n\n            core.emitter.fire( \"app--load-root\", doc.pageHtml );\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method loadFullIndex\n     * @param {function} cb The callback to fire\n     * @memberof router\n     * @description Load the parent Index JSON to render full Index view.\n     *\n     */\n    loadFullIndex ( cb ) {\n        core.api.collection(\n            this.root,\n            { format: \"json\" },\n            { dataType: \"json\" }\n\n        ).then( cb );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method parseDoc\n     * @param {string} html The responseText to parse out\n     * @memberof router\n     * @description Get the DOM information to cache for a request.\n     * @returns {object}\n     *\n     */\n    parseDoc ( html ) {\n        let doc = document.createElement( \"html\" );\n        let page = null;\n\n        doc.innerHTML = html;\n\n        doc = $( doc );\n        page = doc.find( \".js-page\" );\n\n        return {\n            $doc: doc,\n            $page: page,\n            pageData: page.data(),\n            pageHtml: page[ 0 ].innerHTML\n        };\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindEmptyHashLinks\n     * @memberof router\n     * @description Suppress #hash links.\n     *\n     */\n    bindEmptyHashLinks () {\n        core.dom.body.on( \"click\", \"[href^='#']\", ( e ) => e.preventDefault() );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changePageOut\n     * @memberof router\n     * @description Trigger transition-out animation.\n     *\n     */\n    changePageOut () {\n        core.dom.html.addClass( \"is-routing\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changeContent\n     * @param {object} data The PageController data object\n     * @memberof router\n     * @description Swap the new content into the DOM.\n     *\n     */\n    changeContent ( data ) {\n        const doc = this.parseDoc( data.response );\n\n        core.dom.page[ 0 ].innerHTML = doc.pageHtml;\n\n        core.emitter.fire( \"app--analytics-push\", doc );\n\n        this.pageData = doc.$page.data();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changePageIn\n     * @param {object} data The data object supplied by PageController from PushState\n     * @memberof router\n     * @description Trigger transition-in animation.\n     *\n     */\n    changePageIn ( /* data */ ) {\n        this.execSquarespace();\n        core.dom.html.removeClass( \"is-routing\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method execSquarespace\n     * @memberof router\n     * @description Initialize system-blocks after ProperJS PageController cycles.\n     *\n     */\n    execSquarespace () {\n        window.Squarespace.initializeCommerce( window.Y );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default router;\n","import * as core from \"../core\";\nimport overlay from \"../overlay\";\nimport Menu from \"../Menu\";\nimport Controller from \"properjs-controller\";\nimport bar from \"../bar\";\nimport VideoVimeo from \"../video/VideoVimeo\";\n\n\nlet isActive = false;\nconst animator = new Controller();\n\n\n/**\n *\n * @public\n * @class Project\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index.\n * @memberof projects\n *\n */\nclass Project {\n    constructor ( $node, data ) {\n        isActive = true;\n\n        this.$node = $node;\n        this.menu = new Menu( !core.env.isConfig() );\n        this.data = data;\n        this.$plates = this.$node.find( \".js-project-plate\" );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n        this.$videos = this.$node.find( \".js-video\" );\n        this.isEnded = false;\n\n        this.bindEvents();\n        this.loadProject();\n        this.loadVideos();\n\n        core.log( \"Project\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof projects.Project\n     * @description Bind event handlers for open Project.\n     *\n     */\n    bindEvents () {\n\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadProject\n     * @memberof projects.Project\n     * @description Load images with {@link ImageController}.\n     *\n     */\n    loadProject () {\n        // Node must be in DOM for image size to work\n        core.dom.project.elementPane.append( this.$node );\n\n        core.images.handleImages( this.$images, this.onPreload.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadVideos\n     * @memberof projects.Project\n     * @description Load videos from vimeo.\n     *\n     */\n    loadVideos () {\n        this.$videos.forEach(( elem, i ) => {\n            const $video = this.$videos.eq( i );\n            const data = $video.data();\n\n            $video.data( \"instance\", new VideoVimeo( $video, data ) );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method killVideos\n     * @memberof projects.Project\n     * @description Kill videos from vimeo.\n     *\n     */\n    killVideos () {\n        this.$videos.forEach(( elem, i ) => {\n            const $video = this.$videos.eq( i );\n            const data = $video.data();\n\n            if ( data.instance ) {\n                data.instance.destroy();\n                data.instance = null;\n            }\n        });\n    }\n\n\n\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onPreload\n     * @memberof projects.Project\n     * @description Handle loaded project images.\n     *\n     */\n    onPreload () {\n        bar.stop();\n\n        this.cycleAnimation();\n\n        setTimeout( overlay.close(), (core.dom.project.elementTransitionDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof projects.Project\n     * @description Run raf cycle to handle animations.\n     *\n     */\n    cycleAnimation () {\n        this.onUpdateEmitter();\n\n        animator.stop();\n        animator.go( this.onUpdateEmitter.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updatePlates\n     * @memberof projects.Project\n     * @description Update active plates for the project.\n     *\n     */\n    updatePlates () {\n        let $plate = null;\n        let i = this.$plates.length;\n\n        for ( i; i--; ) {\n            $plate = this.$plates.eq( i );\n\n            if ( core.util.isElementInViewport( $plate[ 0 ] ) ) {\n                $plate.addClass( \"is-active\" );\n\n            } else {\n                $plate.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updatePosition\n     * @memberof projects.Project\n     * @description Determine when to teardown a project.\n     *\n     */\n    updatePosition () {\n        const nodeRect = this.$node[ 0 ].getBoundingClientRect();\n\n        if ( core.dom.project.element[ 0 ].scrollTop !== 0 && Math.floor( nodeRect.bottom ) <= 0 && !this.isEnded ) {\n            this.isEnded = true;\n\n            core.dom.project.element.addClass( \"is-hidden\" );\n\n            core.emitter.fire( \"app--project-ended\" );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onUpdateEmitter\n     * @memberof projects.Project\n     * @description Handle the raf cycle.\n     *\n     */\n    onUpdateEmitter () {\n        this.updatePlates();\n        this.updatePosition();\n\n        core.emitter.fire( \"app--project-scroll\" );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof projects.Project\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n\n        this.killVideos();\n\n        Project.close();\n    }\n}\n\n\n\n/**\n *\n * @public\n * @static\n * @method isActive\n * @memberof projects.Project\n * @description Test if a project is active.\n * @returns {boolean}\n *\n */\nProject.isActive = function () {\n    return isActive;\n};\n\n\n/**\n *\n * @public\n * @static\n * @method open\n * @memberof projects.Project\n * @description Open the project view element.\n *\n */\nProject.open = function () {\n    isActive = true;\n\n    bar.load();\n\n    core.dom.html.addClass( \"is-offcanvas is-offcanvas--project\" );\n    core.dom.body.append( core.dom.project.element );\n\n    setTimeout( () => core.dom.project.element.addClass( \"is-active\" ), 10 );\n    setTimeout( () => core.dom.project.element.removeClass( \"is-noscroll\" ), core.dom.project.elementTransitionDuration );\n};\n\n\n/**\n *\n * @public\n * @static\n * @method close\n * @memberof projects.Project\n * @description Close the project view element.\n *\n */\nProject.close = function () {\n    isActive = false;\n\n    animator.stop();\n\n    core.dom.project.element.removeClass( \"is-active\" );\n\n    setTimeout( () => {\n        core.dom.html.removeClass( core.config.offcanvasClasses );\n        core.dom.project.element.detach().addClass( \"is-noscroll\" ).removeClass( \"is-hidden\" );\n        core.dom.project.elementPane[ 0 ].innerHTML = \"\";\n\n    }, core.dom.project.elementTransitionDuration );\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Project;\n","import * as core from \"./core\";\nimport Tween from \"properjs-tween\";\nimport Easing from \"properjs-easing\";\nimport $ from \"properjs-hobo\";\n\n\nlet _instance = null;\nconst $_jsBar = $( '<div class=\"bar\"><div class=\"bar__inner\"></div></div>' );\nconst $_jsInner = $_jsBar.find( \".bar__inner\" );\n\n\n/**\n *\n * @private\n * @class Bar\n * @classdesc Shimmed load bars set a high initial animation duration\n *            that can be stopped and completed upon request.\n * @memberof loading\n *\n */\nclass Bar {\n    constructor () {\n        this.tween = null;\n        this.timeout = 5000;\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method append\n     * @memberof loading.Bar\n     * @description Append the element to the DOM.\n     *\n     */\n    append () {\n        core.dom.body.append( $_jsBar );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method load\n     * @memberof loading.Bar\n     * @description Initialize the load bar ui for progress shim.\n     *\n     */\n    load () {\n        this.append();\n\n        this.tween = new Tween({\n            from: 0,\n            to: window.innerWidth,\n            update: this.update.bind( this ),\n            complete: this.update.bind( this ),\n            ease: Easing.easeInOutCubic,\n            duration: this.timeout\n        });\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method stop\n     * @param {function} callback The function to call when Tween is complete\n     * @memberof loading.Bar\n     * @description Terminate the load bar animation.\n     *\n     */\n    stop ( callback ) {\n        this.tween.stop();\n        this.tween = new Tween({\n            from: this.getFrom(),\n            to: window.innerWidth,\n            update: this.update.bind( this ),\n            complete: this.complete.bind( this, callback ),\n            ease: Easing.easeInOutCubic,\n            duration: 50\n        });\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method update\n     * @param {number} value The new value to tween to\n     * @memberof loading.Bar\n     * @description Animate/Tween the load bar ui.\n     *\n     */\n    update ( value ) {\n        $_jsInner[ 0 ].style.width = core.util.px( value );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method complete\n     * @param {function} callback The function to call when transition is complete\n     * @memberof loading.Bar\n     * @description Complete the load bar ui sequence and detach the node.\n     *\n     */\n    complete ( callback ) {\n        $_jsBar.addClass( \"is-done\" );\n\n        setTimeout( () => {\n            $_jsBar\n                .detach()\n                .removeClass( \"is-done\" );\n            $_jsInner.attr( \"style\", \"\" );\n\n            callback();\n\n        }, core.util.getTransitionDuration( $_jsBar[ 0 ] ) );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method getFrom\n     * @memberof loading.Bar\n     * @description Get the current value to tween from.\\\n     * @returns {number}\n     *\n     */\n    getFrom () {\n        return $_jsInner[ 0 ].clientWidth;\n    }\n}\n\n\n/**\n *\n * @public\n * @namespace bar\n * @description Performs a loader bar interaction.\n * @memberof loading\n *\n */\nconst bar = {\n    /**\n     *\n     * @public\n     * @method load\n     * @param {string} position The placement position for the load bar.\n     * @param {string} color The optional color tone for the load bar.\n     * @memberof loading.bar\n     * @description Shims a \"loading\" progress bar based on... nothing!\n     *\n     */\n    load ( position, color ) {\n        _instance = new Bar( position, color );\n        _instance.load();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method stop\n     * @memberof loading.bar\n     * @description Stops load bar animation and removes the bar instance.\n     *\n     */\n    stop () {\n        if ( _instance ) {\n            _instance.stop(() => {\n                _instance = null;\n            });\n        }\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default bar;","import $ from \"properjs-hobo\";\nimport * as core from \"./core\";\nimport Menu from \"./Menu\";\nimport debounce from \"properjs-debounce\";\nimport overlay from \"./overlay\";\nimport bar from \"./bar\";\nimport Hammer from \"hammerjs\";\nimport Easing from \"properjs-easing\";\nimport Tween from \"properjs-tween\";\nimport VideoVimeo from \"./video/VideoVimeo\";\n\n\n\n/**\n *\n * @public\n * @module gallery\n * @description Handles single view images.\n *\n */\nconst gallery = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof gallery\n     * @description Initialize the gallery element.\n     *\n     */\n    init () {\n        this.tween = null;\n        this.menu = new Menu( core.dom.gallery.element, true );\n\n        // Image\n        this.$image = $( new Image() );\n        this.$image[ 0 ].className = \"gallery__image figure__image image\";\n\n        // Video\n        this.videoData = null;\n        this.$videoWrap = $( document.createElement( \"div\" ) );\n        this.$videoWrap[ 0 ].className = \"_video gallery__video\";\n        this.$video = $( document.createElement( \"video\" ) );\n        this.$video[ 0 ].className = \"_video__element\";\n        this.$videoWrap.append( this.$video );\n\n        core.dom.gallery.elementNode.append( this.$image );\n        core.dom.gallery.elementNode.append( this.$videoWrap );\n\n        if ( core.detect.isDevice() ) {\n            this.bindSwipe();\n\n        } else {\n            this.bindClick();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindSwipe\n     * @memberof gallery\n     * @description Bind Hammerjs touch events.\n     *\n     */\n    bindSwipe () {\n        this._onTap = this.onTap.bind( this );\n        this._onSwipe = this.onSwipe.bind( this );\n        this._onPanmove = this.onPanmove.bind( this );\n        this._onPanend = this.onPanend.bind( this );\n\n        this.tap = new Hammer( core.dom.gallery.element[ 0 ], core.util.getDefaultHammerOptions() );\n        this.tap.on( \"tap\", this._onTap );\n\n        this.swipe = new Hammer( core.dom.gallery.elementNode[ 0 ], core.util.getDefaultHammerOptions() );\n        this.swipe.on( \"panmove\", this._onPanmove );\n        this.swipe.on( \"panend\", this._onPanend );\n        this.swipe.on( \"swipe\", this._onSwipe );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindClick\n     * @memberof gallery\n     * @description Bind Mouse events.\n     *\n     */\n    bindClick () {\n        core.dom.gallery.element.on( \"click\", debounce( this.onClick.bind( this ), 200, true ) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onTap\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle tap event.\n     *\n     */\n    onTap ( e ) {\n        if ( e.target !== this.$video[ 0 ] ) {\n            core.emitter.fire( \"app--gallery-background\" );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onPanmove\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle panning event.\n     *\n     */\n    onPanmove ( e ) {\n        e.preventDefault();\n\n        if ( !this.tween ) {\n            core.util.translate3d(\n                core.dom.gallery.elementNode[ 0 ],\n                core.util.px( (e.deltaX / 3) ),\n                0,\n                0\n            );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onPanend\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle end of pan event.\n     *\n     */\n    onPanend () {\n        if ( !this.tween ) {\n            const transform = core.util.getTransformValues( core.dom.gallery.elementNode[ 0 ] );\n            const isLeft = (transform.x < 0);\n\n            this.tween = new Tween({\n                to: 0,\n                from: Math.abs( transform.x ),\n                ease: Easing.easeInOutCubic,\n                update: ( x ) => {\n                    core.util.translate3d(\n                        core.dom.gallery.elementNode[ 0 ],\n                        core.util.px( (isLeft ? -x : x) ),\n                        0,\n                        0\n                    );\n                },\n                complete: () => {\n                    this.tween = null;\n                },\n                duration: 200\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onSwipe\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle `swipe` event.\n     *\n     */\n    onSwipe ( e ) {\n        e.preventDefault();\n\n        const transform = core.util.getTransformValues( core.dom.gallery.elementNode[ 0 ] );\n        const isLeft = (e.direction === Hammer.DIRECTION_LEFT);\n\n        if ( !this.tween ) {\n            this.tween = new Tween({\n                to: window.innerWidth,\n                from: Math.abs( transform.x ),\n                ease: Easing.easeInOutCubic,\n                update: ( x ) => {\n                    core.util.translate3d(\n                        core.dom.gallery.elementNode[ 0 ],\n                        core.util.px( (isLeft ? -x : x) ),\n                        0,\n                        0\n                    );\n                },\n                complete: () => {\n                    this.empty();\n\n                    core.emitter.fire( \"app--gallery-image\", (isLeft ? Hammer.DIRECTION_RIGHT : Hammer.DIRECTION_LEFT) );\n\n                    setTimeout( () => {\n                        this.tween = null;\n\n                        core.util.translate3d(\n                            core.dom.gallery.elementNode[ 0 ],\n                            0,\n                            0,\n                            0\n                        );\n\n                    }, (overlay.isActive() ? core.dom.overlay.elementTransitionDuration : 10) );\n                },\n                duration: 200\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof onClick\n     * @param {object} e The Event object\n     * @description Handle gallery click event.\n     *\n     */\n    onClick ( e ) {\n        if ( e.target === core.dom.gallery.elementNode[ 0 ] || overlay.isActive() ) {\n            this.handleClick( e );\n\n        } else {\n            core.emitter.fire( \"app--gallery-background\" );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof handleClick\n     * @param {object} e The Event object\n     * @description Handle gallery click, move forward/backward.\n     *\n     */\n    handleClick ( e ) {\n        const rect = (this.videoData ? this.$video[ 0 ] : this.$image[ 0 ]).getBoundingClientRect();\n        let direction = null;\n\n        if ( e.clientX <= (rect.width / 2 + rect.left) && !overlay.isActive() ) {\n            direction = Hammer.DIRECTION_LEFT;\n\n        } else {\n            direction = Hammer.DIRECTION_RIGHT;\n        }\n\n        core.emitter.fire( \"app--gallery-image\", direction );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method open\n     * @memberof gallery\n     * @description Open the gallery.\n     *\n     */\n    open () {\n        if ( !this.menu.isActive() ) {\n            this.menu.open();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method close\n     * @memberof gallery\n     * @description Close the gallery.\n     *\n     */\n    close () {\n        if ( this.menu.isActive() ) {\n            this.menu.close();\n\n            this.empty();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method empty\n     * @memberof gallery\n     * @description Empty the gallery.\n     *\n     */\n    empty () {\n        this.$image[ 0 ].src = \"\";\n\n        if ( this.videoData ) {\n            this.$video[ 0 ].innerHTML = \"\";\n            this.videoData = null;\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setImage\n     * @param {Hobo} $image The image to create a full view of.\n     * @memberof gallery\n     * @description Apply an image to the gallery view.\n     *\n     */\n    setImage ( $image ) {\n        this.empty();\n\n        const data = $image.data();\n\n        core.dom.gallery.element.removeClass( \"is-video\" );\n\n        bar.load();\n        this.open();\n        this.$image.removeAttr( core.config.imageLoaderAttr ).attr({\n            \"data-img-src\": data.imgSrc,\n            \"data-variants\": data.variants,\n            \"data-original-size\": data.originalSize\n        });\n\n        core.util.loadImages( this.$image, core.util.noop, true, window.innerWidth ).on( \"done\", () => {\n            bar.stop();\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setVideo\n     * @param {object} vData The vimeo api data.\n     * @memberof gallery\n     * @description Apply a video to the gallery view.\n     *\n     */\n    setVideo ( vData ) {\n        this.empty();\n        this.videoData = vData;\n\n        const files = VideoVimeo.logVideoFiles( this.videoData );\n        const file = VideoVimeo.getVideoFile( files );\n\n        core.dom.gallery.element.addClass( \"is-video\" );\n\n        this.open();\n        this.$videoWrap[ 0 ].style.paddingBottom = `${((this.videoData.height / this.videoData.width) * 100)}%`;\n\n        // Avoid always playing the first video loaded each time\n        if ( core.detect.isDevice() ) {\n            this.$video[ 0 ].setAttribute( \"poster\", this.videoData.pictures.sizes[ this.videoData.pictures.sizes.length - 1 ].link );\n            this.$video[ 0 ].setAttribute( \"controls\", true );\n        }\n\n        this.$video[ 0 ].src = file;\n        this.$video[ 0 ].load();\n        this.$video[ 0 ].play();\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default gallery;\n","import dom from \"./dom\";\nimport log from \"./log\";\n\n\n/**\n *\n * @public\n * @module detect\n * @description Handles basic detection of touch devices.\n *\n */\nconst detect = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof detect\n     * @description Initializes the detect module.\n     *\n     */\n    init () {\n        this._isTouch = (\"ontouchstart\" in window) || (window.DocumentTouch && document instanceof window.DocumentTouch);\n        this._isMobile = (/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|Opera Mini/gi.test( window.navigator.userAgent ));\n\n        if ( this._isTouch ) {\n            dom.html.addClass( \"is-touchable\" );\n\n        } else {\n            dom.html.addClass( \"is-hoverable\" );\n        }\n\n        log( \"detect initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isMobile\n     * @memberof detect\n     * @description Check for high-end mobile device user agents.\n     * @returns {boolean}\n     *\n     */\n    isMobile () {\n        return this._isMobile;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isTouch\n     * @memberof detect\n     * @description Check whether this is a touch device or not.\n     * [See Modernizr]{@link https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js}\n     * @returns {boolean}\n     *\n     */\n    isTouch () {\n        return this._isTouch;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isDevice\n     * @memberof detect\n     * @description Must be `isMobile` and `isTouch`.\n     * @returns {boolean}\n     *\n     */\n    isDevice () {\n        return (this.isTouch() && this.isMobile());\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isStandalone\n     * @memberof detect\n     * @description Must be window.standalone.\n     * @returns {boolean}\n     *\n     */\n    isStandalone () {\n        return (\"standalone\" in window);\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default detect;","const DEV = \"development\";\nconst PROD = \"production\";\n\n\n\n/**\n *\n * @public\n * @module env\n * @description Set the app environment.\n *\n */\nconst env = {\n    /**\n     *\n     * @member DEV\n     * @memberof core.env\n     * @description The development environment CONST.\n     *\n     */\n    DEV: DEV,\n\n\n    /**\n     *\n     * @member PROD\n     * @memberof core.env\n     * @description The production environment CONST.\n     *\n     */\n    PROD: PROD,\n\n\n    /**\n     *\n     * @member ENV\n     * @memberof core.env\n     * @description The applied environment ref.\n     *\n     */\n    ENV: (/^localhost|squarespace|^[0-9]{0,3}\\.[0-9]{0,3}\\.[0-9]{0,3}\\.[0-9]{0,3}/g.test( document.domain ) ? DEV : PROD),\n\n\n    /**\n     *\n     * @method isConfig\n     * @memberof env\n     * @description Determine whether we are in Squarespace /config land or not.\n     * @returns {boolean}\n     *\n     */\n    isConfig () {\n        return (window.parent.location.pathname.indexOf( \"/config\" ) !== -1);\n    },\n\n\n    /**\n     *\n     * @method get\n     * @memberof core.isDev\n     * @description Returns the dev mode status.\n     * @returns {boolean}\n     *\n     */\n    isDev () {\n        return (this.ENV === DEV);\n    },\n\n\n    /**\n     *\n     * @method get\n     * @memberof core.isProd\n     * @description Returns the dev mode status.\n     * @returns {boolean}\n     *\n     */\n    isProd () {\n        return (this.ENV === PROD);\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default env;\n","/*!\n *\n * Parse query string into object literal representation\n *\n * @compat: jQuery, Ender, Zepto\n * @author: @kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.paramalama = factory();\n    }\n    \n})(function () {\n    \n    var paramalama = function ( str ) {\n        var query = decodeURIComponent( str ).match( /[#|?].*$/g ),\n            ret = {};\n        \n        if ( query ) {\n            query = query[ 0 ].replace( /^\\?|^#|^\\/|\\/$|\\[|\\]/g, \"\" );\n            query = query.split( \"&\" );\n            \n            for ( var i = query.length; i--; ) {\n                var pair = query[ i ].split( \"=\" ),\n                    key = pair[ 0 ],\n                    val = pair[ 1 ];\n                \n                if ( ret[ key ] ) {\n                    // #2 https://github.com/kitajchuk/paramalama/issues/2\n                    // This supposedly will work as of ECMA-262\n                    // This works since we are not passing objects across frame boundaries\n                    // and we are not considering Array-like objects. This WILL be an Array.\n                    if ( {}.toString.call( ret[ key ] ) !== \"[object Array]\" ) {\n                        ret[ key ] = [ ret[ key ] ];\n                    }\n                    \n                    ret[ key ].push( val );\n                    \n                } else {\n                    ret[ key ] = val;\n                }\n            }\n        }\n        \n        return ret;\n    };\n    \n    if ( typeof $ !== \"undefined\" ) {\n        $.paramalama = paramalama;\n    }\n\n    return paramalama;\n    \n});\n","import log from \"./log\";\n\n\n// Singleton\nlet _instance = null;\nlet _initialized = false;\n\n// Session Storage\nlet _cache = {};\nconst _access = \"app-cache\";\nconst _session = window.sessionStorage;\n\n\n/**\n *\n * @public\n * @class Store\n * @param {object} options The Store settings\n * @classdesc Handles how data / content is cached and stored for webapp.\n *\n */\nclass Store {\n    constructor ( options ) {\n        if ( !_instance ) {\n            _instance = this;\n\n            this._opts = options;\n            this._init();\n        }\n\n        return _instance;\n    }\n\n\n    /**\n     *\n     * @private\n     * @instance\n     * @method _init\n     * @memberof Store\n     * @description One time Store initialization\n     *\n     */\n    _init () {\n        if ( _initialized ) {\n            return;\n        }\n\n        _initialized = true;\n\n        this.flush();\n\n        log( \"Singleton Store initialized\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method flush\n     * @memberof Store\n     * @description Manually flush the Local Storage cache\n     *\n     */\n    flush () {\n        // New empty cache\n        _cache = {};\n\n        // Store the new cache object\n        this.save();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method save\n     * @memberof Store\n     * @description Perform the actual synchronous write to Local Storage\n     *\n     */\n    save () {\n        if ( !this._opts.enableStorage || !Store.isStorageSupported ) {\n            log( \"Cache Storage disabled - Not writing to SessionStorage\" );\n            return;\n        }\n\n        _session.setItem( _access, JSON.stringify( _cache ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method slug\n     * @param {string} uri The string to slugify\n     * @memberof Store\n     * @description Slug a uri string\n     * @returns {string}\n     *\n     */\n    slug ( uri ) {\n        uri = uri.replace( /^\\/|\\/$/g, \"\" ).replace( /\\/|\\?|&|=|\\s/g, \"-\" ).toLowerCase();\n\n        return uri;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method set\n     * @param {string} id The index key\n     * @param {mixed} val The value to store\n     * @memberof Store\n     * @description Set a key's value in the cache\n     *\n     */\n    set ( id, val ) {\n        id = this.slug( id );\n\n        _cache[ id ] = val;\n\n        this.save();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method get\n     * @param {string} id The index key\n     * @memberof Store\n     * @description Get a key's value from the cache\n     * @returns {mixed}\n     *\n     */\n    get ( id ) {\n        id = (id && this.slug( id ));\n\n        return (id ? this.getValue( _cache[ id ] ) : _cache);\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method getValue\n     * @param {mixed} val The accessed value\n     * @memberof Store\n     * @description Get a value so cache is non-mutable from outside\n     * @returns {mixed}\n     *\n     */\n    getValue ( val ) {\n        const ret = val;\n\n        return ret;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method remove\n     * @param {string} id The index key\n     * @memberof Store\n     * @description Remove a key/val pair from the cache\n     *\n     */\n    remove ( id ) {\n        delete _cache[ id ];\n    }\n}\n\n\n\n/**\n *\n * @public\n * @static\n * @member crumb\n * @memberof Store\n * @description Crumb CSRF token value for website\n *\n */\nStore.crumb = (function () {\n    const ret = RegExp( `(^|; )${encodeURIComponent( \"crumb\" )}=([^;]*)` ).exec( document.cookie );\n\n    return ret ? ret[ 2 ] : null;\n\n})();\n\n\n\n/**\n *\n * @public\n * @static\n * @member isStorageSupported\n * @memberof Store\n * @description Boolean to test local/session storage support\n *\n */\nStore.isStorageSupported = (function () {\n    let ret = true;\n\n    try {\n        _session.setItem( \"app-test\", 1 );\n        _session.removeItem( \"app-test\" );\n\n    } catch ( err ) {\n        ret = false;\n    }\n\n    return ret;\n})();\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Store;\n","import ResizeController from \"properjs-resizecontroller\";\n\n\n/**\n *\n * @description Single app instanceof [ResizeController]{@link https://github.com/ProperJS/ResizeController} for raf resize handling\n * @member resizer\n * @memberof core\n *\n */\nconst resizer = new ResizeController();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default resizer;","/*!\n *\n * Debounce methods\n * Sourced from here:\n * http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n *\n * @debounce\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.debounce = factory();\n    }\n    \n})(function () {\n\n\n    /**\n     *\n     * Limit method calls\n     * @memberof! <global>\n     * @method debounce\n     * @param {function} callback The method handler\n     * @param {number} threshold The timeout delay in ms\n     * @param {boolean} execAsap Call function at beginning or end of detection period\n     *\n     */\n    var debounce = function ( callback, threshold, execAsap ) {\n        var timeout = null;\n        \n        return function debounced() {\n            var args = arguments,\n                context = this;\n            \n            function delayed() {\n                if ( !execAsap ) {\n                    callback.apply( context, args );\n                }\n                \n                timeout = null;\n            }\n            \n            if ( timeout ) {\n                clearTimeout( timeout );\n                \n            } else if ( execAsap ) {\n                callback.apply( context, args );\n            }\n            \n            timeout = setTimeout( delayed, (threshold || 100) );\n        };\n    };\n    \n    \n    return debounce;\n\n\n});","import * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @class Menu\n * @classdesc Handle normalized open/close for overlay menus.\n * @param {Hobo} $node The menu element\n *\n */\nclass Menu {\n    constructor ( $node, detached ) {\n        this.$node = $node;\n        this.tDuration = core.util.getTransitionDuration( this.$node[ 0 ] );\n        this.isOpen = false;\n        this.isDetach = detached;\n        //this.scrollPos = core.scroller.getScrollY();\n\n        if ( this.isDetach ) {\n            this.$node.detach();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method open\n     * @memberof menus.Menu\n     * @description Open the menu.\n     *\n     */\n    open () {\n        this.isOpen = true;\n\n        core.dom.html.addClass( \"is-menu-open\" );\n\n        if ( this.isDetach ) {\n            core.dom.body.append( this.$node );\n        }\n\n        // 0.4 => Broadcast the open menu\n        core.emitter.fire( \"app--menu-opened\" );\n\n        setTimeout( () => this.$node.addClass( \"is-active\" ), 10 );\n        setTimeout( () => {\n            this.$node.addClass( \"is-active-events\" );\n            core.dom.html.addClass( \"is-clipped\" );\n            core.dom.body.addClass( \"is-clipped\" );\n\n        }, (this.tDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method close\n     * @memberof menus.Menu\n     * @description Close the menu.\n     *\n     */\n    close () {\n        this.$node.removeClass( \"is-active is-active-events\" );\n        core.dom.html.removeClass( \"is-clipped\" );\n        core.dom.body.removeClass( \"is-clipped\" );\n\n        // 0.3 => Broadcast the closed menu\n        core.emitter.fire( \"app--menu-closed\" );\n\n        setTimeout( () => {\n            this.isOpen = false;\n            core.dom.html.removeClass( \"is-menu-open\" );\n\n            if ( this.isDetach ) {\n                this.$node.detach();\n            }\n\n        }, (this.tDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method toggle\n     * @memberof menus.Menu\n     * @description Open or Close the menu.\n     *\n     */\n    toggle () {\n        if ( this.isOpen ) {\n            this.close();\n\n        } else {\n            this.open();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method isActive\n     * @memberof menus.Menu\n     * @description Check the state of the menu.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return this.isOpen;\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Menu;\n","import * as core from \"../core\";\nimport mediabox from \"./mediabox\";\nimport AutoplayHandler from \"./AutoplayHandler\";\n\n\n/**\n *\n * @public\n * @class VideoVimeo\n * @memberof video\n * @classdesc Video default for third-party service embeds.\n * @param {Hobo} $node The element to inject the video module into\n * @param {object} data The video data to work with\n *\n */\nclass VideoVimeo {\n    constructor ( $node, data ) {\n        this.$node = $node;\n        this.$video = this.$node.find( \".js-video-element\" );\n        this.$poster = this.$node.find( \".js-video-poster\" );\n        this.$playback = this.$node.find( \".js-video-playback\" );\n        this.data = data;\n        this._files = {};\n        this._video = null;\n\n        this.loadVimeoData();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadVimeoData\n     * @memberof VideoVimeo\n     * @description Attempt to utilize the Vimeo JS API for source files.\n     *\n     */\n    loadVimeoData () {\n        const vimeoId = this.data.vimeoUrl.split( \"/\" ).pop();\n\n        core.api.vimeo( vimeoId ).then( ( vData ) => {\n            this.handleVimeoData( vData );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method handleVimeoData\n     * @param {object} vData The response data from Vimeo's API\n     * @memberof VideoVimeo\n     * @description Process Vimeo API data and find an HD version to use.\n     *\n     */\n    handleVimeoData ( vData ) {\n        this.vData = vData;\n\n        // Organize video files\n        this._files = VideoVimeo.logVideoFiles( vData );\n\n        // Assign source file to data\n        this.data.sourceUrl = VideoVimeo.getVideoFile( this._files );\n\n        // Assign poster thumbnail\n        this.data.posterUrl = this.vData.pictures.sizes[ this.vData.pictures.sizes.length - 1 ].link;\n\n        if ( core.detect.isDevice() ) {\n            this.initMobile();\n\n        } else {\n            this.initVideo();\n        }\n\n        this.applyAspect();\n        this.createMediaNode( this.data.id, this.data.sourceUrl, this.$video[ 0 ] );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initMobile\n     * @memberof VideoVimeo\n     * @description Initialize videos for modile devices.\n     *\n     */\n    initMobile () {\n        this.$video[ 0 ].setAttribute( \"controls\", true );\n        this.$video[ 0 ].setAttribute( \"loop\", false );\n        this.$video[ 0 ].setAttribute( \"poster\", this.data.posterUrl );\n        this.$poster.remove();\n        this.$playback.remove();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initVideo\n     * @memberof VideoVimeo\n     * @description Initialize videos for browsers.\n     *\n     */\n    initVideo () {\n        this.$video.on( \"loadedmetadata\", () => {\n            if ( this.data.autoplayLoop ) {\n                this.bindAutoplayLoop();\n\n            } else if ( this.data.clickToPlay ) {\n                this.loadThumbFile();\n                this.bindClickToPlay();\n            }\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadThumbFile\n     * @memberof VideoVimeo\n     * @description Load poster image from vimeo.\n     *\n     */\n    loadThumbFile () {\n        this.$poster.attr( \"data-img-src\", this.data.posterUrl );\n\n        core.util.loadImages( this.$poster );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindAutoplayLoop\n     * @memberof VideoVimeo\n     * @description Handle autoplay loop video option.\n     *\n     */\n    bindAutoplayLoop () {\n        this._autoplayHandler = new AutoplayHandler( this.$node, this.data.id );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindClickToPlay\n     * @memberof VideoVimeo\n     * @description Handle click-to-play video option.\n     *\n     */\n    bindClickToPlay () {\n        this.$video.on( \"click\", () => {\n            if ( mediabox.isPlaying( this.data.id ) ) {\n                this.$node.removeClass( \"is-playing\" );\n                mediabox.stopMedia( this.data.id );\n\n            } else {\n                this.$node.addClass( \"is-playing\" );\n                mediabox.playMedia( this.data.id );\n            }\n        });\n\n        mediabox.addMediaEvent( this.data.id, \"play\", () => {\n            this.$node.addClass( \"is-active\" );\n        });\n\n        mediabox.addMediaEvent( this.data.id, \"ended\", () => {\n            mediabox.stopMedia( this.data.id ).setMediaProp( this.data.id, \"currentTime\", 0 );\n\n            this.$node.removeClass( \"is-active is-playing\" );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method createMediaNode\n     * @param {string} id The media id\n     * @param {string} url The media source url\n     * @param {element} node The <video /> element\n     * @memberof VideoVimeo\n     * @description Execute the MediaBox implementation adding this video to the `library`.\n     *\n     */\n    createMediaNode ( id, url, node ) {\n        mediabox.addVideo({\n            id: id,\n            src: url.split( \",\" ),\n            element: node,\n            channel: \"vid\"\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method applyAspect\n     * @memberof VideoVimeo\n     * @description Apply the video's aspect ratio.\n     *\n     */\n    applyAspect () {\n        this.$node[ 0 ].style.paddingBottom = `${((this.vData.height / this.vData.width) * 100)}%`;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method destroy\n     * @memberof VideoVimeo\n     * @description Removes events and media for the video instance.\n     *\n     */\n    destroy () {\n        this.$video.off( \"click loadedmetadata\" );\n\n        if ( this._autoplayHandler ) {\n            this._autoplayHandler.destroy();\n        }\n\n        if ( mediabox.getMedia( this.data.id ) ) {\n            mediabox.destroyMedia( this.data.id );\n        }\n    }\n}\n\n\n\n/**\n *\n * @public\n * @static\n * @method logVideoFiles\n * @param {object} vData The api response from Vimeo\n * @memberof VideoVimeo\n * @description Organize the files array into something easier to use.\n * @returns {object}\n *\n */\nVideoVimeo.logVideoFiles = function ( vData ) {\n    let i = vData.files.length;\n    const files = {};\n\n    for ( i; i--; ) {\n        if ( !files[ vData.files[ i ].quality ] || (files[ vData.files[ i ].quality ] && vData.files[ i ].size > files[ vData.files[ i ].quality ].size) ) {\n            files[ vData.files[ i ].quality ] = vData.files[ i ];\n        }\n    }\n\n    return files;\n};\n\n\n/**\n *\n * @public\n * @static\n * @method getVideoFile\n * @param {object} files The logged video files\n * @memberof VideoVimeo\n * @description Get the file to play.\n * @returns {string}\n *\n */\nVideoVimeo.getVideoFile = function ( files ) {\n    return (core.detect.isDevice() ? (files.mobile || files.sd) : (files.hd || files.sd)).link;\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default VideoVimeo;\n","import MediaBox from \"properjs-mediabox\";\n\n\n/**\n *\n * @description Single app instanceof [MediaBox]{@link https://github.com/ProperJS/MediaBox} for custom audio/video\n * @member mediabox\n * @memberof video\n *\n */\nconst mediabox = new MediaBox();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default mediabox;\n","require( \"../sass/screen.scss\" );\n\n\nimport * as core from \"./core\";\nimport router from \"./router\";\nimport overlay from \"./overlay\";\nimport gallery from \"./gallery\";\nimport intro from \"./intro\";\nimport main from \"./main\";\n\n\n/**\n *\n * @public\n * @class App\n * @classdesc Load the App application Class to handle it ALL.\n *\n */\nclass App {\n    constructor () {\n        this.core = core;\n        this.main = main;\n        this.router = router;\n        this.overlay = overlay;\n        this.gallery = gallery;\n        this.intro = intro;\n        this.analytics = new core.Analytics();\n\n        if ( !this.core.dom.page.length ) {\n            //this.router.redirect();\n\n        } else {\n            this.bindEvents();\n            this.initModules();\n        }\n\n        if ( core.env.isConfig() ) {\n            core.dom.html.addClass( \"is-config\" );\n        }\n\n        core.log( \"App\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initModules\n     * @memberof App\n     * @description Initialize modules.\n     *\n     */\n    initModules () {\n        this.core.detect.init( this );\n        this.core.resizes.init( this );\n        //this.core.scrolls.init( this );\n        this.main.init( this );\n        this.router.init( this );\n        this.overlay.init( this );\n        this.gallery.init( this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof App\n     * @description Bind top-level app events.\n     *\n     */\n    bindEvents () {\n        this._onPreloadDone = this.onPreloadDone.bind( this );\n\n        this.core.emitter.on( \"app--preload-done\", this._onPreloadDone );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onPreloadDone\n     * @memberof App\n     * @description Handle intro teardown.\n     *\n     */\n    onPreloadDone () {\n        this.core.emitter.off( \"app--preload-done\", this._onPreloadDone );\n\n        this.intro.teardown();\n    }\n}\n\n\n\n/******************************************************************************\n * Bootstrap\n*******************************************************************************/\n// window.Squarespace.onInitialize( window.Y, () => {\n//     window.app = new App();\n// });\n\n\n\n/******************************************************************************\n * Expose\n*******************************************************************************/\nwindow.app = new App();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default window.app;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*!\n *\n *\n * Hobo\n * A very small, modular DOM utility for modern web apps.\n * @hobo-dist npm run build -- is eq not one next prev attr last first index parent filter detach append remove trigger prepend closest children removeAttr toggleClass\n *\n * @links\n * https://developer.mozilla.org/en-US/docs/Web/API/Node\n * https://developer.mozilla.org/en-US/docs/Web/API/Element\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n * https://github.com/jakearchibald/es6-promise\n * http://www.html5rocks.com/en/tutorials/es6/promises/\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.hobo = factory();\n    }\n\n})(function () {\n\n    var Hobo = require( \"../lib/Hobo\" ),\n        utils = require( \"../lib/utils\" );\n\n\n    // Core Hobo methods:\n    Hobo.prototype.on = require( \"../lib/core/on\" );\n    Hobo.prototype.off = require( \"../lib/core/off\" );\n    Hobo.prototype.data = require( \"../lib/core/data\" );\n    Hobo.prototype.find = require( \"../lib/core/find\" );\n    Hobo.prototype.addClass = require( \"../lib/core/addClass\" );\n    Hobo.prototype.removeClass = require( \"../lib/core/removeClass\" );\n\n\n    // Extended Hobo methods:\n    Hobo.prototype.is = require( \"../lib/extended/is\" );\n    Hobo.prototype.eq = require( \"../lib/extended/eq\" );\n    Hobo.prototype.not = require( \"../lib/extended/not\" );\n    Hobo.prototype.one = require( \"../lib/extended/one\" );\n    Hobo.prototype.next = require( \"../lib/extended/next\" );\n    Hobo.prototype.prev = require( \"../lib/extended/prev\" );\n    Hobo.prototype.attr = require( \"../lib/extended/attr\" );\n    Hobo.prototype.last = require( \"../lib/extended/last\" );\n    Hobo.prototype.first = require( \"../lib/extended/first\" );\n    Hobo.prototype.index = require( \"../lib/extended/index\" );\n    Hobo.prototype.parent = require( \"../lib/extended/parent\" );\n    Hobo.prototype.filter = require( \"../lib/extended/filter\" );\n    Hobo.prototype.detach = require( \"../lib/extended/detach\" );\n    Hobo.prototype.append = require( \"../lib/extended/append\" );\n    Hobo.prototype.remove = require( \"../lib/extended/remove\" );\n    Hobo.prototype.trigger = require( \"../lib/extended/trigger\" );\n    Hobo.prototype.prepend = require( \"../lib/extended/prepend\" );\n    Hobo.prototype.closest = require( \"../lib/extended/closest\" );\n    Hobo.prototype.children = require( \"../lib/extended/children\" );\n    Hobo.prototype.removeAttr = require( \"../lib/extended/removeAttr\" );\n    Hobo.prototype.toggleClass = require( \"../lib/extended/toggleClass\" );\n\n\n    /**\n     *\n     * @global\n     * @public\n     * @method hobo\n     * @description Wrapper for `Hobo` instances.\n     * @param {string} selector The parameter passed to `querySelectorAll`\n     * @param {element} context The Element used to call `querySelectorAll`\n     * @returns {Hobo}\n     *\n     */\n    hobo = function ( selector, context ) {\n        return new Hobo( selector, context );\n    };\n\n\n    // Attach Hobo utilities to `wrapper` method\n    hobo.ajax = require( \"../lib/core/ajax\" );\n\n    // Attach Hobo internal utils to `wrapper` method\n    hobo.utils = utils;\n\n\n    return hobo;\n\n});\n","var matchElement = require( \"properjs-matchelement\" ),\n    utils = require( \"../utils\" );\n\n\n/**\n *\n * @private\n * @method bind\n * @description Bind a standard DOM Event.\n * @param {element} node\n * @param {string} event\n * @param {string} selector\n * @param {function} callback\n * @this {Hobo}\n *\n */\nvar bind = function ( node, event, selector, callback ) {\n    // Unique ID for each node event\n    var eventId = (utils.makeId() + \"EVENT\"),\n\n        // The true event name\n        eventType = event,\n\n        // Normalize event handler with a small wrapper function\n        eventHandler = function ( e ) {\n            // Default context is `this` element\n            var context = (selector ? matchElement( e.target, selector, true ) : this);\n\n            // Handle `mouseenter` and `mouseleave`\n            if ( event === \"mouseenter\" || event === \"mouseleave\" ) {\n                var relatedElement = (event === \"mouseenter\" ? e.fromElement : e.toElement);\n\n                if ( context && ( relatedElement !== context && !context.contains( relatedElement ) ) ) {\n                    callback.call( context, e );\n                }\n\n            // Fire callback if context element\n            } else if ( context ) {\n                callback.call( context, e );\n            }\n        };\n\n    // Support `mouseenter` and `mouseleave`\n    if ( event === \"mouseenter\" ) {\n        eventType = \"mouseover\";\n\n    } else if ( event === \"mouseleave\" ) {\n        eventType = \"mouseout\";\n    }\n\n    // Each handler/callback pair gets stored in an `events` index\n    this._events[ event ][ eventId ] = {\n        id: eventId,\n        type: eventType,\n        node: node,\n        handler: eventHandler,\n        callback: callback\n    };\n\n    node.addEventListener( eventType, eventHandler, false );\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method on\n * @description Bind a standard DOM Event. Honor delegation as a primary.\n * @param {string} events \n * @param {string} selector \n * @param {function} callback\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( events, selector, callback ) {\n    var self = this;\n\n    // Normalize `selector` and `callback`\n    if ( !callback ) {\n        callback = selector;\n        selector = this._selector;\n    }\n\n    // Iterate over event(s)\n    // Space separated event list is supported\n    // Example: \"DOMMouseScroll mousewheel\"\n    events.split( \" \" ).forEach(function ( event ) {\n        // Does this event type have an index yet\n        if ( !self._events[ event ] ) {\n            self._events[ event ] = {};\n        }\n\n        self.forEach(function ( node ) {\n            bind.call( self, node, event, selector, callback );\n        });\n    });\n\n    return this;\n};","/**\n *\n * @private\n * @method unbind\n * @description Unbind a standard DOM Event.\n * @param {element} node\n * @param {string} event\n * @param {function} callback\n * @this {Hobo}\n *\n */\nvar unbind = function ( node, event, callback ) {\n    var type,\n        evo,\n        id;\n\n    // Remove a single handler for an event type\n    if ( callback ) {\n        for ( id in this._events[ event ] ) {\n            if ( this._events[ event ].hasOwnProperty( id ) ) {\n                evo = this._events[ event ][ id ];\n\n                // Match the nodes, Match the callback\n                if ( evo.node === node && evo.callback === callback ) {\n                    node.removeEventListener( evo.type, evo.handler, false );\n\n                    delete this._events[ event ][ id ];\n                }\n            }\n        }\n\n    // Remove all handlers for an event type\n    } else {\n        for ( id in this._events[ event ] ) {\n            if ( this._events[ event ].hasOwnProperty( id ) ) {\n                evo = this._events[ event ][ id ];\n\n                // Match the nodes\n                if ( evo.node === node ) {\n                    node.removeEventListener( evo.type, evo.handler, false );\n\n                    delete this._events[ event ][ id ];\n                }\n            }\n        }\n    }\n};\n\n\n/**\n *\n * @private\n * @method teardown\n * @description Unbind all events for instance.\n * @param {element} node\n * @this {Hobo}\n *\n */\nvar teardown = function ( node ) {\n    var type,\n        evo,\n        id;\n\n    for ( type in this._events ) {\n        if ( this._events.hasOwnProperty( type ) ) {\n            for ( id in this._events[ type ] ) {\n                if ( this._events[ type ].hasOwnProperty( id ) ) {\n                    evo = this._events[ type ][ id ];\n\n                    // Match the nodes\n                    if ( evo.node === node ) {\n                        node.removeEventListener( evo.type, evo.handler, false );\n\n                        delete this._events[ type ][ id ];\n                    }\n                }\n            }\n        }\n    }\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method off\n * @description Un-Bind a standard DOM Event.\n * @param {string} events The event type\n * @param {function} callback The supplied callback\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( events, callback ) {\n    var self = this;\n\n    // Iterate over event(s)\n    // Space separated event list is supported\n    // Example: \"DOMMouseScroll mousewheel\"\n    // off() can be called with no args, account for this and remove ALL events\n    (events ? events.split( \" \" ) : [null]).forEach(function ( event ) {\n        self.forEach(function ( node ) {\n            // Explicit `null` check for teardown\n            if ( event === null ) {\n                teardown.call( self, node );\n\n            } else {\n                unbind.call( self, node, event, callback );\n            }\n        });\n    });\n\n    return this;\n};","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method data\n * @description Get / set data values with nodes.\n * @param {string} key The access key\n * @param {string} value The value to be stored\n * @returns {mixed}\n *\n */\nmodule.exports = function ( key, value ) {\n    // Any `non-unique` data keys resolve to the first unique occurrence\n    // Exactly how jQuery handles `.data( ... )` on multi-node collections\n\n    var ret = this,\n        obj = null;\n\n    // Storing data from an Object\n    if ( typeof key === \"object\" ) {\n        obj = key;\n\n        this.forEach(function ( node ) {\n            utils.storeData( obj, node );\n        });\n\n    // Storing data as a `key:value` pair\n    } else if ( value ) {\n        obj = {};\n        obj[ key ] = value;\n\n        this.forEach(function ( node ) {\n            utils.storeData( obj, node );\n        });\n\n    // Accessing data by `key`\n    } else if ( key ) {\n        this.forEach(function ( node ) {\n            if ( obj !== null ) {\n                return;\n            }\n\n            obj = utils.retrieveData( key, node );\n\n        });\n\n        ret = obj;\n\n    // Accessing all data\n    // Merges all `unique` data for a Hobo set\n    } else {\n        obj = {};\n\n        // Object is mutated here by `mergeData`\n        this.forEach(function ( node ) {\n            utils.mergeData( obj, node );\n        });\n\n        ret = obj;\n    }\n\n    return ret;\n};","var Hobo = require( \"../Hobo\" ),\n    utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method find\n * @description Query into a Hobo instance for new nodes.\n * @param {string} selector The selector to query for\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = this;\n\n    // If we are `finding` within a multi-node collection...\n    // Here its probably faster to grab the nodes within each Node\n    // and then just let the context be the document for the new instance. \n    if ( this.length > 1 ) {\n        ret = [];\n\n        this.forEach(function ( node ) {\n            ret = ret.concat( utils.makeArray( node.querySelectorAll( selector ) ) );\n        });\n\n        ret = new Hobo( ret, null );\n\n    // Single node collection\n    // Empty node collection\n    } else {\n        ret = new Hobo( (this.length ? selector : []), (this.length ? this[ 0 ] : null) );\n    }\n\n    return ret;\n};","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method addClass\n * @description Add one or more classNames to the nodes.\n * @param {string} classes The space-separated classNames\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( classes ) {\n    this.forEach(function ( element ) {\n        var newClass = classes.split( \" \" ),\n            elsClass = utils.getClass( element ).split( \" \" );\n\n        newClass.forEach(function ( klass ) {\n            if ( elsClass.indexOf( klass ) === -1 ) {\n                elsClass.push( klass );\n            }\n        });\n\n        utils.setClass( element, utils.trimString( elsClass.join( \" \" ) ) );\n    });\n\n    return this;\n};\n","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method removeClass\n * @description Remove one or more classNames from the nodes.\n * @param {string} classes The space-separated classNames\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( classes ) {\n    this.forEach(function ( element ) {\n        // Explicit check for `undefined`\n        // Using `!classes` would be bad in this case\n        // Calling `removeClass( \"\" )` should not wipe the entire className\n        if ( classes === undefined ) {\n            utils.setClass( element, \"\" );\n\n        } else {\n            var oldClass = classes.split( \" \" ),\n                elsClass = utils.getClass( element ).split( \" \" );\n\n            oldClass.forEach(function ( klass ) {\n                if ( elsClass.indexOf( klass ) !== -1 ) {\n                    elsClass.splice( elsClass.indexOf( klass ), 1 );\n                }\n            });\n\n            utils.setClass( element, utils.trimString( elsClass.join( \" \" ) ) );\n        }\n    });\n\n    return this;\n};\n","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method is\n * @param {string} selector The selector to match elements against\n * @description Determine if a node set is this selector.\n * @returns {boolean}\n *\n */\nmodule.exports = function ( selector ) {\n    return (matchElement( this[ 0 ], selector ) ? true : false);\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method eq\n * @param {number} i The indexOf the element\n * @description Get the element at the index as a Hobo instance.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( i ) {\n    return i < this.length \n            ? new Hobo(\n                this[ i ],\n                this._context\n            ) \n            : this;\n};","var matchElement = require( \"properjs-matchelement\" ),\n    Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method not\n * @param {string} selector The selector to filter out elements\n * @description Filter out elements that are NOT this selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var keepers = new Hobo( [], this._context );\n\n    // Hobo instance\n    if ( selector instanceof Hobo ) {\n        this.forEach(function ( node ) {\n            var pushNode = true;\n\n            selector.forEach(function ( elem ) {\n                if ( node === elem ) {\n                    pushNode = false;\n                }\n            });\n\n            if ( pushNode ) {\n                keepers.push( node );\n            }\n        });\n\n    } else {\n        this.forEach(function ( node, i ) {\n            if ( typeof selector === \"function\" ) {\n                if ( selector( i, node ) ) {\n                    keepers.push( node );\n                }\n\n            } else if ( !matchElement( node, selector ) ) {\n                keepers.push( node );\n            }\n        });\n    }\n\n    return keepers;\n};","var matchElement = require( \"properjs-matchelement\" ),\n    utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method one\n * @description Bind a standard DOM Event only ONE time.\n * @param {string} event \n * @param {string} selector \n * @param {function} callback\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( event, selector, callback ) {\n    var self = this;\n\n    if ( !callback ) {\n        callback = selector;\n        selector = this._selector;\n    }\n\n    return this.on( event, selector, function once ( e ) {\n        // Apply `this` - which is the Element context\n        callback.call( this, e );\n\n        self.off( event, once );\n    });\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method next\n * @param {string} selector Optional selector to match\n * @description Get the next sibling, test against selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = [];\n\n    this.forEach(function ( node ) {\n        var nextNode = node.nextSibling;\n\n        while ( nextNode && nextNode.nodeType !== 1 ) {\n            nextNode = nextNode.nextSibling;\n        }\n\n        if ( nextNode && (!selector || (selector && matchElement( nextNode, selector ))) ) {\n            ret.push( nextNode );\n        }\n    });\n\n    return new Hobo( ret, this._context );\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method prev\n * @param {string} selector Optional selector to match\n * @description Get the previous sibling, test against selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = [];\n\n    this.forEach(function ( node ) {\n        var prevNode = node.previousSibling;\n\n        while ( prevNode && prevNode.nodeType !== 1 ) {\n            prevNode = prevNode.previousSibling;\n        }\n\n        if ( prevNode && (!selector || (selector && matchElement( prevNode, selector ))) ) {\n            ret.push( prevNode );\n        }\n    });\n\n    return new Hobo( ret, this._context );\n};\n","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method addAttr\n * @param {element} node The element to set attribute on\n * @param {string} key The attribute\n * @param {mixed} value The value to set\n * @description Get or Set an attribute(s) on a DOM node\n * @returns {string}\n *\n */\nvar addAttr = function ( node, key, value ) {\n    node.setAttribute( key, value );\n\n    // Apply data()?\n    if ( utils.rData.test( key ) ) {\n        // storeData expects a {data object}\n        var obj = {};\n\n        obj[ key.replace( utils.rData, \"\" ) ] = value;\n\n        utils.storeData( obj, node );\n    }\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method attr\n * @param {string} key The attribute\n * @param {mixed} value The value to set\n * @description Get or Set an attribute(s) on a DOM node\n * @returns {string}\n *\n */\nmodule.exports = function ( key, value ) {\n    var ret = this;\n\n    // Value can be an {object}\n    if ( typeof key === \"object\" ) {\n        for ( var i in key ) {\n            this.forEach(function ( node ) {\n                addAttr( node, i, key[ i ] );\n            });\n        }\n\n    // Value could possibly be \"\" or 0\n    } else if ( value !== undefined ) {\n        this.forEach(function ( node ) {\n            addAttr( node, key, value );\n        });\n\n    } else {\n        ret = this[ 0 ].getAttribute( key );\n    }\n\n    return ret;\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method last\n * @description Get hobo instance of the last element.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    return new Hobo( this[ (this.length - 1) ], this._context );\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method first\n * @description Get hobo instance of the first element.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    return new Hobo( this[ 0 ], this._context );\n};","/**\n *\n * @instance\n * @memberof Hobo\n * @method index\n * @description Get the nodes index compared to its DOM siblings.\n *              Possibly this should be its index in the Hobo set?\n * @returns {number}\n *\n */\nmodule.exports = function () {\n    return [].indexOf.call(\n        this[ 0 ].parentNode.children,\n        this[ 0 ]\n    );\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method parent\n * @param {string} selector Optional selector to match\n * @description Get a Hobo instance of the parent node of this instance.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var parents = [];\n\n    this.forEach(function ( node ) {\n        if ( !selector || (selector && matchElement( node.parentNode, selector )) ) {\n            parents.push( node.parentNode );\n        }\n    });\n\n    return new Hobo( parents, null );\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method filter\n * @param {string} selector The selector to match elements against\n * @description Filter out the elements that match the selector.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var filtered = [];\n\n    this.forEach(function ( node ) {\n        if ( matchElement( node, selector ) ) {\n            filtered.push( node );\n        }\n    });\n\n    return new Hobo( filtered, null );\n};","/**\n *\n * @instance\n * @memberof Hobo\n * @method detach\n * @description Detach the nodes from the DOM\n *              This method does NOT remove events or data.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    this.forEach(function ( node ) {\n        if ( node.parentNode ) {\n            node.parentNode.removeChild( node );\n        }\n    });\n\n    return this;\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method append\n * @param {mixed} appendage What to append? Hobo, Element...\n * @description Append the nodes to the DOM\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( appendage ) {\n    // Selector string, wrap in new Hobo instance\n    if ( typeof appendage === \"string\" ) {\n        appendage = new Hobo( appendage );\n    }\n\n    this.forEach(function ( node ) {\n        // Hobo instance OR Array OR Array-like object with forEach\n        if ( appendage instanceof Hobo || (appendage.length && typeof appendage.forEach === \"function\") ) {\n            appendage.forEach(function ( append ) {\n                if ( append.nodeType && append.nodeType === 1 ) {\n                    node.appendChild( append );\n                }\n            });\n\n        } else if ( appendage.nodeType ) {\n            node.appendChild( appendage );\n        }\n    });\n\n    return this;\n};\n","/**\n *\n * @instance\n * @memberof Hobo\n * @method remove\n * @description Remove the nodes from the DOM\n *              This method will remove events and data.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    // Remove Events\n    this.off();\n\n    this.forEach(function ( node ) {\n        // Remove Data\n        // Could this cause issues ?\n        delete node.hoboDataMap;\n\n        if ( node.parentNode ) {\n            node.parentNode.removeChild( node );\n        }\n    });\n\n    return this;\n};","/**\n *\n * @instance\n * @memberof Hobo\n * @method trigger\n * @description Dispatch a simulated event.\n * @param {string} event The event to dispatch\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( event ) {\n    var self = this,\n        evo,\n        id;\n\n    this.forEach(function ( node ) {\n        for ( id in self._events[ event ] ) {\n            if ( self._events[ event ].hasOwnProperty( id ) ) {\n                evo = self._events[ event ][ id ];\n\n                // Match the nodes\n                if ( evo.node === node ) {\n                    evo = document.createEvent( \"Events\" );\n\n                    evo.initEvent( event, true, false );\n\n                    node.dispatchEvent( evo );\n                }\n            }\n        }\n    });\n\n    return this;\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method prepend\n * @param {mixed} prependage What to prepend? Hobo, Element...\n * @description Append the nodes to the DOM\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( prependage ) {\n    // Selector string, wrap in new Hobo instance\n    if ( typeof prependage === \"string\" ) {\n        prependage = new Hobo( prependage );\n    }\n\n    this.forEach(function ( node ) {\n        // Hobo instance OR Array OR Array-like object with forEach\n        if ( prependage instanceof Hobo || (prependage.length && typeof prependage.forEach === \"function\") ) {\n            prependage.forEach(function ( prepend ) {\n                if ( prepend.nodeType && prepend.nodeType === 1 ) {\n                    // https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n                    // Context node inserts first element BEFORE second element\n                    node.insertBefore( prepend, node.firstChild );\n                }\n            });\n\n        } else if ( prependage.nodeType ) {\n            node.insertBefore( prependage, node.firstChild );\n        }\n    });\n\n    return this;\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method closest\n * @param {string} selector The selector to try and match\n * @description Find the first ancestor element with this selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var closest = [];\n\n    this.forEach(function ( node ) {\n        var match = matchElement( node, selector, true );\n\n        if ( match ) {\n            closest.push( match );\n        }\n    });\n\n    return new Hobo( closest, null );\n};","var Hobo = require( \"../Hobo\" ),\n    utils = require( \"../utils\" );\n\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method children\n * @description Gather all child nodes that are NOT text nodes\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    var children = [],\n        len,\n        i;\n\n    this.forEach(function ( node ) {\n        i = 0;\n        len = node.children.length;\n\n        for ( i; i < len; i++ ) {\n            children.push( node.children[ i ] );\n        }\n    });\n\n    return new Hobo( children, this._context );\n};","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method removeAttr\n * @param {string} attr The attribute to remove\n * @description Remove the specified attribute from each node in the set.\n * @returns {Hobo}\n *\n * @note This method needs to update data() in case we remove data-attr's\n *\n */\nmodule.exports = function ( attr ) {\n    this.forEach(function ( node ) {\n        node.removeAttribute( attr );\n\n        // Remove data()?\n        if ( utils.rData.test( attr ) ) {\n            utils.removeData( attr.replace( utils.rData, \"\" ), node );\n        }\n    });\n\n    return this;\n};\n","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method toggleClass\n * @description Add or remove the specified classNames.\n * @param {string} classes The space-separated classNames\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( classes ) {\n    classes = classes.split( \" \" );\n\n    this.forEach(function ( node ) {\n        classes.forEach(function ( klass ) {\n            if ( matchElement( node, (\".\" + klass) ) ) {\n                new Hobo( node, null ).removeClass( klass );\n\n            } else {\n                new Hobo( node, null ).addClass( klass );\n            }\n        });\n    });\n\n    return this;\n};","var utils = require( \"../utils\" );\nvar AjaxPromise = function () {\n    var self = this;\n\n    this._promise = new Promise(function ( resolve, reject ) {\n        self._resolve = resolve;\n        self._reject = reject;\n    });\n};\nAjaxPromise.prototype.then = function ( fn ) {\n    this._then = fn;\n    return this;\n};\nAjaxPromise.prototype.catch = function ( fn ) {\n    this._catch = fn;\n    return this;\n};\nAjaxPromise.prototype.resolve = function ( arg ) {\n    if ( this._then ) {\n        this._then( arg );\n        this._resolve( arg );\n    }\n\n    return this;\n};\nAjaxPromise.prototype.reject = function ( err ) {\n    if ( this._catch ) {\n        this._catch( err );\n        this._reject( err );\n    }\n\n    return this;\n};\nAjaxPromise.prototype.abort = function () {\n    if ( this._xhr ) {\n        this._reject( \"Rejecting on XMLHttpRequest.abort()\" );\n        this._xhr.abort();\n    }\n\n    return this;\n};\n\n\n/**\n *\n * @static\n * @memberof Hobo\n * @method ajax\n * @description Perform standar XHR with a native Promise.\n *              dataType can be `html`, `json`, `jsonp`.\n * @param {object} config The ajax config object\n *                        url       => string, default: window.location.href\n *                        data      => object, default: null\n *                        dataType  => string, default: \"html\"\n *                        method    => string, default: \"GET\"\n *                        jsonp     => string, default: \"callback\"\n *                        headers   => object, default: null\n * @returns {Promise}\n *\n */\nmodule.exports = function ( config ) {\n    var params = (config.data || null),\n        dataType = (config.dataType || \"html\"),\n        method = (config.method || \"GET\").toUpperCase(),\n        url = (config.url || window.location.href),\n        headers = (config.headers || null),\n        payload = (config.payload || null),\n        ajaxPromise = new AjaxPromise();\n\n    // Handle params\n    // Params will be one of the following:\n    // Serialized querystring\n    // Instanceof FormData\n    // Null\n    if ( params && !(FormData && params instanceof FormData) ) {\n        params = utils.serializeData( config.data );\n    }\n\n    // Handle JSON payloads\n    if ( payload && typeof payload !== \"string\" ) {\n        payload = JSON.stringify( payload );\n    }\n\n    // Handle params in GET URL\n    if ( method === \"GET\" && params ) {\n        url += (\"?\" + params);\n    }\n\n    // Normalize response handling\n    var handleResponse = function ( response ) {\n        if ( dataType === \"json\" ) {\n            try {\n                response = JSON.parse( response );\n\n            } catch ( error ) {\n                // ajaxPromise.reject( (\"Rejecting on JSON.parse error : \" + error) );\n                ajaxPromise.reject( response );\n            }\n        }\n\n        ajaxPromise.resolve( response );\n    };\n\n    // JSONP\n    if ( dataType === \"jsonp\" ) {\n        var jsonpCallbackValue = (utils.makeId() + \"JSONP\"),\n            jsonpCallbackKey = (config.jsonp || \"callback\"),\n            jsonpScript = document.createElement( \"script\" );\n\n        jsonpScript.src = (url + (/\\?/.test( url ) ? \"&\" : \"?\") + jsonpCallbackKey + \"=\" + jsonpCallbackValue);\n\n        window[ jsonpCallbackValue ] = function ( response ) {\n            document.getElementsByTagName( \"head\" )[ 0 ].removeChild( jsonpScript );\n            jsonpScript = null;\n            delete window[ jsonpCallbackValue ];\n\n            handleResponse( response );\n        };\n\n        document.getElementsByTagName( \"head\" )[ 0 ].appendChild( jsonpScript );\n\n    // XHR\n    } else {\n        var xhr = new XMLHttpRequest();\n\n        xhr.open( method, url, true );\n\n        if ( headers ) {\n            for ( var header in headers ) {\n                if ( headers.hasOwnProperty( header ) ) {\n                    xhr.setRequestHeader( header, headers[ header ] );\n                }\n            }\n        }\n\n        xhr.onreadystatechange = function ( e ) {\n            if ( this.readyState === 4 ) {\n                // Two-Hundo's are A-Okay with Hobo\n                if ( /^20/.test( this.status ) ) {\n                    handleResponse( this.responseText );\n\n                } else {\n                    // ajaxPromise.reject( (\"Rejecting on server status code : \" + this.status) );\n                    ajaxPromise.reject( this.responseText );\n                }\n            }\n        };\n\n        xhr.send( (params || payload) );\n\n        ajaxPromise._xhr = xhr;\n    }\n\n    return ajaxPromise;\n};\n","/*!\n *\n * Handle lazy-loading images with contextual load conditions.\n *\n * @ImageLoader\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.ImageLoader = factory();\n    }\n\n})(function () {\n\n    var Controller = require( \"properjs-controller\" );\n\n\n    /**\n     *\n     * Handle lazy-loading images with unique callback conditions\n     * @memberof! <global>\n     * @requires raf\n     * @constructor ImageLoader\n     * @param {object} options Controller settings\n     * <ul>\n     * <li>elements - The collection of elements to load against</li>\n     * <li>property - The property to pull the image source from</li>\n     * <li>transitionDelay - The timeout before transition starts</li>\n     * <li>transitionDuration - The length of the animation</li>\n     * </ul>\n     *\n     */\n    var ImageLoader = function ( options ) {\n        var self = this;\n\n        if ( !options ) {\n            throw new Error( \"ImageLoader Class requires options to be passed\" );\n        }\n\n        // Up, up and away...\n        Controller.call( this );\n\n        /**\n         *\n         * The method to determine if an image should load itself\n         * @memberof ImageLoader\n         * @member _executor\n         * @private\n         *\n         */\n        this._executor = (options.executor || function ( elem ) {\n            return elem;\n        });\n\n        /**\n         *\n         * The Collection to load against\n         * @memberof ImageLoader\n         * @member _elements\n         * @private\n         *\n         */\n        this._elements = options.elements;\n\n        /**\n         *\n         * The property to get image source from\n         * @memberof ImageLoader\n         * @member _property\n         * @private\n         *\n         */\n        this._property = (options.property || \"data-src\");\n\n        /**\n         *\n         * The way to load, async or sync\n         * Using \"sync\" loading requires calling .start() on the instance\n         * and the \"handle\" event will not be utilized, rather each image\n         * will be loaded in succession as the previous finishes loading\n         * @memberof ImageLoader\n         * @member _loadType\n         * @private\n         *\n         */\n        this._loadType = (options.loadType || \"async\");\n\n        /**\n         *\n         * The current amount of elements lazy loaded\n         * @memberof ImageLoader\n         * @member _numLoaded\n         * @private\n         *\n         */\n        this._numLoaded = 0;\n\n        /**\n         *\n         * The total amount of elements to lazy load\n         * @memberof ImageLoader\n         * @member _num2Load\n         * @private\n         *\n         */\n        this._num2Load = (this._elements ? this._elements.length : 0);\n\n        /**\n         *\n         * The delay to execute lazy loading on an element in ms\n         * @memberof ImageLoader\n         * @member _transitionDelay\n         * @default 100\n         * @private\n         *\n         */\n        this._transitionDelay = (options.transitionDelay || 0);\n\n        /**\n         *\n         * The duration on a lazy loaded elements fade in in ms\n         * @memberof ImageLoader\n         * @member _transitionDuration\n         * @default 600\n         * @private\n         *\n         */\n        this._transitionDuration = (options.transitionDuration || 400);\n\n        /**\n         *\n         * This flags that all elements have been loaded\n         * @memberof ImageLoader\n         * @member _resolved\n         * @private\n         *\n         */\n        this._resolved = false;\n\n        // Break out if no elements in collection\n        if ( !this._elements.length ) {\n            return this;\n        }\n\n        // Only run animation frame for async loading\n        if ( this._loadType === \"async\" ) {\n            this.initAsync();\n\n        } else {\n            this.initSync();\n        }\n    };\n\n\n    /**\n     *\n     * @extends Controller\n     *\n     */\n    ImageLoader.prototype = Object.create( Controller.prototype );\n\n\n    /**\n     *\n     * Support asynchronous loading of a set of images\n     * @memberof ImageLoader\n     * @method initAsync\n     *\n     */\n    ImageLoader.prototype.initAsync = function () {\n        var self = this;\n\n        this.go(function () {\n            if ( self._resolved ) {\n                self.stop();\n\n            } else {\n                self.handle();\n            }\n        });\n    };\n\n    /**\n     *\n     * Support batch synchronous loading of a set of images\n     * @memberof ImageLoader\n     * @method initSync\n     *\n     */\n    ImageLoader.prototype.initSync = function () {\n        var self = this;\n\n        function syncLoad() {\n            var elem = self._elements[ self._numLoaded ];\n\n            self._numLoaded++;\n\n            self.load( elem, function ( error ) {\n                if ( !error && !self._resolved ) {\n                    syncLoad();\n                }\n            });\n        }\n\n        syncLoad();\n    };\n\n    /**\n     *\n     * Perform the image loading and set correct values on element\n     * @method load\n     * @memberof ImageLoader\n     * @param {object} $elem element object\n     * @param {function} callback optional callback for each load\n     * @fires done\n     *\n     */\n    ImageLoader.prototype.load = function ( element, callback ) {\n        var self = this,\n            image = null,\n            timeout = null,\n            isImage = (element.nodeName === \"IMG\"),\n            source = element.getAttribute( this._property );\n\n        element.setAttribute( \"data-imageloader\", true );\n\n        if ( isImage ) {\n            image = element;\n\n        } else {\n            image = new Image();\n        }\n\n        timeout = setTimeout(function () {\n            clearTimeout( timeout );\n\n            image.onload = function () {\n                self.fire( \"load\", element );\n\n                if ( !isImage ) {\n                    element.style.backgroundImage = (\"url(\" + source + \")\");\n\n                    image = null;\n                }\n\n                timeout = setTimeout(function () {\n                    clearTimeout( timeout );\n\n                    if ( (self._numLoaded === self._num2Load) && !self._resolved ) {\n                        self._resolve( true );\n\n                    } else if ( typeof callback === \"function\" ) {\n                        // Errors first\n                        callback( false );\n                    }\n\n                }, self._transitionDuration );\n            };\n\n            image.onerror = function () {\n                self.fire( \"error\", element );\n\n                if ( (self._numLoaded === self._num2Load) && !self._resolved ) {\n                    self._resolve( true );\n\n                } else if ( typeof callback === \"function\" ) {\n                    // Errors first\n                    callback( true );\n                }\n            };\n\n            image.src = source;\n\n        }, this._transitionDelay );\n\n        return this;\n    };\n\n    /**\n     *\n     * Handles element iterations and loading based on callbacks\n     * @memberof ImageLoader\n     * @method handle\n     *\n     */\n    ImageLoader.prototype.handle = function () {\n        var elems = this.getNotLoaded(),\n            self = this;\n\n        for ( var i = 0, len = elems.length; i < len; i++ ) {\n            if ( self._executor( elems[ i ] ) ) {\n                self._numLoaded++;\n\n                self.load( elems[ i ] );\n            }\n        }\n    };\n\n    /**\n     *\n     * Get all images in the set that have yet to be loaded\n     * @memberof ImageLoader\n     * @method getNotLoaded\n     *\n     */\n    ImageLoader.prototype.getNotLoaded = function () {\n        var elems = [];\n\n        for ( var i = 0, len = this._elements.length; i < len; i++ ) {\n            if ( !this._elements[ i ].getAttribute( \"data-imageloader\" ) ) {\n                elems.push( this._elements[ i ] );\n            }\n        }\n\n        return elems;\n    };\n\n    /**\n     *\n     * Resolve an instance and remove it from the stack\n     * @memberof ImageLoader\n     * @method _resolve\n     *\n     */\n    ImageLoader.prototype._resolve = function () {\n        // Resolved state\n        this._resolved = true;\n\n        // Fires the predefined \"done\" event\n        this.fire( \"done\" );\n    };\n\n\n    return ImageLoader;\n\n\n});","import dom from \"./dom\";\nimport config from \"./config\";\nimport emitter from \"./emitter\";\nimport ImageController from \"./ImageController\";\n\n\n/**\n *\n * @public\n * @namespace images\n * @memberof core\n * @description Handles separation of image pre-loading and image lazy-loading.\n *\n */\nconst images = {\n    /**\n     *\n     * @public\n     * @method handlePreload\n     * @memberof core.images\n     * @param {function} callback The passed callback from `handleImages`\n     * @description Method handles the `done` preloading event cycle.\n     *\n     */\n    handlePreload ( callback ) {\n        if ( typeof callback === \"function\" ) {\n            callback();\n        }\n\n        emitter.fire( \"app--preload-done\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handleLazyload\n     * @memberof core.images\n     * @description Method handles the `done` lazyloading event cycle.\n     *\n     */\n    handleLazyload () {\n        emitter.fire( \"app--lazyload-done\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handleImages\n     * @memberof core.images\n     * @param {object} $images Optionally, the image collection to load\n     * @param {function} callback Optionally, a callback to fire when loading is done\n     * @description Method handles separation of pre-load and lazy-load.\n     *\n     */\n    handleImages ( $images, callback ) {\n        $images = ($images || dom.page.find( config.lazyImageSelector ));\n\n        if ( $images.length ) {\n            const imageController = new ImageController( $images );\n\n            imageController.on( \"preload\", this.handlePreload.bind( this, callback ) );\n            imageController.on( \"lazyload\", this.handleLazyload.bind( this ) );\n\n        } else {\n            this.handlePreload( callback );\n        }\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default images;","import * as util from \"./util\";\nimport log from \"./log\";\nimport Controller from \"properjs-controller\";\n\n\n/**\n *\n * @public\n * @class ImageController\n * @param {Hobo} $images The image collection to load\n * @classdesc Handles breaking out the preload vs lazyload batches\n * @memberof core\n *\n */\nclass ImageController extends Controller {\n    constructor ( $images ) {\n        super();\n\n        this.$preload = util.getElementsInView( $images );\n        this.$lazyload = $images.not( this.$preload );\n\n        if ( this.$preload.length ) {\n            this.handlePreload();\n\n        } else {\n            this.fire( \"preload\" );\n        }\n\n        if ( this.$lazyload.length ) {\n            this.handleLazyload();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @method handlePreload\n     * @memberof core.ImageController\n     * @description ImageLoader instance for preload batch.\n     *\n     */\n    handlePreload () {\n        log( \"ImageController preload queue:\", this.$preload.length );\n\n        this.preLoader = util.loadImages( this.$preload, util.noop );\n        this.preLoader.on( \"done\", () => {\n            log( \"ImageController preloaded:\", this.$preload.length );\n\n            this.fire( \"preload\" );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @method handleLazyload\n     * @memberof core.ImageController\n     * @description ImageLoader instance for lazyload batch.\n     *\n     */\n    handleLazyload () {\n        log( \"ImageController lazyload queue:\", this.$lazyload.length );\n\n        this.lazyLoader = util.loadImages( this.$lazyload, util.isElementLoadable );\n        this.lazyLoader.on( \"done\", () => {\n            log( \"ImageController lazyloaded:\", this.$lazyload.length );\n\n            this.fire( \"lazyload\" );\n        });\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default ImageController;","import $ from \"properjs-hobo\";\nimport paramalama from \"paramalama\";\nimport * as util from \"./util\";\n\n\nconst _rSlash = /^\\/|\\/$/g;\n\n\n/**\n *\n * @public\n * @module api\n * @description Provide some api methods for accessing content via JS.\n *\n */\nconst api = {\n    /**\n     *\n     * @public\n     * @member data\n     * @memberof core.api\n     * @description URLs this little api needs to use.\n     *\n     */\n    data: {\n        squarespace: {\n            url: location.origin,\n            api: [location.origin, \"api\"].join( \"/\" )\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @member dataType\n     * @memberof core.api\n     * @description Default dataType for the `request` api method.\n     *\n     */\n    dataType: \"json\",\n\n\n    /**\n     *\n     * @public\n     * @member format\n     * @memberof core.api\n     * @description Default format for the `request` api method.\n     *\n     */\n    format: \"json\",\n\n\n    /**\n     *\n     * @public\n     * @member method\n     * @memberof core.api\n     * @description Default method for the `request` api method.\n     *\n     */\n    method: \"GET\",\n\n\n    /**\n     *\n     * @public\n     * @method endpoint\n     * @param {string} uri The collection uri\n     * @memberof core.api\n     * @description Creates the fullUrl from a collection uri.\n     * @returns {string}\n     *\n     */\n    endpoint ( uri ) {\n        return [this.data.squarespace.url, uri.replace( _rSlash, \"\" )].join( \"/\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method apipoint\n     * @param {string} uri The API uri\n     * @memberof core.api\n     * @description Creates the fullUrl from an API uri.\n     * @returns {string}\n     *\n     */\n    apipoint ( uri ) {\n        return [this.data.squarespace.api, uri.replace( _rSlash, \"\" )].join( \"/\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method request\n     * @param {string} url The API URL\n     * @param {object} params Merge params to send\n     * @param {object} options Merge config to pass to $.ajax()\n     * @memberof core.api\n     * @description Creates the fullUrl from an API uri.\n     * @returns {object}\n     *\n     */\n    request ( url, params, options ) {\n        const data = util.extendObject(\n            {\n                format: this.format,\n                nocache: true\n            },\n            params\n        );\n        const opts = util.extendObject(\n            {\n                url,\n                data,\n                dataType: this.dataType,\n                method: this.method\n            },\n            options\n        );\n\n        return $.ajax( opts );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method collection\n     * @param {string} uri The collection uri\n     * @param {object} params Merge params to send\n     * @param {object} options Merge options to send\n     * @memberof core.api\n     * @description Retrieves items from a given collection.\n     *              Returned Promise resolves with a data {object}\n     * @returns {Promise}\n     *\n     */\n    collection ( uri, params, options ) {\n        return new Promise(( resolve, reject ) => {\n            let collection = {};\n            const seg = uri.split( \"?\" )[ 0 ];\n\n            // This clones for us - non-mutable\n            params = util.extendObject( {}, params );\n\n            // Merges any query string params from URI\n            params = util.extendObject( params, paramalama( uri ) );\n\n            // Tackle the `+` issue with taxonomies\n            if ( params.tag ) {\n                params.tag = params.tag.replace( /\\+/g, \" \" );\n            }\n\n            if ( params.category ) {\n                params.category = params.category.replace( /\\+/g, \" \" );\n            }\n\n            this.request( this.endpoint( seg ), params, options )\n                .then( ( data ) => {\n                    // Resolve with `responseText`\n                    if ( typeof data === \"string\" ) {\n                        resolve( data );\n\n                    } else {\n                        // Collection?\n                        collection = {\n                            collection: data.collection,\n                            item: (data.item || null),\n                            items: (data.items || null),\n                            pagination: (data.pagination || null)\n                        };\n\n                        resolve( collection );\n                    }\n\n                })\n                .catch( ( error ) => {\n                    reject( error );\n                });\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method vimeo\n     * @param {string} id The vimeo video ID\n     * @memberof core.api\n     * @description Retrieves vimeo video information.\n     *              Returned Promise resolves with api data {object}\n     * @returns {Promise}\n     *\n     */\n    vimeo ( id ) {\n        return $.ajax({\n            url: `https://api.vimeo.com/videos/${id}`,\n            method: \"GET\",\n            data: {\n                access_token: \"e05f0d2b154c8f01e317924d889f989a\"\n            },\n            dataType: \"json\"\n        });\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default api;\n","import Store from \"./Store\";\n\n\n/**\n *\n * @public\n * @module cache\n * @description Return Singleton instances of the cache Store.\n *\n */\nexport default new Store({\n    // If TRUE the Store will use LocalStorage...\n    enableStorage: false\n});","import * as core from \"../core\";\nimport $ from \"properjs-hobo\";\nimport Store from \"../core/Store\";\n\n\n// Singleton\nlet _instance = null;\n\n\n/**\n *\n * @public\n * @class Analytics\n * @classdesc Handles Squarespace Metrics and Google Analytics.\n *            @see {@link https://developers.google.com/analytics/devguides/collection/analyticsjs/}\n * @memberof core\n *\n */\nclass Analytics {\n    constructor () {\n        if ( !_instance ) {\n            core.emitter.on( \"app--analytics-push\", this.pushTrack.bind( this ) );\n\n            core.log( \"Analytics initialized\" );\n\n            this.apiEndpoint = \"/api/census/RecordHit\";\n\n            _instance = this;\n        }\n\n        return _instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @method pushTrack\n     * @param {object} doc The doc object created by router {$doc, $page, pageData, pageHtml}\n     * @memberof class.Analytics\n     * @description Parse static context from responseText and track it.\n     *\n     */\n    pushTrack ( doc ) {\n        const pageTitle = (doc.pageData.itemTitle || doc.pageData.collectionTitle);\n        const websiteId = doc.pageData.websiteId;\n        const pageData = doc.pageData.itemId ? { itemId: doc.pageData.itemId } : { collectionId: doc.pageData.collectionId };\n\n        // Squarespace Metrics\n        if ( core.env.isProd() ) {\n            this.recordHit( websiteId, pageData, pageTitle ).then(( res ) => {\n                core.log( \"Analytics\", res );\n\n            }).catch(( error ) => {\n                core.log( \"warn\", error );\n            });\n        }\n\n        this.setDocumentTitle( pageTitle );\n    }\n\n\n    /**\n     *\n     * @public\n     * @method setDocumentTitle\n     * @param {string} title The new title for the document\n     * @memberof class.Analytics\n     * @description Update the documents title.\n     *\n     */\n    setDocumentTitle ( title ) {\n        document.title = title;\n    }\n\n\n    /**\n     *\n     * @public\n     * @method recordHit\n     * @param {string} websiteId The site ID\n     * @param {object} pageData IDs for either collection or item\n     * @param {string} websiteTitle Page title for tracking\n     * @memberof class.Analytics\n     * @description Record sqs metrics for async page requests.\n     *              Returned Promise resolves with a data {object}\n     * @returns {Promise}\n     *\n     */\n    recordHit ( websiteId, pageData, websiteTitle ) {\n        const datas = {\n            url: window.location.href,\n            queryString: window.location.search,\n            userAgent: window.navigator.userAgent,\n            referrer: \"\",\n            localStorageSupported: Store.isStorageSupported,\n            viewportInnerHeight: window.innerHeight,\n            viewportInnerWidth: window.innerWidth,\n            screenHeight: window.screen.height,\n            screenWidth: window.screen.width,\n            title: websiteTitle,\n            websiteId: websiteId,\n            templateId: websiteId\n        };\n\n        if ( pageData.itemId ) {\n            datas.itemId = pageData.itemId;\n\n        } else {\n            datas.collectionId = pageData.collectionId;\n        }\n\n        return $.ajax({\n            url: `${this.apiEndpoint}?crumb=${Store.crumb}`,\n            method: \"POST\",\n            data: {\n                event: \"View\",\n                data: JSON.stringify( datas )\n            },\n            dataType: \"json\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            }\n        });\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Analytics;\n","/*!\n *\n * Window resize / orientationchange event controller\n *\n * @ResizeController\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.ResizeController = factory();\n    }\n    \n})(function () {\n\n    var Controller = require( \"properjs-controller\" ),\n\n        // Orientation?\n        _hasOrientation = (\"orientation\" in window),\n\n        // Current window viewport\n        _currentView = null,\n\n        // Singleton\n        _instance = null;\n\n    /**\n     *\n     * Window resize / orientationchange event controller\n     * @constructor ResizeController\n     * @augments Controller\n     * @requires Controller\n     * @memberof! <global>\n     *\n     * @fires resize\n     * @fires resizedown\n     * @fires resizeup\n     * @fires resizewidth\n     * @fires resizeheight\n     * @fires orientationchange\n     * @fires orientationportrait\n     * @fires orientationlandscape\n     *\n     */\n    var ResizeController = function () {\n        // Singleton\n        if ( !_instance ) {\n            _instance = this;\n\n            // Initial viewport settings\n            _currentView = _instance.getViewport();\n\n            // Call on parent cycle\n            this.go(function () {\n                var currentView = _instance.getViewport(),\n                    isStill = (currentView.width === _currentView.width && currentView.height === _currentView.height),\n                    isResize = (currentView.width !== _currentView.width || currentView.height !== _currentView.height),\n                    isResizeUp = (currentView.width > _currentView.width || currentView.height > _currentView.height),\n                    isResizeDown = (currentView.width < _currentView.width || currentView.height < _currentView.height),\n                    isResizeWidth = (currentView.width !== _currentView.width),\n                    isResizeHeight = (currentView.height !== _currentView.height),\n                    isOrientation = (currentView.orient !== _currentView.orient),\n                    isOrientationPortrait = (currentView.orient !== _currentView.orient && currentView.orient !== 90),\n                    isOrientationLandscape = (currentView.orient !== _currentView.orient && currentView.orient === 90);\n\n                // Fire blanket resize event\n                if ( isResize ) {\n                    /**\n                     *\n                     * @event resize\n                     *\n                     */\n                    _instance.fire( \"resize\" );\n                }\n\n                // Fire resizeup and resizedown\n                if ( isResizeDown ) {\n                    /**\n                     *\n                     * @event resizedown\n                     *\n                     */\n                    _instance.fire( \"resizedown\" );\n\n                } else if ( isResizeUp ) {\n                    /**\n                     *\n                     * @event resizeup\n                     *\n                     */\n                    _instance.fire( \"resizeup\" );\n                }\n\n                // Fire resizewidth and resizeheight\n                if ( isResizeWidth ) {\n                    /**\n                     *\n                     * @event resizewidth\n                     *\n                     */\n                    _instance.fire( \"resizewidth\" );\n\n                } else if ( isResizeHeight ) {\n                    /**\n                     *\n                     * @event resizeheight\n                     *\n                     */\n                    _instance.fire( \"resizeheight\" );\n                }\n\n                // Fire blanket orientationchange event\n                if ( isOrientation ) {\n                    /**\n                     *\n                     * @event orientationchange\n                     *\n                     */\n                    _instance.fire( \"orientationchange\" );\n                }\n\n                // Fire orientationportrait and orientationlandscape\n                if ( isOrientationPortrait ) {\n                    /**\n                     *\n                     * @event orientationportrait\n                     *\n                     */\n                    _instance.fire( \"orientationportrait\" );\n\n                } else if ( isOrientationLandscape ) {\n                    /**\n                     *\n                     * @event orientationlandscape\n                     *\n                     */\n                    _instance.fire( \"orientationlandscape\" );\n                }\n\n                _currentView = currentView;\n            });\n        }\n\n        return _instance;\n    };\n\n    ResizeController.prototype = new Controller();\n\n    /**\n     *\n     * Returns the current window viewport specs\n     * @memberof ResizeController\n     * @method getViewport\n     * @returns object\n     *\n     */\n    ResizeController.prototype.getViewport = function () {\n        return {\n            width: window.innerWidth,\n            height: window.innerHeight,\n            orient: _hasOrientation ? Math.abs( window.orientation ) : null\n        };\n    };\n\n    /**\n     *\n     * Tells if the viewport is in protrait mode\n     * @memberof ResizeController\n     * @method isPortrait\n     * @returns boolean\n     *\n     */\n    ResizeController.prototype.isPortrait = function () {\n        var orient = this.getViewport().orient;\n\n        return (orient !== null && orient !== 90);\n    };\n\n    /**\n     *\n     * Tells if the viewport is in landscape mode\n     * @memberof ResizeController\n     * @method isLandscape\n     * @returns boolean\n     *\n     */\n    ResizeController.prototype.isLandscape = function () {\n        var orient = this.getViewport().orient;\n\n        return (orient !== null && orient === 90);\n    };\n\n\n    return ResizeController;\n\n});","import log from \"./log\";\nimport * as util from \"./util\";\nimport emitter from \"./emitter\";\nimport resizer from \"./resizer\";\nimport throttle from \"properjs-throttle\";\nimport debounce from \"properjs-debounce\";\n\n\nconst _throttled = 50;\nconst _debounced = 300;\n\n\n/**\n *\n * @public\n * @namespace resizes\n * @memberof core\n * @description Handles app-wide emission of various resize detection events.\n *\n */\nconst resizes = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof core.resizes\n     * @description Method binds event listeners for resize controller.\n     *\n     */\n    init () {\n        resizer.on( \"resize\", throttle( onThrottle, _throttled ) );\n\n        // Hook into resize of `width` only for this handler\n        // @bug: iOS window size changes when Safari's chrome switches between full and minimal-ui.\n        resizer.on( \"resizewidth\", debounce( onDebounce, _debounced ) );\n\n        log( \"resizes initialized\" );\n    }\n};\n\n\n/**\n *\n * @private\n * @method onDebounce\n * @memberof core.resizes\n * @description Debounced resize events.\n *\n */\nconst onDebounce = function () {\n    emitter.fire( \"app--resize-debounced\" );\n\n    util.updateImages();\n};\n\n\n/**\n *\n * @private\n * @method onThrottle\n * @memberof core.resizes\n * @description Method handles the window resize event via [ResizeController]{@link https://github.com/ProperJS/ResizeController}.\n *\n */\nconst onThrottle = function () {\n    emitter.fire( \"app--resize\" );\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default resizes;","/*!\n *\n * Throttle callbacks\n *\n * @throttle\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.throttle = factory();\n    }\n    \n})(function () {\n\n\n    /**\n     *\n     * Rev limit your method calls\n     * @requires debounce\n     * @memberof! <global>\n     * @method throttle\n     * @param {function} callback The method handler\n     * @param {number} threshold The timeout delay in ms\n     *\n     */\n    var throttle = function ( callback, threshold ) {\n        var wait = false;\n\n        return function () {\n            if ( !wait ) {\n                callback.call();\n                wait = true;\n\n                setTimeout(function () {\n                    wait = false;\n\n                }, (threshold || 100) );\n            }\n        };\n    };\n    \n    \n    return throttle;\n\n\n});","/*!\n *\n * Asynchronous webpage transitioning with pushstate management.\n *\n * @PageController\n * @author: kitajchuk\n *\n * @module\n * - init\n * - isActive\n * - onload\n * - unload\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.PageController = factory();\n    }\n\n})(function () {\n\n    // Useful stuff\n    var Router = require( \"properjs-router\" ),\n        Controller = require( \"properjs-controller\" ),\n\n        _router = null,\n        _config = [],\n        _modules = [],\n        _synced = {\n            active: [],\n            inactive: []\n        },\n        _initialized = false,\n        _timeBefore = null,\n        _timeDelay = 0,\n        _eventPrefix = \"page-controller-\",\n        _currentRoute = null,\n        _isFirstRoute = true,\n        _currentQuery = null,\n        _currentToString = null,\n        _isSamePage = false,\n        _silentMode = false,\n        _silentCallback = null,\n        _isRoutingActive = false,\n\n        // Singleton\n        _instance = null,\n\n\n    // Private functions\n    fire = function ( event, arg ) {\n        if ( !_silentMode ) {\n            _instance.fire( (_eventPrefix + event), arg );\n        }\n    },\n\n\n    isFunction = function ( fn ) {\n        return (typeof fn === \"function\");\n    },\n\n\n    isSameObject = function ( o1, o2 ) {\n        return (JSON.stringify( o1 ) === JSON.stringify( o2 ));\n    },\n\n\n    execInit = function ( method ) {\n        // One time module initialization\n        for ( var i = _modules.length; i--; ) {\n            if ( !_modules[ i ].__initialized && isFunction( _modules[ i ].init ) ) {\n                _modules[ i ].__initialized = true;\n                _modules[ i ].init();\n            }\n        }\n    },\n\n\n    execUnload = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        // Unload currently active modules only\n        for ( var i = _synced.active.length; i--; ) {\n            if ( isFunction( _synced.active[ i ].unload ) ) {\n                _synced.active[ i ].unload();\n            }\n        }\n    },\n\n\n    execOnload = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        // Unload newly active modules only\n        for ( var i = _synced.active.length; i--; ) {\n            if ( isFunction( _synced.active[ i ].onload ) ) {\n                _synced.active[ i ].onload();\n            }\n        }\n    },\n\n\n    getRouteDataToString = function ( data ) {\n        var ret = data.uri,\n            i;\n\n        for ( i in data.query ) {\n            ret += \"-\" + i + \"-\" + data.query[ i ];\n        }\n\n        for ( i in data.params ) {\n            ret += \"-\" + i + \"-\" + data.params[ i ];\n        }\n\n        return ret;\n    },\n\n\n    /**\n     * @fires page-controller-router-synced-modules\n     */\n    syncModules = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        _synced.active = [];\n        _synced.inactive = [];\n\n        for ( var i = _modules.length; i--; ) {\n            var module = _modules[ i ];\n\n            if ( isFunction( module.isActive ) ) {\n                // isActive method should rebuild module variables\n                if ( module.isActive() ) {\n                    _synced.active.push( module );\n\n                } else {\n                    _synced.inactive.push( module );\n                }\n            }\n        }\n\n        fire( \"router-synced-modules\", _synced );\n    },\n\n\n    onRouterResponse = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        _isRoutingActive = true;\n\n        function __route() {\n            if ( (Date.now() - _timeBefore) >= _instance._options.transitionTime ) {\n                _instance.stop();\n\n                handleRouterResponse( data );\n            }\n        }\n\n        _instance.go( __route );\n    },\n\n\n    onPopGetRouter = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        onPreGetRouter( data.request );\n    \n        setTimeout( function () {\n            handleRouterResponse( data );\n\n        }, _instance._options.transitionTime );\n    },\n\n\n    /**\n     * @fires page-controller-router-transition-out\n     * @fires page-controller-router-samepage\n     */\n    onPreGetRouter = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        var isSameRequest = (_currentToString === getRouteDataToString( data ));\n\n        if ( isSameRequest ) {\n            fire( \"router-samepage\", {\n                request: data\n            });\n            _isSamePage = true;\n            return;\n        }\n\n        _timeBefore = Date.now();\n\n        if ( !_isFirstRoute ) {\n            fire( \"router-transition-out\", {\n                request: data\n            });\n        }\n    },\n\n\n    /**\n     * @fires page-controller-router-refresh-document\n     * @fires page-controller-router-transition-in\n     */\n    handleRouterResponse = function ( res ) {\n        if ( _isSamePage ) {\n            _isSamePage = false;\n            _isRoutingActive = false;\n            return;\n        }\n\n        var data = {\n            response: res.response.responseText,\n            request: res.request,\n            status: res.status\n        };\n\n        _currentRoute = data.request.uri;\n        _currentQuery = data.request.query;\n        _currentToString = getRouteDataToString( data.request );\n\n        // Think of this as window.onload, happens once\n        if ( _isFirstRoute ) {\n            _isFirstRoute = false;\n            _isRoutingActive = false;\n            syncModules();\n            execOnload();\n\n            fire( \"initialized-page\", data );\n\n        // All other Router sequences fall here\n        } else {\n            // Allow transition duration to take place\n            setTimeout(function () {\n                // 0.1 Sync modules and unload active ones\n                syncModules();\n                execUnload();\n\n                // 0.2 Refresh the document content\n                fire( \"router-refresh-document\", data );\n\n                // 0.3 Sync modules and onload newly active ones\n                syncModules();\n                execOnload();\n\n                // 0.4 Trigger transition of content to come back in\n                fire( \"router-transition-in\", data );\n\n                _isRoutingActive = false;\n\n                // 0.5 Check `silent` mode\n                if ( _silentMode ) {\n                    _silentMode = false;\n\n                    if ( isFunction( _silentCallback ) ) {\n                        _silentCallback( data );\n                        _silentCallback = null;\n                    }\n                }\n\n            }, _instance._options.transitionTime );\n        }\n    };\n\n\n    /**\n     *\n     * Page transition manager\n     * @constructor PageController\n     * @augments Controller\n     * @requires Controller\n     * @requires Router\n     * @memberof! <global>\n     * @param {object} options Settings for control features\n     * <ul>\n     * <li>transitionTime</li>\n     * <li>routerOptions</li>\n     * </ul>\n     *\n     */\n    var PageController = function ( options ) {\n        // Singleton\n        if ( !_instance ) {\n            _instance = this;\n\n            /**\n             *\n             * The default options\n             * @memberof _options\n             * @member _routerOptions\n             * @private\n             *\n             */\n            this._options = {\n                transitionTime: _timeDelay,\n                routerOptions: {\n                    pushStateOptions: {}\n                }\n            };\n\n            // Normalize usage options passed in\n            options = (options || {});\n\n            // Merge usage options with defaults\n            if ( options.transitionTime ) {\n                this._options.transitionTime = options.transitionTime;\n            }\n\n            if ( options.routerOptions ) {\n                for ( var i in options.routerOptions ) {\n                    this._options.routerOptions[ i ] = options.routerOptions[ i ];\n                }\n            }\n        }\n\n        return _instance;\n    };\n\n    PageController.prototype = new Controller();\n\n    /**\n     *\n     * Initialize controller on page\n     * @memberof PageController\n     * @method initPage\n     *\n     */\n    PageController.prototype.initPage = function () {\n        if ( _initialized ) {\n            return;\n        }\n\n        _initialized = true;\n\n        /**\n         *\n         * Instance of Router\n         * @private\n         *\n         */\n        _router = new Router( this._options.routerOptions );\n\n        if ( _router._matcher.parse( window.location.href, _config ).matched ) {\n            _router.bind();\n\n            for ( var i = _config.length; i--; ) {\n                _router.get( _config[ i ], onRouterResponse );\n            }\n\n            _router.on( \"preget\", onPreGetRouter );\n            _router.on( \"popget\", onPopGetRouter );\n\n            execInit();\n        }\n    };\n\n    /**\n     *\n     * Trigger the router on a uri and run PageController `silently`, so no events fire.\n     * @memberof PageController\n     * @method routeSilently\n     * @param {string} uri The route to trigger\n     * @param {function} cb The optional callback to fire when done\n     *\n     */\n    PageController.prototype.routeSilently = function ( uri, cb ) {\n        _silentMode = true;\n        _silentCallback = cb;\n        _router.trigger( uri );\n    };\n\n    /**\n     *\n     * Set the Router configuration\n     * @memberof PageController\n     * @method setConfig\n     * @param {object} config The config for MatchRoute\n     *\n     */\n    PageController.prototype.setConfig = function ( config ) {\n        _config = config;\n    };\n\n    /**\n     *\n     * Set the module configuration\n     * @memberof PageController\n     * @method setModules\n     * @param {object} modules The array of module objects\n     *\n     */\n    PageController.prototype.setModules = function ( modules ) {\n        if ( !modules ) {\n            return;\n        }\n\n        for ( var i = modules.length; i--; ) {\n            this.addModule( modules[ i ] );\n        }\n    };\n\n    /**\n     *\n     * Add to the module configuration\n     * @memberof PageController\n     * @method addModule\n     * @param {object} module The module object to add\n     *\n     */\n    PageController.prototype.addModule = function ( module ) {\n        if ( _modules.indexOf( module ) === -1 && isFunction( module.isActive ) && isFunction( module.onload ) && isFunction( module.unload ) ) {\n            _modules.push( module );\n\n        } else {\n            throw new Error( \"PageController ERROR - All registered modules require isActive, onload and unload methods.\" );\n        }\n    };\n\n    /**\n     *\n     * Returns the array of modules\n     * @memberof PageController\n     * @method getModules\n     * @returns array\n     *\n     */\n    PageController.prototype.getModules = function () {\n        return _modules;\n    };\n\n    /**\n     *\n     * Returns the MatchRoute config\n     * @memberof PageController\n     * @method getConfig\n     * @returns array\n     *\n     */\n    PageController.prototype.getConfig = function () {\n        return _config;\n    };\n\n    /**\n     *\n     * Returns the instances Router\n     * @memberof PageController\n     * @method getRouter\n     * @returns Router\n     *\n     */\n    PageController.prototype.getRouter = function () {\n        return _router;\n    };\n\n    /**\n     *\n     * Returns the instances PushState\n     * @memberof PageController\n     * @method getPusher\n     * @returns PushState\n     *\n     */\n    PageController.prototype.getPusher = function () {\n        return _router._pusher;\n    };\n\n    /**\n     *\n     * Returns the instances MatchRoute\n     * @memberof PageController\n     * @method getMatcher\n     * @returns MatchRoute\n     *\n     */\n    PageController.prototype.getMatcher = function () {\n        return _router._matcher;\n    };\n\n    /**\n     *\n     * Returns the current route pathed\n     * @memberof PageController\n     * @method getRoute\n     * @returns string\n     *\n     */\n    PageController.prototype.getRoute = function () {\n        return _currentRoute;\n    };\n\n    /**\n     *\n     * Returns the current query params object\n     * @memberof PageController\n     * @method getQuery\n     * @returns string\n     *\n     */\n    PageController.prototype.getQuery = function () {\n        return _currentQuery;\n    };\n\n    return PageController;\n\n});","/*!\n *\n * Handles basic get routing\n *\n * @Router\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Router = factory();\n    }\n\n})(function () {\n\n    var PushState = require( \"properjs-pushstate\" ),\n        MatchRoute = require( \"properjs-matchroute\" ),\n        matchElement = require( \"properjs-matchelement\" ),\n        _initDelay = 200,\n        _triggerEl,\n        _activeEl;\n\n\n    /**\n     *\n     * A simple router Class\n     * @constructor Router\n     * @requires PushState\n     * @requires MatchRoute\n     * @requires matchElement\n     * @memberof! <global>\n     *\n     */\n    var Router = function () {\n        return this.init.apply( this, arguments );\n    };\n\n    Router.prototype = {\n        constructor: Router,\n\n        /**\n         *\n         * Expression match http/https\n         * @memberof Router\n         * @member _rHTTPs\n         * @private\n         *\n         */\n        _rHTTPs: /^http[s]?:\\/\\/.*?\\//,\n\n        /**\n         *\n         * Expression match common file types...\n         * @memberof Router\n         * @member _rFiles\n         * @private\n         *\n         */\n        _rFiles: /\\.(jpg|jpeg|png|gif|pdf|csv|txt|md|doc|docx|xls|xlsx|webm|mp4|mp3)$/gi,\n\n        /**\n         *\n         * Expression match this documents domain\n         * @memberof Router\n         * @member _rDomain\n         * @private\n         *\n         */\n        _rDomain: new RegExp( document.domain ),\n\n        /**\n         *\n         * Flag routing state\n         * @memberof Router\n         * @member _isRouting\n         * @private\n         *\n         */\n        _isRouting: false,\n\n        /**\n         *\n         * Router init constructor method\n         * @memberof Router\n         * @method init\n         * @param {object} options Settings for PushState\n         * <ul>\n         * <li>options.caching</li>\n         * <li>options.proxy</li>\n         * <li>options.proxy.domain</li>\n         * <li>options.handle404</li>\n         * <li>options.handle500</li>\n         * <li>options.pushStateOptions</li>\n         * </ul>\n         *\n         * @fires preget\n         * @fires popget\n         * @fires get\n         *\n         */\n        init: function ( options ) {\n            /**\n             *\n             * Router Store user options\n             * @memberof Router\n             * @member _options\n             * @private\n             *\n             */\n            this._options = {\n                async: true,\n                proxy: false,\n                caching: true,\n                handle404: true,\n                handle500: true,\n                pushStateOptions: {}\n            };\n\n            // Normalize usage options passed in\n            options = (options || {});\n\n            // Merge usage options with defaults\n            for ( var i in options ) {\n                this._options[ i ] = options[ i ];\n            }\n\n            /**\n             *\n             * Internal MatchRoute instance\n             * @memberof Router\n             * @member _matcher\n             * @private\n             *\n             */\n            this._matcher = new MatchRoute();\n\n            /**\n             *\n             * Internal PushState instance\n             * @memberof Router\n             * @member _pusher\n             * @private\n             *\n             */\n            this._pusher = new PushState( this._options.pushStateOptions );\n\n            /**\n             *\n             * Event handling callbacks\n             * @memberof Router\n             * @member _callbacks\n             * @private\n             *\n             */\n            this._callbacks = {};\n\n            /**\n             *\n             * Stored XHR responses\n             * @memberof Router\n             * @member _responses\n             * @private\n             *\n             */\n            this._responses = {};\n\n            /**\n             *\n             * Router unique ID\n             * @memberof Router\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n\n            /**\n             *\n             * Router is READY status ?\n             * @memberof Router\n             * @member _ready\n             * @private\n             *\n             */\n            this._ready = false;\n        },\n\n        /**\n         *\n         * Create PushState instance and add event listener\n         * @memberof Router\n         * @method bind\n         *\n         */\n        bind: function () {\n            var self = this,\n                // Ensure this first cache URL is clean as a whistle\n                url = window.location.href.replace( window.location.hash, \"\" );\n\n            // Bind GET requests to links\n            document.addEventListener( \"click\", function ( e ) {\n                self._handleClick( this, e );\n\n            }, false );\n\n            // Bind popstate event for history\n            this._pusher.on( \"popstate\", function ( url, state ) {\n                self._handlePopstate( url, state );\n            });\n\n            // Fire first route\n            // Async this in order to allow .get() to work after instantiation\n            if ( this._options.async && this._options.handle404 ) {\n                this._route( url, function ( response, status ) {\n                    self._ready = true;\n                });\n\n            // Shim a little and bypass true XHR here if not handling 404s\n            } else {\n                setTimeout(function () {\n                    // https://developer.mozilla.org/en-US/docs/Web/API/XMLSerializer\n                    var doc = new XMLSerializer().serializeToString( document );\n                    var xhr = {\n                        status: 200,\n                        responseText: doc\n                    };\n\n                    self._fire( \"get\", url, xhr, xhr.status );\n                    self._cache( url, xhr );\n                    self._ready = true;\n\n                }, _initDelay );\n            }\n        },\n\n        /**\n         *\n         * Add an event listener\n         * Binding \"beforeget\" and \"afterget\" wraps the XHR request\n         * @memberof Router\n         * @method on\n         * @param {string} event The event to bind to\n         * @param {function} callback The function to call\n         *\n         */\n        on: function ( event, callback ) {\n            this._bind( event, callback );\n        },\n\n        /**\n         *\n         * Remove an event listener\n         * @memberof Router\n         * @method off\n         * @param {string} event The event to unbind\n         * @param {function} callback The function to reference\n         *\n         */\n        off: function ( event, callback ) {\n            this._unbind( event, callback );\n        },\n\n        /**\n         *\n         * Support router triggers by url\n         * @memberof Router\n         * @method trigger\n         * @param {string} url The url to route to\n         *\n         */\n        trigger: function ( url ) {\n            if ( !_triggerEl ) {\n                _triggerEl = document.createElement( \"a\" );\n            }\n\n            _triggerEl.href = url;\n\n            this._handleClick( _triggerEl, {\n                target: _triggerEl\n            });\n        },\n\n        /**\n         *\n         * Bind a GET request route\n         * @memberof Router\n         * @method get\n         * @param {string} route route to match\n         * @param {function} callback function to call when route is requested\n         *\n         */\n        get: function ( route, callback ) {\n            // Add route to matcher\n            this._matcher.config( [route] );\n\n            // Bind the route to the callback\n            if ( callback._routerRoutes ) {\n                callback._routerRoutes.push( route );\n\n            } else {\n                callback._routerRoutes = [route];\n            }\n\n            // When binding multiple routes to a single\n            // callback, we need to make sure the callbacks\n            // routes array is updated above but the callback\n            // only gets added to the list once.\n            if ( callback._routerRoutes.length === 1 ) {\n                this._bind( \"get\", callback );\n            }\n        },\n\n        getActiveEl: function () {\n            return _activeEl;\n        },\n\n        /**\n         *\n         * Get a sanitized route for a url\n         * @memberof Router\n         * @method getRouteForUrl\n         * @param {string} url The url to use\n         * @returns {string}\n         *\n         */\n        getRouteForUrl: function ( url ) {\n            return this._matcher._cleanRoute( url );\n        },\n\n        /**\n         *\n         * Get the match data for a url against the routes config\n         * @memberof Router\n         * @method getRouteDataForUrl\n         * @param {string} url The url to use\n         * @returns {object}\n         *\n         */\n        getRouteDataForUrl: function ( url ) {\n            return this._matcher.parse( url, this._matcher.getRoutes() ).params;\n        },\n\n        /**\n         *\n         * Get a unique ID\n         * @memberof Router\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n\n            return this._uid;\n        },\n\n        /**\n         * Compatible event preventDefault\n         * @memberof Router\n         * @method _preventDefault\n         * @param {object} e The event object\n         * @private\n         *\n         */\n        _preventDefault: function ( e ) {\n            if ( e.preventDefault ) {\n                e.preventDefault();\n\n            } else {\n                e.returnValue = false;\n            }\n        },\n\n        /**\n         * GET click event handler\n         * @memberof Router\n         * @method _handleClick\n         * @param {object} el The event context element\n         * @param {object} e The event object\n         * @private\n         *\n         * @fires get\n         *\n         */\n        _handleClick: function ( el, e ) {\n            var elem = (matchElement( el, \"a\", true ) || matchElement( e.target, \"a\", true )),\n                isMatched = elem && this._matcher.test( elem.href ),\n                isDomain = elem && this._rDomain.test( elem.href ),\n                isProxy = elem && this._options.proxy && this._options.proxy.domain,\n                isHashed = elem && elem.href.indexOf( \"#\" ) !== -1,\n                isIgnore = elem && elem.className.indexOf( \"js-router--ignore\" ) !== -1,\n                isMetaKey = elem && e.metaKey,\n                isBlank = elem && elem.target === \"_blank\",\n                isFile = elem && isDomain && elem.href.match( this._rFiles );\n\n            // 0.1 => Ensure url passes MatchRoute config\n            // 0.2 => Ensure url is on the Document's Domain\n            // 0.X => Allow proxy domain's to go through this checkpoint\n            if ( (isMatched && isDomain) || isProxy ) {\n                // 0.3 => Ensure url is not a #hash\n                // 0.4 => Ensure the element does not contain a `js-router--ignore` className\n                // 0.5 => Ensure the Event.metaKey is not TRUE - Command+click\n                // 0.6 => Ensure the element target is not for a new tab\n                // 0.7 => Ensure url is not a file link on the same document domain\n                if ( !isHashed && !isIgnore && !isMetaKey && !isBlank && !isFile ) {\n                    _activeEl = elem;\n\n                    this._preventDefault( e );\n\n                    if ( !this._isRouting ) {\n                        this._route( elem.href );\n                    }\n                }\n            }\n        },\n\n        /**\n         * Handle history popstate event from PushState\n         * @memberof Router\n         * @method _handlePopstate\n         * @param {string} url The url popped to\n         * @param {object} state The PushState state object\n         * @private\n         *\n         * @fires get\n         *\n         */\n        _handlePopstate: function ( url, state ) {\n            // Hook around browsers firing popstate on pageload\n            if ( this._ready ) {\n                for ( var i = this._callbacks.get.length; i--; ) {\n                    var dat = this._matcher.parse( url, this._callbacks.get[ i ]._routerRoutes );\n\n                    if ( dat.matched ) {\n                        break;\n                    }\n                }\n\n                data = {\n                    route: this._matcher._cleanRoute( url ),\n                    response: this._responses[ url ],\n                    request: dat,\n                    status: this._responses[ url ].status\n                };\n\n                this._fire( \"popget\", url, data );\n\n            } else {\n                this._ready = true;\n            }\n        },\n\n        /**\n         * Execute the route\n         * @memberof Router\n         * @method _route\n         * @param {string} url The url in question\n         * @param {function} callback Optional, fired with done\n         * @private\n         *\n         */\n        _route: function ( url, callback ) {\n            var self = this,\n                urls = {\n                    // For XHR\n                    request: url,\n\n                    // For pushState and Cache\n                    original: url\n                };\n\n            this._isRouting = true;\n\n            this._matchUrl( urls.original );\n\n            // Handle proxy first since we modify the request URL\n            // Basically, just piece together a URL that swaps this domain with proxy domain\n            if ( this._options.proxy && this._options.proxy.domain ) {\n                // Use window.location.host so it includes port for localhost\n                urls.request = (this._options.proxy.domain + \"/\" + urls.request.replace( this._rHTTPs, \"\" ));\n            }\n\n            this._getUrl( urls, function ( response, status ) {\n                self._isRouting = false;\n\n                // Push the URL to window History\n                self._pusher.push( urls.original );\n\n                // Fire event for routing\n                self._fire( \"get\", urls.original, response, status );\n\n                if ( typeof callback === \"function\" ) {\n                    callback( response, status );\n                }\n            });\n        },\n\n        /**\n         * Match a URL and fire \"preget\"\n         * @memberof Router\n         * @method _matchUrl\n         * @param {string} url The url in question\n         * @private\n         *\n         */\n        _matchUrl: function ( url ) {\n            if ( !this._ready ) {\n                return;\n            }\n\n            for ( var i = this._callbacks.get.length; i--; ) {\n                var data = this._matcher.parse( url, this._callbacks.get[ i ]._routerRoutes );\n\n                if ( data.matched ) {\n                    this._fire( \"preget\", url, data );\n                    break;\n                }\n            }\n        },\n\n        /**\n         *\n         * Request a url with an XMLHttpRequest\n         * @memberof Router\n         * @method _getUrl\n         * @param {object} urls The urls to request / push / cache\n         * @param {function} callback The function to call when done\n         * @private\n         *\n         */\n        _getUrl: function ( urls, callback ) {\n            var handler = function ( res, stat ) {\n                    try {\n                        // Cache if option enabled\n                        self._cache( urls.original, res );\n\n                        if ( typeof callback === \"function\" ) {\n                            callback( res, stat );\n                        }\n\n                    } catch ( error ) {}\n                },\n                xhr = null,\n                self = this;\n\n            // Cached response ?\n            if ( this._responses[ urls.original ] ) {\n                handler( this._responses[ urls.original ], this._responses[ urls.original ].status );\n\n            // Fresh request ?\n            } else if ( this._options.async ) {\n                xhr = new XMLHttpRequest();\n\n                xhr.open( \"GET\", urls.request, true );\n\n                xhr.onreadystatechange = function ( e ) {\n                    if ( this.readyState === 4 ) {\n                        if ( this.status === 200 ) {\n                            handler( this, 200 );\n\n                        } else if ( this.status === 404 && self._options.handle404 ) {\n                            handler( this, 404 );\n\n                        } else if ( this.status === 500 && self._options.handle500 ) {\n                            handler( this, 500 );\n                        }\n                    }\n                };\n\n                xhr.send();\n\n            } else {\n                handler( { responseText: \"\" }, 200 );\n            }\n        },\n\n        /**\n         *\n         * Cache an XHR response object\n         * @memberof Router\n         * @method _cache\n         * @param {string} url The url to cache for\n         * @param {object} res The XHR object\n         * @private\n         *\n         */\n        _cache: function ( url, res ) {\n            // Caching is enabled, Not currently cached yet\n            if ( this._options.caching && !this._responses[ url ] ) {\n                this._responses[ url ] = res;\n            }\n        },\n\n        /**\n         *\n         * Bind an event to a callback\n         * @memberof Router\n         * @method _bind\n         * @param {string} event what to bind on\n         * @param {function} callback fired on event\n         * @private\n         *\n         */\n        _bind: function ( event, callback ) {\n            if ( typeof callback === \"function\" ) {\n                if ( !this._callbacks[ event ] ) {\n                    this._callbacks[ event ] = [];\n                }\n\n                callback._jsRouterID = this.getUID();\n\n                this._callbacks[ event ].push( callback );\n            }\n        },\n\n        /**\n         *\n         * Unbind an event to a callback(s)\n         * @memberof Router\n         * @method _bind\n         * @param {string} event what to bind on\n         * @param {function} callback fired on event\n         * @private\n         *\n         */\n        _unbind: function ( event, callback ) {\n            if ( !this._callbacks[ event ] ) {\n                return this;\n            }\n\n            // Remove a single callback\n            if ( callback ) {\n                for ( var i = 0, len = this._callbacks[ event ].length; i < len; i++ ) {\n                    if ( callback._jsRouterID === this._callbacks[ event ][ i ]._jsRouterID ) {\n                        this._callbacks[ event ].splice( i, 1 );\n\n                        break;\n                    }\n                }\n\n            // Remove all callbacks for event\n            } else {\n                for ( var j = this._callbacks[ event ].length; j--; ) {\n                    this._callbacks[ event ][ j ] = null;\n                }\n\n                delete this._callbacks[ event ];\n            }\n        },\n\n        /**\n         *\n         * Fire an event to a callback\n         * @memberof Router\n         * @method _fire\n         * @param {string} event what to bind on\n         * @param {string} url fired on event\n         * @param {string} response html from responseText\n         * @param {number} status The request status\n         * @private\n         *\n         */\n        _fire: function ( event, url, response, status ) {\n            var i;\n\n            // GET events have routes and are special ;-P\n            if ( event === \"get\" ) {\n                for ( i = this._callbacks[ event ].length; i--; ) {\n                    var data = this._matcher.parse( url, this._callbacks[ event ][ i ]._routerRoutes );\n\n                    if ( data.matched ) {\n                        this._callbacks[ event ][ i ].call( this, {\n                            route: this._matcher._cleanRoute( url ),\n                            response: response,\n                            request: data,\n                            status: status\n                        });\n                    }\n                }\n\n            // Fires basic timing events \"preget\", \"popget\"\n            } else if ( this._callbacks[ event ] ) {\n                for ( i = this._callbacks[ event ].length; i--; ) {\n                    this._callbacks[ event ][ i ].call( this, response );\n                }\n            }\n        }\n    };\n\n\n    return Router;\n\n});\n","/*!\n *\n * Handles history pushstate/popstate with async option\n * If history is not supported, falls back to hashbang!\n *\n * @PushState\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.PushState = factory();\n    }\n\n})(function () {\n\n    /**\n     *\n     * A simple pushState Class\n     * @constructor PushState\n     * @memberof! <global>\n     *\n     */\n    var PushState = function () {\n        return this.init.apply( this, arguments );\n    };\n\n    PushState.prototype = {\n        constructor: PushState,\n\n        /**\n         *\n         * Flag whether pushState is enabled\n         * @memberof PushState\n         * @member _pushable\n         * @private\n         *\n         */\n        _pushable: (\"history\" in window && \"pushState\" in window.history),\n\n        /**\n         *\n         * Fallback to hashchange if needed. Support:\n         * <ul>\n         * <li>Internet Explorer 8</li>\n         * <li>Firefox 3.6</li>\n         * <li>Chrome 5</li>\n         * <li>Safari 5</li>\n         * <li>Opera 10.6</li>\n         * </ul>\n         * @memberof PushState\n         * @member _hashable\n         * @private\n         *\n         */\n        _hashable: (\"onhashchange\" in window),\n\n        /**\n         *\n         * PushState init constructor method\n         * @memberof PushState\n         * @method PushState.init\n         * @param {object} options Settings for PushState\n         * <ul>\n         * <li>options.forceHash</li>\n         * </ul>\n         *\n         * @fires backstate\n         * @fires forwardstate\n         * @fires popstate\n         *\n         */\n        init: function ( options ) {\n            /**\n             *\n             * Ensure this first cache URL is clean as a whistle\n             * @memberof PushState\n             * @member _initUrl\n             * @private\n             *\n             */\n            this._initUrl = window.location.href.replace( window.location.hash, \"\" );\n\n            /**\n             *\n             * User options for usage\n             * @memberof PushState\n             * @member _options\n             * @private\n             *\n             */\n            this._options = (options || {});\n\n            /**\n             *\n             * Flag whether state is enabled\n             * @memberof PushState\n             * @member _enabled\n             * @private\n             *\n             */\n            this._enabled = false;\n\n            /**\n             *\n             * Flag when hash is changed by PushState\n             * This allows appropriate replication of popstate\n             * @memberof PushState\n             * @member _ishashpushed\n             * @private\n             *\n             */\n            this._ishashpushed = false;;\n\n            /**\n             *\n             * Unique ID ticker\n             * @memberof PushState\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n\n            /**\n             *\n             * Stored state objects\n             * @memberof PushState\n             * @member _states\n             * @private\n             *\n             */\n            this._states = {};\n\n            /**\n             *\n             * Event callbacks\n             * @memberof PushState\n             * @member _callbacks\n             * @private\n             *\n             */\n            this._callbacks = {};\n\n            // Set initial state\n            this._states[ this._initUrl ] = {\n                uid: this.getUID()\n            };\n\n            // Enable popstate management\n            this._stateEnable();\n        },\n\n        /**\n         *\n         * Bind a callback to an event\n         * @memberof PushState\n         * @method on\n         * @param {string} event The event to bind to\n         * @param {function} callback The function to call\n         *\n         */\n        on: function ( event, callback ) {\n            if ( typeof callback === \"function\" ) {\n                if ( !this._callbacks[ event ] ) {\n                    this._callbacks[ event ] = [];\n                }\n\n                callback._pushstateID = this.getUID();\n                callback._pushstateType = event;\n\n                this._callbacks[ event ].push( callback );\n            }\n        },\n\n        /**\n         *\n         * Unbind a callback to an event\n         * @memberof PushState\n         * @method off\n         * @param {string} event The event that was bound\n         * @param {function} callback The function to remove\n         *\n         */\n        off: function ( event, callback ) {\n            if ( this._callbacks[ event ] ) {\n                for ( var i = this._callbacks[ event ].length; i--; ) {\n                    if ( this._callbacks[ event ][ i ]._pushstateID === callback._pushstateID ) {\n                        this._callbacks[ event ].splice( i, 1 );\n                        break;\n                    }\n                }\n            }\n        },\n\n        /**\n         *\n         * Push onto the History state\n         * @memberof PushState\n         * @method push\n         * @param {string} url address to push to history\n         *\n         */\n        push: function ( url ) {\n            // Dont push current URL\n            if ( url === window.location.href ) {\n                return;\n            }\n\n            this._push( url );\n\n            this._states[ url ] = {\n                uid: this.getUID()\n            };\n        },\n\n        /**\n         *\n         * Manually go back in history state\n         * @memberof PushState\n         * @method goBack\n         *\n         * @fires backstate\n         *\n         */\n        goBack: function () {\n            window.history.back();\n\n            this._fire( \"backstate\" );\n        },\n\n        /**\n         *\n         * Manually go forward in history state\n         * @memberof PushState\n         * @method goForward\n         *\n         * @fires forwardstate\n         *\n         */\n        goForward: function () {\n            window.history.forward();\n\n            this._fire( \"forwardstate\" );\n        },\n\n        /**\n         *\n         * Get a unique ID\n         * @memberof PushState\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n\n            return this._uid;\n        },\n\n        /**\n         *\n         * Calls window.history.pushState\n         * @memberof PushState\n         * @method _push\n         * @param {string} url The url to push\n         * @private\n         *\n         */\n        _push: function ( url ) {\n            if ( this._pushable && !this._options.forceHash ) {\n                window.history.pushState( this._states[ url ], \"\", url );\n\n            } else {\n                // This replace ensures we get the following:\n                // \"/\":         root\n                // \"/foo/bar/\": uri path\n                var hashUri = url.replace( window.location.origin, \"\" );\n\n                // Fix for root hash uri.\n                // Ensure we dont get the following:\n                // \"/foo/bar/#/foo/bar/\"\n                // Rather we would get the following:\n                // \"/foo/bar/#/\"\n                if ( hashUri === window.location.pathname ) {\n                    hashUri = \"/\";\n                }\n\n                this._ishashpushed = true;\n\n                window.location.hash = hashUri;\n            }\n        },\n\n        /**\n         *\n         * Fire an events callbacks\n         * @memberof PushState\n         * @method _fire\n         * @param {string} event The event to fire\n         * @param {string} url The current url\n         * @private\n         *\n         */\n        _fire: function ( event, url ) {\n            if ( this._callbacks[ event ] ) {\n                for ( var i = this._callbacks[ event ].length; i--; ) {\n                    this._callbacks[ event ][ i ].apply( this, [].slice.call( arguments, 1 ) );\n                }\n            }\n        },\n\n        /**\n         *\n         * Bind this instances state handler\n         * @memberof PushState\n         * @method _stateEnabled\n         * @private\n         *\n         * @fires popstate\n         *\n         */\n        _stateEnable: function () {\n            if ( this._enabled ) {\n                return this;\n            }\n\n            var self = this,\n                handler = function () {\n                    var url = window.location.href,\n                        roots = [\"#/\", \"#\", \"\"];\n\n                    // Ensure we clean out the hash for Router\n                    // Example:\n                    // Start:  http://localhost/foo/#/bar/\n                    // Result: http://localhost/foo/bar/\n                    if ( self._options.forceHash ) {\n                        // Shave the hash from the end of the URL\n                        url = url.replace( window.location.hash, \"\" );\n\n                        // Shave the hash root from the end of the URL\n                        url = url.replace( window.location.pathname, \"\" );\n\n                        // Empty hash means we have gone back to root\n                        if ( roots.indexOf( window.location.hash ) !== -1 ) {\n                            // Append the hash root to the URL\n                            url = (url + window.location.pathname);\n\n                        } else {\n                            // Append the applied hash pathname to the URL\n                            url = (url + window.location.hash.replace( \"#\", \"\" ));\n                        }\n                    }\n\n                    self._fire( \"popstate\", url, self._states[ url ] );\n                };\n\n            this._enabled = true;\n\n            if ( this._pushable && !this._options.forceHash ) {\n                window.addEventListener( \"popstate\", function ( e ) {\n                    handler();\n\n                }, false );\n\n            } else if ( this._hashable ) {\n                // For hashstate we should apply initial hash on page load\n                this._push( this._initUrl );\n\n                window.addEventListener( \"hashchange\", function ( e ) {\n                    if ( !self._ishashpushed ) {\n                        handler();\n\n                    } else {\n                        self._ishashpushed = false;\n                    }\n\n                }, false );\n            }\n        }\n    };\n\n    return PushState;\n\n});","/*!\n *\n * Handles wildcard route matching against urls with !num and !slug condition testing\n *\n * @MatchRoute\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.MatchRoute = factory();\n    }\n    \n})(function () {\n\n    var paramalama = require( \"paramalama\" ),\n\n    /**\n     *\n     * Handles wildcard route matching against urls with !num and !slug condition testing\n     * <ul>\n     * <li>route = \"/some/random/path/:myvar\"</li>\n     * <li>route = \"/some/random/path/:myvar!num\"</li>\n     * <li>route = \"/some/random/path/:myvar!slug\"</li>\n     * </ul>\n     * @constructor MatchRoute\n     * @memberof! <global>\n     * @requires paramalama\n     *\n     */\n    MatchRoute = function () {\n        return this.init.apply( this, arguments );\n    };\n    \n    MatchRoute.prototype = {\n        constructor: MatchRoute,\n        \n        /**\n         *\n         * Expression match http/https\n         * @memberof MatchRoute\n         * @member _rHTTPs\n         * @private\n         *\n         */\n        _rHTTPs: /^http[s]?:\\/\\/.*?\\//,\n        \n        /**\n         *\n         * Expression match trail slashes\n         * @memberof MatchRoute\n         * @member _rTrails\n         * @private\n         *\n         */\n        _rTrails: /^\\/|\\/$/g,\n        \n        /**\n         *\n         * Expression match hashbang/querystring\n         * @memberof MatchRoute\n         * @member _rHashQuery\n         * @private\n         *\n         */\n        _rHashQuery: /#.*$|\\?.*$/g,\n        \n        /**\n         *\n         * Expression match wildcards\n         * @memberof MatchRoute\n         * @member _rWild\n         * @private\n         *\n         */\n        _rWild: /^:/,\n        \n        /**\n         *\n         * Expressions to match wildcards with supported conditions\n         * @memberof MatchRoute\n         * @member _wilders\n         * @private\n         *\n         */\n        _wilders: {\n            num: /^[0-9]+$/,\n            slug: /^[A-Za-z]+[A-Za-z0-9-_.]*$/\n        },\n        \n        \n        /**\n         *\n         * MatchRoute init constructor method\n         * @memberof MatchRoute\n         * @method init\n         * @param {array} routes Config routes can be passed on instantiation\n         *\n         */\n        init: function ( routes ) {\n            /**\n             *\n             * The routes config array\n             * @memberof MatchRoute\n             * @member _routes\n             * @private\n             *\n             */\n            this._routes = ( routes ) ? this._cleanRoutes( routes ) : [];\n        },\n    \n        /**\n         *\n         * Get the internal route array\n         * @memberof MatchRoute\n         * @method MatchRoute.getRoutes\n         * @returns {array}\n         *\n         */\n        getRoutes: function () {\n            return this._routes;\n        },\n        \n        /**\n         *\n         * Update routes config array\n         * @memberof MatchRoute\n         * @method config\n         * @param {array} routes to match against\n         *\n         */\n        config: function ( routes ) {\n            // Force array on routes\n            routes = ( typeof routes === \"string\" ) ? [ routes ] : routes;\n    \n            this._routes = this._routes.concat( this._cleanRoutes( routes ) );\n            \n            return this;\n        },\n        \n        /**\n         *\n         * Test a url against a routes config for match validation\n         * @memberof MatchRoute\n         * @method test\n         * @param {string} url to test against routes\n         * @returns True or False\n         *\n         */\n        test: function ( url ) {\n            return this.parse( url, this._routes ).matched;\n        },\n        \n        /**\n         *\n         * Match a url against a routes config for matches\n         * @memberof MatchRoute\n         * @method params\n         * @param {string} url to test against routes\n         * @returns Array of matching routes\n         *\n         */\n        params: function ( url ) {\n            return this.parse( url, this._routes ).params;\n        },\n        \n        /**\n         *\n         * Compare a url against a specific route\n         * @memberof MatchRoute\n         * @method compare\n         * @param {string} route compare route\n         * @param {string} url compare url\n         * @returns MatchRoute.parse()\n         *\n         */\n        compare: function ( route, url ) {\n            return this.parse( url, [route] );\n        },\n        \n        /**\n         *\n         * Parse a url for matches against config array\n         * @memberof MatchRoute\n         * @method parse\n         * @param {string} url to test against routes\n         * @param {array} routes The routes to test against\n         * @returns Object witch match bool and matches array\n         *\n         */\n        parse: function ( url, routes ) {\n            var segMatches,\n                isStar,\n                params,\n                match,\n                route = this._cleanRoute( url ),\n                ruris,\n                regex,\n                cond,\n                uris = route.split( \"/\" ),\n                uLen = uris.length,\n                iLen = routes.length,\n                ret;\n            \n            for ( var i = 0; i < iLen; i++ ) {\n                // Flag \"*\" route\n                isStar = (routes[ i ] === \"*\");\n                \n                // Start fresh each iteration\n                // Only one matched route allowed\n                ret = {\n                    matched: false,\n                    route: null,\n                    uri: [],\n                    params: {},\n                    query: paramalama( url )\n                };\n                \n                ruris = routes[ i ].split( \"/\" );\n                \n                // Handle route === \"/\"\n                if ( route === \"/\" && routes[ i ] === \"/\" ) {\n                    ret.matched = true;\n                    ret.route = routes[ i ];\n                    ret.uri = \"/\";\n                    \n                    break;\n                }\n                \n                // If the actual url doesn't match the route in segment length,\n                // it cannot possibly be considered for matching so just skip it\n                if ( ruris.length !== uris.length && !isStar ) {\n                    continue;\n                }\n                \n                segMatches = 0;\n                \n                for ( var j = 0; j < uLen; j++ ) {\n                    // Matched a variable uri segment\n                    if ( this._rWild.test( ruris[ j ] ) ) {\n                        // Try to split on conditions\n                        params = ruris[ j ].split( \"!\" );\n                        \n                        // The variable segment\n                        match = params[ 0 ];\n                        \n                        // The match condition\n                        cond = params[ 1 ];\n                        \n                        // With conditions\n                        if ( cond ) {\n                            // We support this condition\n                            if ( this._wilders[ cond ] ) {\n                                regex = this._wilders[ cond ];\n                            }\n                            \n                            // Test against the condition\n                            if ( regex && regex.test( uris[ j ] ) ) {\n                                segMatches++;\n                                \n                                // Add the match to the config data\n                                ret.params[ match.replace( this._rWild, \"\" ) ] = uris[ j ];\n                                ret.uri.push( uris[ j ] );\n                            }\n                        \n                        // No conditions, anything goes   \n                        } else {\n                            segMatches++;\n                            \n                            // Add the match to the config data\n                            ret.params[ match.replace( this._rWild, \"\" ) ] = uris[ j ];\n                            ret.uri.push( uris[ j ] );\n                        }\n                    \n                    // Defined segment always goes   \n                    } else {\n                        if ( uris[ j ] === ruris[ j ] ) {\n                            segMatches++;\n                            \n                            ret.uri.push( uris[ j ] );\n                        }\n                    }\n                }\n                \n                // Handle a uri segment match OR \"*\" wildcard everything\n                if ( segMatches === uris.length || isStar ) {\n                    ret.matched = true;\n                    ret.route = routes[ i ];\n                    ret.uri = ( isStar ) ? route : ret.uri.join( \"/\" );\n                    \n                    break;\n                }\n            }\n            \n            return ret;\n        },\n        \n        /**\n         *\n         * Clean a route string\n         * If the route === \"/\" then it is returned as is\n         * @memberof MatchRoute\n         * @method _cleanRoute\n         * @param {string} route the route to clean\n         * @returns cleaned route string\n         * @private\n         *\n         */\n        _cleanRoute: function ( route ) {\n            if ( route !== \"/\" ) {\n                route = route.replace( this._rHTTPs, \"\" );\n                route = route.replace( this._rTrails, \"\" );\n                route = route.replace( this._rHashQuery, \"\" );\n                route = route.replace( this._rTrails, \"\" );\n            }\n            \n            if ( route === \"\" ) {\n                route = \"/\";\n            }\n            \n            return route;\n        },\n        \n        /**\n         *\n         * Clean an array of route strings\n         * @memberof MatchRoute\n         * @method _cleanRoutes\n         * @param {array} routes the routes to clean\n         * @returns cleaned routes array\n         * @private\n         *\n         */\n        _cleanRoutes: function ( routes ) {\n            for ( var i = routes.length; i--; ) {\n                routes[ i ] = this._cleanRoute( routes[ i ] );\n            }\n            \n            return routes;\n        }\n    };\n    \n    \n    return MatchRoute;\n\n\n});","/*!\n *\n * Use native element selector matching\n *\n * @matchElement\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.matchElement = factory();\n    }\n    \n})(function () {\n\n    /**\n     *\n     * Use native element selector matching\n     * @memberof! <global>\n     * @method matchElement\n     * @param {object} el the element\n     * @param {string} selector the selector to match\n     * @param {boolean} walk should we walk the tree if el is not a match?\n     * @returns element OR null\n     *\n     */\n    var matchElement = function ( el, selector, walk ) {\n        var method = ( el.matches ) ? \"matches\" : ( el.webkitMatchesSelector ) ? \n                                      \"webkitMatchesSelector\" : ( el.mozMatchesSelector ) ? \n                                      \"mozMatchesSelector\" : ( el.msMatchesSelector ) ? \n                                      \"msMatchesSelector\" : ( el.oMatchesSelector ) ? \n                                      \"oMatchesSelector\" : null;\n\n        // Try testing the element against the selector\n        // 0.1 => Method is not undefined\n        // 0.2 => Element passes method call\n        if ( method && el[ method ].call( el, selector ) ) {\n            return el;\n\n        // Keep walking up the DOM if we can - only if `walk` flag is `true`\n        } else if ( walk && el !== document.documentElement && el.parentNode ) {\n            return matchElement( el.parentNode, selector, walk );\n\n        // Otherwise we should not execute an event\n        } else {\n            return null;\n        }\n    };\n\n\n    return matchElement;\n\n});","//import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport About from \"./About\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace about\n * @description A nice description of what this module does...\n *\n */\nconst about = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof about\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--root\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.log( \"about initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof about\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof about\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        core.emitter.fire( \"app--offcanvas\" );\n\n        core.dom.html.removeClass( core.config.offcanvasClasses ).addClass( \"is-offcanvas is-offcanvas--about\" );\n\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new About( $_jsElement, data );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof about\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof about\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-about\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default about;","import * as core from \"../core\";\n\n\nlet instance = null;\n\n\n/**\n *\n * @public\n * @class About\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle a menu view.\n * @memberof menus\n *\n */\nclass About {\n    constructor ( $node, data ) {\n        if ( !instance ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof about.About\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.$node = $node;\n        this.data = data;\n        this.transTime = 400;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$anim = this.$node.find( \".js-animate-in\" );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n\n        this.loadContent();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadContent\n     * @memberof about.About\n     * @description Handle content.\n     *\n     */\n    loadContent () {\n        this.$target.append( this.$node );\n\n        setTimeout(() => {\n            this.$anim.addClass( \"is-active\" );\n\n        }, 10 );\n\n        core.emitter.fire( \"app--preload-done\" );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof about.About\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {}\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default About;","import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport IndexRoot from \"./IndexRoot\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace indexes\n * @description A nice description of what this module does...\n *\n */\nconst indexes = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof indexes\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--offcanvas\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.emitter.on( \"app--load-root\", ( root ) => {\n            $_jsElement = $( root );\n\n            this.onload();\n        });\n\n        core.log( \"indexes initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof indexes\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof indexes\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new IndexRoot( $_jsElement, data );\n\n        } else {\n            instance.cycleAnimation();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof indexes\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof indexes\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-index\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default indexes;","import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport router from \"../router\";\nimport Project from \"../projects/Project\";\nimport overlay from \"../overlay\";\nimport Controller from \"properjs-controller\";\n\n\nlet instance = null;\nconst animator = new Controller();\n\n\n/**\n *\n * @public\n * @class IndexRoot\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index as a Singleton(ish).\n * @memberof indexes\n *\n */\nclass IndexRoot {\n    constructor ( $node, data ) {\n        if ( !instance || instance && instance.data.id !== data.id ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof indexes.IndexRoot\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.$node = $node;\n        this.data = data;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n        this.timeoutId = null;\n        this.timeoutDelay = core.dom.overlay.elementTransitionDuration;\n\n        this.bindEvents();\n        this.loadIndex();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof indexes.IndexRoot\n     * @description Start the animation cycle for the listing.\n     *\n     */\n    cycleAnimation () {\n        // Fresh query for js- animatable elements each time\n        this.$anims = this.$node.find( \".js-animate\" );\n\n        // If pathname is not the `root` we shant not start raf cycle\n        if ( window.location.pathname === router.root ) {\n            animator.stop();\n            animator.go( this.updateAnimate.bind( this ) );\n\n            this.handleScroll();\n\n        } else {\n            this.updateAnimate();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method handleScroll\n     * @memberof indexes.IndexRoot\n     * @description Handle active scroll for root panel.\n     *\n     */\n    handleScroll () {\n        let _timeout = null;\n        const _handleScroll = function () {\n            overlay.suppress( false );\n        };\n\n        this.$target.on( \"scroll\", () => {\n            try {\n                clearTimeout( _timeout );\n\n            } catch ( error ) {\n                core.log( \"warn\", error );\n            }\n\n            overlay.suppress( true );\n\n            _timeout = setTimeout( _handleScroll, 300 );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updateAnimate\n     * @memberof indexes.IndexRoot\n     * @description Update active photos for index.\n     *\n     */\n    updateAnimate () {\n        let $anim = null;\n        let i = this.$anims.length;\n\n        for ( i; i--; ) {\n            $anim = this.$anims.eq( i );\n\n            if ( core.util.isElementInViewport( $anim[ 0 ] ) ) {\n                $anim.addClass( \"is-active\" );\n\n            } else {\n                $anim.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof indexes.IndexRoot\n     * @description Bind event handlers for this instance.\n     *\n     */\n    bindEvents () {\n        core.dom.body.on( \"click\", \".js-index-tile\", this.onTileClick.bind( this ) );\n\n        if ( !core.detect.isDevice() ) {\n            core.dom.body.on( \"mouseenter\", \".js-index-tile img\", this.onMouseEnter.bind( this ) );\n            core.dom.body.on( \"mousemove\", \".js-index-tile img\", this.onMouseEnter.bind( this ) );\n            core.dom.body.on( \"mouseleave\", \".js-index-tile img\", this.onMouseLeave.bind( this ) );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadIndex\n     * @memberof indexes.IndexRoot\n     * @description Handle loading process for this instance.\n     *\n     */\n    loadIndex () {\n        // Node must be in DOM for image size to work\n        this.$target.append( this.$node );\n\n        core.images.handleImages( this.$images, () => {\n            this.cycleAnimation();\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onTileClick\n     * @param {object} e The Event object\n     * @memberof indexes.IndexRoot\n     * @description Handle project grid tile clicks - loads a new Project.\n     *\n     */\n    onTileClick ( e ) {\n        e.preventDefault();\n\n        const $tile = $( e.target ).closest( \".js-index-tile\" );\n\n        overlay.setTitle( $tile.data( \"title\" ) );\n\n        overlay.open();\n\n        Project.open();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onMouseEnter\n     * @param {object} e The Event object\n     * @memberof indexes.IndexRoot\n     * @description Handle showing title on mouse enter grid tile.\n     *\n     */\n    onMouseEnter ( e ) {\n        try {\n            clearTimeout( this.timeoutId );\n\n        } catch ( error ) {\n            core.log( \"warn\", error );\n        }\n\n        if ( Project.isActive() ) {\n            return;\n        }\n\n        const $tile = $( e.target ).closest( \".js-index-tile\" );\n\n        overlay.setTitle( $tile.data( \"title\" ) );\n\n        overlay.open();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onMouseLeave\n     * @memberof indexes.IndexRoot\n     * @description Handle removing title on mouse leave grid tile.\n     *\n     */\n    onMouseLeave () {\n        if ( Project.isActive() ) {\n            return;\n        }\n\n        this.timeoutId = setTimeout(() => {\n            if ( !Project.isActive() ) {\n                overlay.close();\n            }\n\n        }, this.timeoutDelay );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof indexes.IndexRoot\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n        animator.stop();\n\n        this.$target.off( \"scroll\" );\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default IndexRoot;","/*!\n *\n * A lightweight manager for HTML5 audio and video.\n *\n * @MediaBox\n * @singleton\n * @author: kitajchuk\n *\n * @useful web pages with information on this stuffs\n * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.MediaBox = factory();\n    }\n    \n})(function () {\n\n\n    var Easing = require( \"properjs-easing\" ),\n        Tween = require( \"properjs-tween\" ),\n        raf = window.requestAnimationFrame,\n        caf = window.cancelAnimationFrame,\n\n    /******************************************************************************\n     * @Private API\n    *******************************************************************************/\n    \n    /**\n     *\n     * Expression match hashbang/querystring\n     * @member rHashQuery\n     * @private\n     *\n     */\n    rHashQuery = /[#|?].*$/g,\n    \n    \n    /**\n     *\n     * Replace \"no\" in canPlayType strings\n     * @member rNos\n     * @private\n     *\n     */\n    rNos = /^no$/,\n    \n    \n    /**\n     *\n     * Clean up all those typeof's\n     * @method isFunction\n     * @returns boolean\n     * @private\n     *\n     */\n    isFunction = function ( fn ) {\n        return (typeof fn === \"function\");\n    },\n    \n    \n    /**\n     *\n     * Test that an object is an Element\n     * @method isElement\n     * @returns boolean\n     * @private\n     *\n     */\n    isElement = function ( el ) {\n        return (el instanceof HTMLElement);\n    },\n    \n    \n    /**\n     *\n     * Borrowed(ish)\n     * Modernizr v3.0.0-alpha.4 on master branch\n     * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/audio.js\n     * @method getAudioSupport\n     * @returns object\n     * @private\n     *\n     */\n    getAudioSupport = function () {\n        var elem = document.createElement( \"audio\" ),\n            ret = {};\n    \n        try {\n            if ( elem.canPlayType ) {\n                ret.ogg = elem.canPlayType( 'audio/ogg; codecs=\"vorbis\"' ).replace( rNos, \"\" );\n                ret.mp3 = elem.canPlayType( 'audio/mpeg;' ).replace( rNos, \"\" );\n                ret.opus = elem.canPlayType( 'audio/ogg; codecs=\"opus\"' ).replace( rNos, \"\" );\n    \n                // Mimetypes accepted:\n                // developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements\n                // bit.ly/iphoneoscodecs\n                ret.wav = elem.canPlayType( 'audio/wav; codecs=\"1\"' ).replace( rNos, \"\" );\n                ret.m4a = (elem.canPlayType( 'audio/x-m4a;' ) || elem.canPlayType( 'audio/aac;' )).replace( rNos, \"\" );\n            }\n    \n        } catch ( e ) {}\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Borrowed(ish)\n     * Modernizr v3.0.0-alpha.4 on master branch\n     * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/video.js\n     * @method getVideoSupport\n     * @returns object\n     * @private\n     *\n     */\n    getVideoSupport = function () {\n        var elem = document.createElement( \"video\" ),\n            ret = {};\n    \n        try {\n            if ( elem.canPlayType ) {\n                ret.ogg = elem.canPlayType( 'video/ogg; codecs=\"theora\"' ).replace( rNos, \"\" );\n    \n                // Without QuickTime, this value will be `undefined`. github.com/Modernizr/Modernizr/issues/546\n                ret.h264 = elem.canPlayType( 'video/mp4; codecs=\"avc1.42E01E\"' ).replace( rNos, \"\" );\n                ret.webm = elem.canPlayType( 'video/webm; codecs=\"vp8, vorbis\"' ).replace( rNos, \"\" );\n                ret.vp9 = elem.canPlayType( 'video/webm; codecs=\"vp9\"' ).replace( rNos, \"\" );\n                ret.hls = elem.canPlayType( 'application/x-mpegURL; codecs=\"avc1.42E01E\"' ).replace( rNos, \"\" );\n            }\n    \n        } catch ( e ) {}\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Get mimetype string from media source\n     * @method getMimeForMedia\n     * @param {string} src media file source\n     * @private\n     *\n     */\n    getMimeForMedia = function ( type, src ) {\n        var ext = src.split( \".\" ).pop().toLowerCase().replace( rHashQuery, \"\" ),\n            ret;\n    \n        if ( type === \"video\" ) {\n            switch ( ext ) {\n                case \"webm\":\n                    ret = \"video/webm\";\n                    break;\n                case \"mp4\":\n                case \"m4v\":\n                    ret = \"video/mp4\";\n                    break;\n                case \"ogv\":\n                    ret = \"video/ogg\";\n                    break;\n            }\n    \n        } else {\n            switch ( ext ) {\n                case \"aac\":\n                    ret = \"audio/aac\";\n                    break;\n                case \"m4a\":\n                    ret = \"audio/x-m4a\";\n                    break;\n                case \"mp4\":\n                    ret = \"audio/mp4\";\n                    break;\n                case \"mp1\":\n                case \"mp2\":\n                case \"mp3\":\n                case \"mpg\":\n                case \"mpeg\":\n                    ret = \"audio/mpeg\";\n                    break;\n                case \"oga\":\n                case \"ogg\":\n                    ret = \"audio/ogg\";\n                    break;\n                case \"wav\":\n                    ret = \"audio/wav\";\n                    break;\n            }\n        }\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Get the audio source that should be used\n     * @method getCanPlaySource\n     * @param {string} media the media type to check\n     * @param {array} sources Array of media sources\n     * @returns object\n     * @private\n     *\n     */\n    getCanPlaySource = function ( media, sources ) {\n        var source, canPlay;\n    \n        for ( var i = 0, len = sources.length; i < len; i++ ) {\n            var src = sources[ i ].split( \".\" ).pop().toLowerCase().replace( rHashQuery, \"\" );\n    \n    \n            // The only time we break, this honors webm > mp4\n            if ( src === \"webm\" && MediaBox.support[ media ][ src ] === \"probably\" ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ][ src ];\n                break;\n            }\n    \n            if ( MediaBox.support[ media ][ src ] === \"probably\" || MediaBox.support[ media ][ src ] === \"maybe\" ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ][ src ];\n            }\n    \n            if ( (src === \"ogv\" || src === \"oga\") && (MediaBox.support[ media ].ogg === \"probably\" || MediaBox.support[ media ].ogg === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].ogg;\n            }\n    \n            if ( (src === \"mp4\" || src === \"m4v\") && (MediaBox.support[ media ].h264 === \"probably\" || MediaBox.support[ media ].h264 === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].h264;\n            }\n    \n            if ( src === \"aac\" && (MediaBox.support[ media ].m4a === \"probably\" || MediaBox.support[ media ].m4a === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].m4a;\n            }\n    \n            if ( (src === \"mp1\" || src === \"mp2\" || src === \"mpg\" || src === \"mpeg\") && (MediaBox.support[ media ].mp3 === \"probably\" || MediaBox.support[ media ].mp3 === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].mp3;\n            }\n    \n/*\n            if ( source ) {\n                break;\n            }\n*/\n        }\n    \n        return {\n            source: source,\n            canPlay: canPlay\n        };\n    },\n    \n    \n    /**\n     *\n     * MediaBox clear a timeupdate interval for audio/video tracks\n     * @method clearPlaybackUpdate\n     * @param {object} track The media object\n     *\n     */\n    clearPlaybackUpdate = function ( track ) {\n        if ( track._updateId ) {\n            caf( track._updateId );\n    \n            track._updateId = null;\n            track._updateFn = null;\n        }\n    },\n    \n    \n    /**\n     *\n     * MediaBox crossbrowser create audio context\n     * @method createAudioContext\n     * @returns instance of audio context\n     *\n     */\n    createAudioContext = function () {\n        var AudioContext;\n    \n        if ( window.AudioContext ) {\n            AudioContext = window.AudioContext;\n    \n        } else if ( window.webkitAudioContext ) {\n            AudioContext = window.webkitAudioContext;\n        }\n    \n        return ( AudioContext ) ? new AudioContext() : AudioContext;\n    },\n    \n    \n    /**\n     *\n     * MediaBox Open a new XMLHttpRequest\n     * @method createRequest\n     * @returns instance of audio context\n     *\n     */\n    createRequest = function ( url, config, callback ) {\n        var xhr = new XMLHttpRequest();\n    \n        xhr.open( \"GET\", url, true );\n    \n        if ( config ) {\n            for ( var i in config ) {\n                xhr[ i ] = config[ i ];\n            }\n        }\n    \n        xhr.onreadystatechange = function ( e ) {\n            if ( this.readyState === 4 ) {\n                if ( this.status === 200 ) {\n                    try {\n                        if ( !config.responseType ) {\n                            this.responseJSON = JSON.parse( this.responseText );\n                        }\n    \n                        if ( isFunction( callback ) ) {\n                            callback( this );\n                        }\n    \n                    } catch ( error ) {\n                        throw new Error([\n                            error.name,\n                            error.message\n    \n                        ].join( \" : \" ));\n                    }\n                }\n            }\n        };\n    \n        xhr.send();\n    \n        return xhr;\n    },\n    \n    \n    /**\n     *\n     * MediaBox init constructor for singleton\n     * @method init\n     * @private\n     *\n     */\n    init = function () {\n        _instance = this;\n    },\n    \n    \n    /**\n     *\n     * MediaBox default volume setting\n     * @member _volume\n     * @private\n     *\n     */\n    _volume = 1,\n    \n    \n    /**\n     *\n     * MediaBox information for each channel.\n     * These are default channels you can use.\n     * <ul>\n     * <li>bgm - background music channel</li>\n     * <li>sfx - sound effects channel</li>\n     * <li>vid - video channel</li>\n     * </ul>\n     * @member _channels\n     * @private\n     *\n     */\n    _channels = {\n        bgm: {\n            volume: _volume,\n            _builtIn: true\n        },\n        sfx: {\n            volume: _volume,\n            _builtIn: true\n        },\n        vid: {\n            volume: _volume,\n            _builtIn: true\n        }\n    },\n    \n    /**\n     *\n     * MediaBox holds all audio tracks\n     * @member _audio\n     * @private\n     *\n     */\n    _audio = {},\n    \n    /**\n     *\n     * MediaBox holds all video tracks\n     * @member _video\n     * @private\n     *\n     */\n    _video = {},\n    \n    \n    /**\n     *\n     * The singleton instance for MediaBox\n     * @member _instance\n     * @private\n     *\n     */\n    _instance = null,\n    \n    \n    /**\n     *\n     * Master audio context instance\n     * @member _context\n     * @private\n     *\n     */\n    _context = createAudioContext(),\n    \n    \n    /******************************************************************************\n     * @Public API\n    *******************************************************************************/\n    \n    /**\n     *\n     * A complete management tool for html5 video and audio context\n     * @constructor MediaBox\n     * @requires Tween\n     * @memberof! <global>\n     *\n     */\n    MediaBox = function () {\n        return (_instance || init.apply( this, arguments ));\n    };\n    \n    \n    /**\n     *\n     * MediaBox types object\n     * @memberof MediaBox\n     * @member types\n     *\n     */\n    MediaBox.types = {\n        AUDIO: \"audio\",\n        VIDEO: \"video\"\n    };\n    \n    \n    /**\n     *\n     * MediaBox support object\n     * @memberof MediaBox\n     * @member support\n     *\n     */\n    MediaBox.support = {\n        audio: getAudioSupport(),\n        video: getVideoSupport()\n    };\n    \n    \n    /**\n     *\n     * MediaBox stopped state constant\n     * @memberof MediaBox\n     * @member STATE_STOPPED\n     *\n     */\n    MediaBox.STATE_STOPPED = 0;\n    \n    \n    /**\n     *\n     * MediaBox stopping state constant\n     * @memberof MediaBox\n     * @member STATE_STOPPING\n     *\n     */\n    MediaBox.STATE_STOPPING = 1;\n    \n    \n    /**\n     *\n     * MediaBox paused state constant\n     * @memberof MediaBox\n     * @member STATE_PAUSED\n     *\n     */\n    MediaBox.STATE_PAUSED = 2;\n    \n    \n    /**\n     *\n     * MediaBox playing state constant\n     * @memberof MediaBox\n     * @member STATE_PLAYING\n     *\n     */\n    MediaBox.STATE_PLAYING = 3;\n    \n    \n    /**\n     *\n     * MediaBox prototype\n     *\n     */\n    MediaBox.prototype = {\n        constructor: MediaBox,\n    \n        /**\n         *\n         * MediaBox check if media is loaded via ajax\n         * @memberof MediaBox\n         * @method isLoaded\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isLoaded: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.loaded === true);\n        },\n    \n        /**\n         *\n         * MediaBox check stopped/paused status for audio/video\n         * @memberof MediaBox\n         * @method isStopped\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isStopped: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_STOPPED);\n        },\n    \n        /**\n         *\n         * MediaBox check stopped/paused status for audio/video\n         * @memberof MediaBox\n         * @method isPaused\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isPaused: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_PAUSED);\n        },\n    \n        /**\n         *\n         * MediaBox check playing status for audio/video\n         * @memberof MediaBox\n         * @method isPlaying\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isPlaying: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_PLAYING || obj.state === MediaBox.STATE_STOPPING);\n        },\n    \n        /**\n         *\n         * MediaBox set volume for audio OR video\n         * @memberof MediaBox\n         * @method setVolume\n         * @param {string} id reference id for media\n         * @param {number} volume the volume to set to\n         *\n         */\n        setVolume: function ( id, volume ) {\n            var obj = this.getMedia( id );\n    \n            obj._node.volume = volume;\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox set volume for audio OR video\n         * @memberof MediaBox\n         * @method getVolume\n         * @param {string} id reference id for media\n         * @returns number\n         *\n         */\n        getVolume: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return obj._node.volume;\n        },\n    \n        /**\n         *\n         * MediaBox get an audio nodes property\n         * @memberof MediaBox\n         * @method getAudioProp\n         * @param {string} id Audio id\n         * @param {string} prop The property to access\n         *\n         */\n        getMediaProp: function ( id, prop ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                return obj._node[ prop ];\n            }\n        },\n    \n        /**\n         *\n         * MediaBox set an audio nodes property/attribute\n         * @memberof MediaBox\n         * @method setAudioProp\n         * @param {string} id Audio id\n         * @param {string} prop The property to set\n         * @param {mixed} value The value to assign\n         *\n         */\n        setMediaProp: function ( id, prop, value ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                obj._node[ prop ] = value;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get an audio nodes attribute\n         * @memberof MediaBox\n         * @method getAudioAttr\n         * @param {string} id Audio id\n         * @param {string} prop The property to access\n         *\n         */\n        getMediaAttr: function ( id, prop ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                return obj._node.getAttribute( prop );\n            }\n        },\n    \n        /**\n         *\n         * MediaBox set an audio nodes attribute\n         * @memberof MediaBox\n         * @method setAudioAttr\n         * @param {string} id Audio id\n         * @param {string} prop The property to set\n         * @param {mixed} value The value to assign\n         *\n         */\n        setMediaAttr: function ( id, prop, value ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                obj._node.setAttribute( prop, value );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add an audio nodes event listener\n         * @memberof MediaBox\n         * @method addAudioEvent\n         * @param {string} id Audio id to add event for\n         * @param {string} event Event to add\n         * @param {function} callback The event handler to call\n         *\n         */\n        addMediaEvent: function ( id, event, callback ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                // Capture timeupdate to run at 60fps instead\n                if ( event === \"timeupdate\" ) {\n                    obj._events.timeupdate = callback;\n    \n                    return _instance;\n                }\n    \n                obj._events[ event ] = function () {\n                    if ( isFunction( callback ) ) {\n                        callback.apply( this, arguments );\n                    }\n                };\n    \n                obj._node.addEventListener( event, obj._events[ event ], false );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox remove an audio nodes event listener\n         * @memberof MediaBox\n         * @method removeAudioEvent\n         * @param {string} id Audio id to remove event for\n         * @param {string} event Event to remove\n         *\n         */\n        removeMediaEvent: function ( id, event ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                // Capture timeupdate to run at 60fps instead\n                if ( event === \"timeupdate\" ) {\n                    clearPlaybackUpdate( obj );\n                }\n    \n                obj._node.removeEventListener( event, obj._events[ event ], false );\n    \n                obj._events[ event ] = null;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox play audio node by id\n         * @memberof MediaBox\n         * @method playAudio\n         * @param {string} id reference id for media\n         *\n         */\n        playMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && (this.isStopped( id ) || this.isPaused( id )) ) {\n                obj._node.volume = _channels[ obj.channel ].volume;\n                obj._node.play();\n                obj.state = MediaBox.STATE_PLAYING;\n    \n                if ( !obj._updateId && isFunction( obj._events.timeupdate ) ) {\n                    obj._updateFn = function () {\n                        obj._events.timeupdate.call( obj._node, null );\n                        \n                        obj._updateId = raf( obj._updateFn );\n                    };\n                    \n                    obj._updateId = raf( obj._updateFn );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox stop audio node by id with a paused state\n         * @memberof MediaBox\n         * @method pauseAudio\n         * @param {string} id reference id for media\n         *\n         */\n        pauseMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && this.isPlaying( id ) ) {\n                obj._node.pause();\n                obj.state = MediaBox.STATE_PAUSED;\n    \n                clearPlaybackUpdate( obj );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox stop audio node by id with a stopped state\n         * @memberof MediaBox\n         * @method stopAudio\n         * @param {string} id reference id for media\n         *\n         */\n        stopMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && this.isPlaying( id ) ) {\n                obj._node.pause();\n                obj.state = MediaBox.STATE_STOPPED;\n    \n                clearPlaybackUpdate( obj );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get audio object by id\n         * @memberof getMedia\n         * @method getAudio\n         * @param {string} id reference id for media\n         * @returns object\n         *\n         */\n        getMedia: function ( id ) {\n            return _video[ id ] ? _video[ id ] : _audio[ id ];\n        },\n    \n        /**\n         *\n         * MediaBox get all audio objects\n         * @memberof MediaBox\n         * @method getAudios\n         * @returns object\n         *\n         */\n        getAudios: function () {\n            return _audio;\n        },\n    \n        /**\n         *\n         * MediaBox get all video objects\n         * @memberof MediaBox\n         * @method getVideos\n         * @returns object\n         *\n         */\n        getVideos: function () {\n            return _video;\n        },\n    \n        /**\n         *\n         * MediaBox kill a media object abstractly\n         * @memberof MediaBox\n         * @method destroyMedia\n         * @param {string} id reference id for media\n         *\n         */\n        destroyMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            this.stopMedia( id );\n    \n            if ( obj.type === MediaBox.types.AUDIO ) {\n                delete _audio[ id ];\n    \n            } else {\n                delete _video[ id ];\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox load media config JSON formatted in a json bundle\n         * @memberof MediaBox\n         * @method loadMedia\n         * @param {string} url The url to the JSON config\n         * @param {function} callback The function to fire when done loading\n         *\n         */\n        loadMedia: function ( url, callback ) {\n            var self = this;\n    \n            createRequest( url, null, function ( xhr ) {\n                self.addMedia( xhr.responseJSON );\n    \n                if ( isFunction( callback ) ) {\n                    callback();\n                }\n            });\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add media from bundle json\n         * @memberof MediaBox\n         * @method addMedia\n         * @param {object} bundle Formatted media bundle JSON\n         *\n         */\n        addMedia: function ( bundle ) {\n            for ( var m in bundle ) {\n                for ( var i = bundle[ m ].length; i--; ) {\n                    // this.addVideo() / this.addAudio()\n                    if ( isFunction( this[ m ] ) ) {\n                        this[ m ]( bundle[ m ][ i ] );\n                    }\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add a video element\n         * @memberof MediaBox\n         * @method addVideo\n         * @param {object} obj Formatted media bundle\n         *\n         */\n        addVideo: function ( obj ) {\n            var id = obj.id,\n                src = obj.src,\n                props = {\n                    element: obj.element,\n                    channel: obj.channel\n                };\n    \n            // Disallow overrides / Require id and src props\n            if ( _video[ id ] || !id || !src ) {\n                return _instance;\n            }\n    \n            // Allow new channels to exist\n            if ( !_channels[ props.channel ] ) {\n                _channels[ props.channel ] = {\n                    volume: _volume\n                };\n            }\n    \n            // Create video object\n            _video[ id ] = {};\n            _video[ id ].type = MediaBox.types.VIDEO;\n            _video[ id ].state = MediaBox.STATE_STOPPED;\n            _video[ id ].loaded = true;\n            _video[ id ].channel = props.channel;\n            _video[ id ].sources = src;\n            _video[ id ]._source = getCanPlaySource( MediaBox.types.VIDEO, src );\n            _video[ id ]._events = {};\n            _video[ id ]._updateId = null;\n            _video[ id ]._updateFn = null;\n            _video[ id ]._node = (props.element || document.createElement( \"video\" ));\n            _video[ id ]._nodeSource = document.createElement( \"source\" );\n            _video[ id ]._nodeSource.src = _video[ id ]._source.source;\n            _video[ id ]._nodeSource.type = getMimeForMedia( MediaBox.types.VIDEO, _video[ id ]._source.source );\n            _video[ id ]._node.appendChild( _video[ id ]._nodeSource );\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add an audio context\n         * @memberof MediaBox\n         * @method addAudio\n         * @param {object} obj Formatted media bundle\n         *\n         */\n        addAudio: function ( obj ) {\n            var id = obj.id,\n                src = obj.src,\n                props = {\n                    channel: obj.channel,\n                    CORS: (obj.CORS || false)\n                };\n    \n            // Disallow overrides / Require id and src props\n            if ( _audio[ id ] || !id || !src ) {\n                return _instance;\n            }\n            \n            // Allow new channels to exist\n            if ( !_channels[ props.channel ] ) {\n                _channels[ props.channel ] = {\n                    volume: _volume\n                };\n            }\n    \n            // Create audio object\n            _audio[ id ] = {};\n            _audio[ id ].type = MediaBox.types.AUDIO;\n            _audio[ id ].state = MediaBox.STATE_STOPPED;\n            _audio[ id ].loaded = true;\n            _audio[ id ].channel = props.channel;\n            _audio[ id ].sources = src;\n            _audio[ id ]._source = getCanPlaySource( MediaBox.types.AUDIO, src );\n            _audio[ id ]._events = {};\n            _audio[ id ]._updateId = null;\n            _audio[ id ]._updateFn = null;\n            _audio[ id ]._node = new Audio( _audio[ id ]._source.source );\n    \n            // Get the media as a buffer\n            if ( isFunction( obj.onloaded ) && !props.CORS ) {\n                createRequest( _audio[ id ]._source.source, {responseType: \"arraybuffer\"}, function ( xhr ) {\n                    _context.decodeAudioData( xhr.response, obj.onloaded );\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade in audio/video volume\n         * @memberof MediaBox\n         * @method fadeMediaIn\n         * @param {string} id string reference id for audio\n         * @param {number} duration tween time in ms\n         * @param {function} easing optional easing to use\n         *\n         */\n        fadeMediaIn: function ( id, duration, easing ) {\n            var obj = this.getMedia( id ),\n                self = this,\n                volume;\n    \n            if ( obj && obj.state === MediaBox.STATE_PLAYING ) {\n                return _instance;\n            }\n    \n            if ( obj ) {\n                volume = _channels[ obj.channel ].volume;\n    \n                // Only reset volume and play if object is stopped\n                // Object state could be STATE_STOPPING at this point\n                if ( obj.state === MediaBox.STATE_STOPPED ) {\n                    this.playMedia( id );\n                    this.setVolume( id, 0 );\n    \n                } else if ( obj.state === MediaBox.STATE_STOPPING ) {\n                    obj.state = MediaBox.STATE_PLAYING;\n                }\n    \n                new Tween({\n                    to: volume,\n                    from: 0,\n                    ease: ( isFunction( easing ) ) ? easing : Easing.linear,\n                    duration: (duration || 1000),\n                    update: function ( v ) {\n                        self.setVolume( id, (v > volume) ? volume : v );\n                    },\n                    complete: function () {\n                        self.setVolume( id, volume );\n                    }\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade out audio/video volume\n         * @memberof MediaBox\n         * @method fadeMediaOut\n         * @param {string} id string reference id for audio\n         * @param {number} duration tween time in ms\n         * @param {function} easing optional easing to use\n         *\n         */\n        fadeMediaOut: function ( id, duration, easing ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && obj.state === MediaBox.STATE_STOPPING ) {\n                return _instance;\n            }\n    \n            var self = this,\n                handler = function ( v ) {\n                    // Check audio state on fadeout in case it is started again\n                    // before the duration of the fadeout is complete.\n                    if ( obj.state === MediaBox.STATE_STOPPING ) {\n                        self.setVolume( id, (v < 0) ? 0 : v );\n    \n                        if ( self.getVolume( id ) === 0 ) {\n                            self.stopMedia( id );\n                        }\n                    }\n                };\n    \n            if ( obj ) {\n                obj.state = MediaBox.STATE_STOPPING;\n    \n                new Tween({\n                    to: 0,\n                    from: self.getVolume( id ),\n                    ease: ( isFunction( easing ) ) ? easing : Easing.linear,\n                    duration: (duration || 1000),\n                    update: handler,\n                    complete: handler\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox pause all playing audio for a given channel id\n         * @memberof MediaBox\n         * @method stopChannel\n         * @param {string} channel string reference id for channel\n         *\n         */\n        stopChannel: function ( channel ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.pauseMedia( id );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.pauseMedia( id );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox resume all playing audio for a given channel id\n         * @memberof MediaBox\n         * @method playChannel\n         * @param {string} channel string reference id for channel\n         *\n         */\n        playChannel: function ( channel ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PAUSED ) {\n                    this.playMedia( id );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PAUSED ) {\n                    this.playMedia( id );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade out all playing audio/video for a given channel id\n         * @memberof MediaBox\n         * @method fadeChannelOut\n         * @param {string} channel string reference id for channel\n         * @param {number} duration tween time in ms\n         *\n         */\n        fadeChannelOut: function ( channel, duration ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade in all playing audio/video for a given channel id\n         * @memberof MediaBox\n         * @method fadeChannelIn\n         * @param {string} channel string reference id for channel\n         * @param {number} duration tween time in ms\n         *\n         */\n        fadeChannelIn: function ( channel, duration ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_STOPPED ) {\n                    this.fadeMediaIn( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_STOPPED ) {\n                    this.fadeMediaIn( id, duration );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox crossfade volume between multiple channels\n         * @memberof MediaBox\n         * @method crossFadeChannel\n         * @param {string} channel string reference id for channel\n         * @param {string} objId string reference id for object to fade in\n         * @param {number} duration tween time in ms\n         *\n         */\n        crossFadeChannel: function ( channel, objId, duration ) {\n            var id;\n            \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            return this.fadeMediaIn( objId, duration );\n        },\n    \n        /**\n         *\n         * MediaBox set the property for a channel\n         * @memberof MediaBox\n         * @method setChannelProp\n         * @param {string} id string id reference to channel\n         * @param {string} key string prop key\n         * @param {string} val prop val\n         *\n         */\n        setChannelProp: function ( id, key, val ) {\n            if ( _channels[ id ] ) {\n                _channels[ id ][ key ] = val;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get the property for a channel\n         * @memberof MediaBox\n         * @method getChannelProp\n         * @param {string} id string id reference to channel\n         * @param {string} key string prop key\n         *\n         */\n        getChannelProp: function ( id, key ) {\n            if ( _channels[ id ] ) {\n                return _channels[ id ][ key ];\n            }\n        },\n        \n        \n        /**\n         *\n         * MediaBox get the channels config\n         * @memberof MediaBox\n         * @method _channels\n         *\n         */\n        getChannels: function () {\n            return _channels;\n        }\n    };\n    \n    \n    return MediaBox;\n\n\n});","import * as core from \"../core\";\nimport mediabox from \"./mediabox\";\n\n\n/**\n *\n * @public\n * @class AutoplayHandler\n * @classdesc Handle starting / stopping autoplay videos.\n * @param {Hobo} $node The element to work with\n * @param {string} id The MediaBox ID to work with\n * @memberof video\n *\n */\nclass AutoplayHandler {\n    constructor ( $node, id ) {\n        this.$node = $node;\n        this.id = id;\n\n        this.bindEvents();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof AutoplayHandler\n     * @description Bind the scroll event for toggling playback.\n     *\n     */\n    bindEvents () {\n        this._onScroll = this.onScroll.bind( this );\n\n        if ( mediabox.getMedia( this.id ) ) {\n            this._onScroll();\n        }\n\n        core.emitter.on( \"app--project-scroll\", this._onScroll );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onScroll\n     * @memberof AutoplayHandler\n     * @description Scroll handler for toggling video playback.\n     *\n     */\n    onScroll () {\n        if ( core.util.isElementInViewport( this.$node[ 0 ] ) ) {\n            if ( !mediabox.isPlaying( this.id ) ) {\n                mediabox.playMedia( this.id );\n            }\n\n        } else if ( mediabox.isPlaying( this.id ) ) {\n            mediabox.stopMedia( this.id );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method destroy\n     * @memberof AutoplayHandler\n     * @description Remove the scroll handler.\n     *\n     */\n    destroy () {\n        core.emitter.off( \"app--project-scroll\", this._onScroll );\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default AutoplayHandler;\n","import * as core from \"../core\";\nimport IndexFull from \"./IndexFull\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace listing\n * @description A nice description of what this module does...\n *\n */\nconst listing = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof listing\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--root\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.log( \"listing initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof listing\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof listing\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        core.emitter.fire( \"app--offcanvas\" );\n\n        core.dom.html.removeClass( core.config.offcanvasClasses ).addClass( \"is-offcanvas is-offcanvas--index\" );\n\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new IndexFull( $_jsElement, data );\n\n        } else {\n            instance.cycleAnimation();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof listing\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof listing\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-listing\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default listing;","import * as core from \"../core\";\nimport $ from \"properjs-hobo\";\nimport router from \"../router\";\nimport gallery from \"../gallery\";\nimport overlay from \"../overlay\";\nimport template from \"properjs-template\";\nimport Controller from \"properjs-controller\";\nimport bar from \"../bar\";\nimport Hammer from \"hammerjs\";\n\n\nlet instance = null;\nconst animator = new Controller();\nconst _gridTitleTpl = `<div class=\"listing__title js-listing-title\" data-title=\"{title}\"><h3 class=\"listing__title__text h3\">{text}</h3></div>`;\nconst _gridWrapTpl = `<div class=\"listing__grid js-listing-project grid grid--index\"></div>`;\nconst _gridItemTpl = `\n<div class=\"listing__tile grid__item__small js-listing-tile\">\n    <div class=\"grid__photo grid__photo--small animate animate--fade js-animate\">\n        <figure class=\"figure\">\n            <img class=\"figure__image image js-lazy-image\" data-img-src=\"{assetUrl}\" data-variants=\"{systemDataVariants}\" data-original-size=\"{originalSize}\" />\n        </figure>\n    </div>\n</div>\n`;\n\n// @vimeoVideoUrl\nconst _gridVideoTpl = `\n<div class=\"listing__tile grid__item__small js-listing-tile\">\n    <div class=\"grid__photo grid__photo--small animate animate--fade js-animate\">\n        <figure class=\"figure\">\n            <img class=\"figure__image image image--wide js-vimeo-image\" />\n            <span class=\"icon icon--svg icon--playback _video__playback\">\n                <svg class=\"icon__svg\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0\" y=\"0\" viewBox=\"-188 216.1 261.3 209.9\" xml:space=\"preserve\"><polygon points=\"35.8 296.4 -86.3 216.1 -86.3 426 73.3 321.1 \"/><rect x=\"-188\" y=\"216.1\" class=\"st0\" width=\"59.2\" height=\"209.9\"/></svg>\n            </span>\n        </figure>\n    </div>\n</div>\n`;\n\n\n/**\n *\n * @public\n * @class IndexFull\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index as a Singleton(ish).\n * @memberof indexes\n *\n */\nclass IndexFull {\n    constructor ( $node, data ) {\n        if ( !instance ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof indexes.IndexFull\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.data = data;\n        this.$node = $node;\n        this.$tile = null;\n        this.$image = null;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$anims = null;\n        this.vimeos = {};\n\n        this.bindEvents();\n        this.loadIndex();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof indexes.IndexFull\n     * @description Start the animation cycle for the listing.\n     *\n     */\n    cycleAnimation () {\n        // Fresh query for js- animatable elements each time\n        this.$anims = this.$node.find( \".js-animate\" );\n\n        animator.stop();\n        animator.go( this.updateAnimate.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updateAnimate\n     * @memberof indexes.IndexFull\n     * @description Update active photos for index.\n     *\n     */\n    updateAnimate () {\n        let $anim = null;\n        let i = this.$anims.length;\n\n        for ( i; i--; ) {\n            $anim = this.$anims.eq( i );\n\n            if ( core.util.isElementInViewport( $anim[ 0 ] ) ) {\n                $anim.addClass( \"is-active\" );\n\n            } else {\n                $anim.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof indexes.IndexFull\n     * @description Bind instance events.\n     *\n     */\n    bindEvents () {\n        this.$node.on( \"click\", \".js-listing-tile\", ( e ) => {\n            if ( !gallery.menu.isActive() ) {\n                const $target = $( e.target );\n                const $tile = $target.is( \".js-listing-tile\" ) ? $target : $target.closest( \".js-listing-tile\" );\n\n                this.bindGallery( $tile );\n            }\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindGallery\n     * @param {Hobo} $elem The tile image that was clicked\n     * @memberof indexes.IndexFull\n     * @description Bind active gallery view.\n     *\n     */\n    bindGallery ( $elem ) {\n        const data = $elem.data();\n\n        this.$tile = $elem;\n        this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n        // @vimeoVideoUrl\n        if ( data.vimeoId ) {\n            gallery.setVideo( this.vimeos[ data.vimeoId ] );\n\n        } else {\n            gallery.setImage( this.$image );\n        }\n\n        this._onKeyDown = this.onKeyDown.bind( this );\n        this._onGalleryImage = this.onGalleryImage.bind( this );\n        this._onGalleryBack = this.onGalleryBack.bind( this );\n\n        core.emitter.on( \"app--gallery-image\", this._onGalleryImage );\n        core.emitter.on( \"app--gallery-background\", this._onGalleryBack );\n\n        core.dom.doc.on( \"keydown\", this._onKeyDown );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextTile\n     * @param {Hobo} $tile The tile element\n     * @memberof indexes.IndexFull\n     * @description Transition to the next tile in a project.\n     *\n     */\n    nextTile ( $tile ) {\n        const data = $tile.data();\n\n        this.$tile = $tile;\n        this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n        // @vimeoVideoUrl\n        if ( data.vimeoId ) {\n            gallery.setVideo( this.vimeos[ data.vimeoId ] );\n\n        } else {\n            gallery.setImage( this.$image );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method unbindGallery\n     * @memberof indexes.IndexFull\n     * @description Un-bind active gallery view.\n     *\n     */\n    unbindGallery () {\n        this.$tile = null;\n        this.$image = null;\n\n        overlay.close();\n        gallery.close();\n\n        core.dom.doc.off( \"keydown\", this._onKeyDown );\n        core.emitter.off( \"app--gallery-image\", this._onGalleryImage );\n        core.emitter.off( \"app--gallery-background\", this._onGalleryBack );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextProject\n     * @param {Hobo} $project The project grid\n     * @param {Hobo} $tile The tile image to load in gallery\n     * @memberof indexes.IndexFull\n     * @description Transition to a tile in a new project scope.\n     *\n     */\n    nextProject ( $project, $tile ) {\n        if ( $project.length ) {\n            // Tile?\n            this.$tile = $tile;\n\n            // Image?\n            this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n            gallery.setImage( this.$image );\n\n            overlay.close();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextTitle\n     * @param {Hobo} $title The title element\n     * @param {string} text The optional text for the title to display\n     * @memberof indexes.IndexFull\n     * @description Transition to the title of the next project.\n     *\n     */\n    nextTitle ( $title, text ) {\n        gallery.empty();\n\n        if ( $title.length ) {\n            overlay.setTitle( (text || $title.data( \"title\" )) );\n\n            overlay.open();\n\n            core.dom.gallery.element.addClass( \"is-title\" );\n\n            this.$tile = $title;\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadIndex\n     * @memberof indexes.IndexFull\n     * @description Load the full Index JSON to build the UI.\n     *\n     */\n    loadIndex () {\n        bar.load();\n\n        router.loadFullIndex( this.onLoadFullIndex.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadVideo\n     * @param {string} url The vimeo embed url\n     * @param {Hobo} $node The grid node in the index\n     * @memberof indexes.IndexFull\n     * @description Load the vimeo api data for a video injection.\n     *\n     */\n    loadVideo ( url, $node ) {\n        const vimeoId = url.split( \"/\" ).pop();\n\n        core.api.vimeo( vimeoId ).then(( vData ) => {\n            this.vimeos[ vimeoId ] = vData;\n\n            $node.data( \"vimeoId\", vimeoId ).find( \".js-vimeo-image\" )\n                .removeAttr( \"data-img-src\" )\n                .removeAttr( \"data-variants\" )\n                .removeAttr( \"data-original-size\" )\n                .attr( \"src\", vData.pictures.sizes[ vData.pictures.sizes.length - 1 ].link );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @method onLoadFullIndex\n     * @param {object} json The collection json\n     * @memberof indexes.IndexFull\n     * @description Receive full collections data for an index.\n     *\n     */\n    onLoadFullIndex ( json ) {\n        json.collection.collections.forEach(( collection ) => {\n            const $title = $( template( _gridTitleTpl.replace( /\\n/g, \"\" ), { text: collection.title, title: (collection.description || collection.title) } ) );\n            const $grid = $( _gridWrapTpl.replace( /\\n/g, \"\" ) );\n            let $node = null;\n\n            collection.items.forEach(( item ) => {\n\n                if ( item.recordTypeLabel === \"text\" ) {\n                    // Ignore text posts\n                } else if ( item.customContent.vimeoVideoUrl ) {\n                    // @vimeoVideoUrl\n                    $node = $( _gridVideoTpl );\n\n                    $grid.append( $node );\n\n                    this.loadVideo( item.customContent.vimeoVideoUrl, $node );\n\n                } else {\n                    $grid.append( template( _gridItemTpl.replace( /\\n/g, \"\" ), item ) );\n\n                    if ( item.customContent && item.customContent.diptychImage && item.customContent.diptychImage.systemDataVariants ) {\n                        $grid.append( template( _gridItemTpl.replace( /\\n/g, \"\" ), item.customContent.diptychImage ) );\n                    }\n                }\n            });\n\n            this.$node.append( $title );\n            this.$node.append( $grid );\n        });\n\n        // Node must be in DOM for image size to work\n        this.$target.append( this.$node );\n\n        core.images.handleImages( this.$node.find( \".js-lazy-image\" ), () => {\n            bar.stop();\n\n            this.cycleAnimation();\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onGalleryImage\n     * @param {string} direction The direction to move\n     * @memberof indexes.IndexFull\n     * @description Trigger gallery arrow key right.\n     *\n     */\n    onGalleryImage ( direction ) {\n        if ( direction === Hammer.DIRECTION_LEFT ) {\n            this.onKeyDown({\n                keyCode: 37\n            });\n\n        } else {\n            this.onKeyDown({\n                keyCode: 39\n            });\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onGalleryBack\n     * @memberof indexes.IndexFull\n     * @description Trigger gallery unbinding.\n     *\n     */\n    onGalleryBack () {\n        gallery.empty();\n\n        this.unbindGallery();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onKeyDown\n     * @param {object} e The Event object\n     * @memberof indexes.IndexFull\n     * @description Handle key events when gallery is open.\n     * @returns {boolean}\n     *\n     */\n    onKeyDown ( e ) {\n        let text = null;\n        let $title = null;\n        let $parent = null;\n        let $project = null;\n        const $next = this.$tile.next();\n        const $prev = this.$tile.prev();\n\n        // Escape key\n        if ( e.keyCode === 27 ) {\n            this.unbindGallery();\n            return false;\n        }\n\n        // Currently on a Title screen\n        // Title screen is using overlay module\n        if ( this.$tile.is( \".js-listing-title\" ) ) {\n            // Arrow right\n            if ( e.keyCode === 39 ) {\n                $project = this.$tile.next();\n\n                this.nextProject( $project, $project.find( \".js-listing-tile\" ).first() );\n\n            // Arrow left\n            } else if ( e.keyCode === 37 ) {\n                $project = this.$tile.prev();\n\n                if ( $project.length ) {\n                    this.nextProject( $project, $project.find( \".js-listing-tile\" ).last() );\n                }\n            }\n\n            core.dom.gallery.element.removeClass( \"is-title\" );\n\n        // Arrow right, has next tile\n        } else if ( e.keyCode === 39 && $next.length ) {\n            this.nextTile( $next );\n\n        // Arrow right, has no next tile\n        } else if ( e.keyCode === 39 && !$next.length ) {\n            this.nextTitle( this.$tile.parent().next() );\n\n        // Arrow left, has prev tile\n        } else if ( e.keyCode === 37 && $prev.length ) {\n            this.nextTile( $prev );\n\n        // Arrow left, has not prev tile\n        } else if ( e.keyCode === 37 && !$prev.length ) {\n            text = null;\n            $parent = this.$tile.parent();\n            $title = $parent.prev().prev().prev();\n\n            // Previous project has a title\n            if ( $title.length ) {\n                text = $title.data( \"title\" );\n            }\n\n            $title = $parent.prev();\n\n            this.nextTitle( $title, text );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof indexes.IndexFull\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n        animator.stop();\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default IndexFull;\n","/**\n *\n * As bare bones a template render as it comes\n * @method template\n * @param {string} html HTML to render from\n * @param {object} data Data to render with\n * @returns {string}\n * @memberof! <global>\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.template = factory();\n    }\n    \n})(function () {\n\n    var template = function ( html, data ) {\n        // Allow varying bracket styles, {{foo}} or {foo}\n        return html.replace( /\\{{1,2}([^{}]*)\\}{1,2}/g, function ( a, b ) {\n            // Replace spaces, allowing { foo } style\n            var r = data[ b.replace( /\\s/g, \"\" ) ];\n    \n            // Allow string or numeral replacement\n            // This would be interesting also, return (\"\" + r);\n            // That would give you [Object object] for values that are iterable\n            return ( typeof r === \"string\" || typeof r === \"number\" ) ? r : a;\n        });\n    };\n\n    return template;\n\n});","import * as core from \"../core\";\nimport Project from \"./Project\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace projects\n * @description A nice description of what this module does...\n *\n */\nconst projects = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof projects\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        if ( !core.dom.project.element.is( \".is-active\" ) ) {\n            core.dom.project.element.detach();\n        }\n\n        core.log( \"projects initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof projects\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof projects\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        const data = $_jsElement.data();\n\n        instance = new Project( $_jsElement, data );\n\n        core.emitter.on( \"app--root\", killProject );\n        core.emitter.on( \"app--project-ended\", killProject );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof projects\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {\n        this.teardown();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method teardown\n     * @memberof projects\n     * @description Method performs cleanup after this module. Remmoves events, null vars etc...\n     *\n     */\n    teardown () {\n        $_jsElement = null;\n\n        if ( instance ) {\n            instance.teardown();\n            instance = null;\n        }\n\n        core.emitter.off( \"app--root\", killProject );\n        core.emitter.off( \"app--project-ended\", killProject );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof projects\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-project\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n\n/**\n *\n * @private\n * @method killProject\n * @memberof projects\n * @description Destroy a project instance.\n *\n */\nconst killProject = function () {\n    if ( instance ) {\n        instance.teardown();\n        instance = null;\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default projects;","import * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @namespace intro\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst intro = {\n    /**\n     *\n     * @public\n     * @method teardown\n     * @memberof intro\n     * @description Method removes loadin node from DOM.\n     *\n     */\n    teardown () {\n        if ( !core.dom.intro.length ) {\n            return;\n        }\n\n        setTimeout( () => {\n            core.dom.intro.removeClass( \"is-active\" );\n\n            setTimeout( () => core.dom.intro.remove(), core.util.getTransitionDuration( core.dom.intro[ 0 ] ) );\n\n        }, 1000 );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default intro;","import $ from \"properjs-hobo\";\nimport * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @module main\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst main = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof main\n     * @description Initialize the main element.\n     *\n     */\n    init () {\n        this.$mainPanels = core.dom.main.find( \".js-main-panel\" );\n        this.mainDuration = core.util.getTransitionDuration( this.$mainPanels[ 0 ] );\n\n        this.bindEvents();\n    },\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof App\n     * @description Bind top-level app events.\n     *\n     */\n    bindEvents () {\n        core.dom.header.on( \"click\", \".js-controller\", this.onController.bind( this ) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onController\n     * @param {object} e The Event object\n     * @memberof App\n     * @description Handle controller links for main app.\n     *\n     */\n    onController ( e ) {\n        e.preventDefault();\n\n        const $target = $( e.target );\n        const $controller = $target.is( \".js-controller\" ) ? $target : $target.closest( \".js-controller\" );\n        const data = $controller.data();\n        const $panel = core.dom.main.find( `.js-main--${data.target}` );\n\n        this.$mainPanels.removeClass( \"is-active\" );\n        $panel.addClass( \"is-active\" );\n\n        core.dom.main[ 0 ].id = `is-main--${data.target}`;\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default main;","module.exports = __webpack_public_path__ + \"../styles/screen.css\";"],"sourceRoot":""}