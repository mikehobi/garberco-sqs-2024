{"version":3,"sources":["webpack:///webpack/bootstrap d0c9b328dd2f252d033c","webpack:///./source/js/core/index.js","webpack:///./~/properjs-hobo/lib/Hobo.js","webpack:///./~/properjs-hobo/dist/hobo.build.js?c548","webpack:///./~/properjs-hobo/lib/utils.js","webpack:///./~/properjs-controller/Controller.js","webpack:///./~/properjs-hobo/~/properjs-matchelement/matchElement.js","webpack:///./source/js/overlay.js","webpack:///./source/js/core/log.js","webpack:///./source/js/core/util.js","webpack:///./~/properjs-easing/Easing.js","webpack:///./source/js/core/dom.js","webpack:///./~/properjs-tween/Tween.js","webpack:///./source/js/gallery.js","webpack:///./source/js/router.js","webpack:///./source/js/bar.js","webpack:///./source/js/core/config.js","webpack:///./source/js/core/emitter.js","webpack:///./source/js/projects/Project.js","webpack:///./~/hammerjs/hammer.js","webpack:///./source/js/Menu.js","webpack:///./source/js/core/Store.js","webpack:///./source/js/core/detect.js","webpack:///./source/js/core/env.js","webpack:///./source/js/core/resizer.js","webpack:///./source/js/video/VideoVimeo.js","webpack:///./source/js/video/mediabox.js","webpack:///./~/paramalama/paramalama.js","webpack:///./~/properjs-debounce/debounce.js","webpack:///./source/js/intro.js","webpack:///./source/js/main.js","webpack:///./source/sass/screen.scss","webpack:///./source/js/about/About.js","webpack:///./source/js/about/index.js","webpack:///./source/js/core/Analytics.js","webpack:///./source/js/core/ImageController.js","webpack:///./source/js/core/api.js","webpack:///./source/js/core/cache.js","webpack:///./source/js/core/images.js","webpack:///./source/js/core/resizes.js","webpack:///./source/js/indexes/IndexFull.js","webpack:///./source/js/indexes/IndexRoot.js","webpack:///./source/js/indexes/index.js","webpack:///./source/js/indexes/listing.js","webpack:///./source/js/projects/index.js","webpack:///./source/js/video/AutoplayHandler.js","webpack:///./~/properjs-hobo/dist/hobo.build.js","webpack:///./~/properjs-hobo/lib/core/addClass.js","webpack:///./~/properjs-hobo/lib/core/ajax.js","webpack:///./~/properjs-hobo/lib/core/data.js","webpack:///./~/properjs-hobo/lib/core/find.js","webpack:///./~/properjs-hobo/lib/core/off.js","webpack:///./~/properjs-hobo/lib/core/on.js","webpack:///./~/properjs-hobo/lib/core/removeClass.js","webpack:///./~/properjs-hobo/lib/extended/append.js","webpack:///./~/properjs-hobo/lib/extended/attr.js","webpack:///./~/properjs-hobo/lib/extended/closest.js","webpack:///./~/properjs-hobo/lib/extended/detach.js","webpack:///./~/properjs-hobo/lib/extended/eq.js","webpack:///./~/properjs-hobo/lib/extended/filter.js","webpack:///./~/properjs-hobo/lib/extended/first.js","webpack:///./~/properjs-hobo/lib/extended/is.js","webpack:///./~/properjs-hobo/lib/extended/last.js","webpack:///./~/properjs-hobo/lib/extended/next.js","webpack:///./~/properjs-hobo/lib/extended/not.js","webpack:///./~/properjs-hobo/lib/extended/parent.js","webpack:///./~/properjs-hobo/lib/extended/prev.js","webpack:///./~/properjs-hobo/lib/extended/remove.js","webpack:///./~/properjs-hobo/lib/extended/removeAttr.js","webpack:///./~/properjs-hobo/lib/extended/trigger.js","webpack:///./~/properjs-imageloader/ImageLoader.js","webpack:///./~/properjs-matchelement/matchElement.js","webpack:///./~/properjs-matchroute/MatchRoute.js","webpack:///./~/properjs-mediabox/MediaBox.js","webpack:///./~/properjs-pagecontroller/PageController.js","webpack:///./~/properjs-pushstate/PushState.js","webpack:///./~/properjs-resizecontroller/ResizeController.js","webpack:///./~/properjs-router/Router.js","webpack:///./~/properjs-template/template.js","webpack:///./~/properjs-throttle/throttle.js","webpack:///(webpack)/buildin/global.js","webpack:///./source/js/app.js"],"names":["util","detect","dom","images","config","env","log","api","cache","Analytics","emitter","resizer","resizes","core","isActive","isSuppressed","overlay","init","element","is","detach","open","html","addClass","body","append","setTimeout","close","removeClass","empty","elementTransitionDuration","elementTitle","innerHTML","suppress","bool","setTitle","text","isDev","args","console","px","str","translate3d","el","x","y","z","style","prefixed","isElementLoadable","bounds","getBoundingClientRect","top","window","innerHeight","isElementInViewport","bottom","getClosestValue","arr","closestTo","Math","max","apply","i","length","getElementsInView","$nodes","$ret","push","updateImages","imageLoaderAttr","removeAttr","loadImages","noop","handler","useVariant","useWidth","rQuery","map","vnt","parseInt","$img","data","dims","vars","width","variant","source","page","find","lazyImageSelector","eq","clientWidth","parentNode","innerWidth","imgSrc","replace","originalSize","getOriginalDims","height","variants","split","setAttribute","lazyImageAttr","elements","property","executor","getTransitionDuration","ret","duration","isSeconds","multiplyBy","getComputedStyle","String","indexOf","parseFloat","original","getPageKey","location","pathname","appRoot","homepageKey","search","extendObject","target","arrow","Array","isArray","hasOwnProperty","getDefaultHammerOptions","isDevice","cssProps","contentZoomingString","tapHighlightColorString","touchCalloutString","touchSelectString","userDragString","userSelectString","getTransformValues","transform","values","$_jsOverlay","$_jsProject","$_jsGallery","doc","document","documentElement","header","nav","intro","gallery","elementNode","project","elementPane","root","main","tween","menu","$image","Image","className","videoData","$videoWrap","createElement","$video","bindSwipe","bindClick","_onTap","onTap","bind","_onSwipe","onSwipe","_onPanmove","onPanmove","_onPanend","onPanend","tap","on","swipe","onClick","e","fire","preventDefault","deltaX","isLeft","to","from","abs","ease","easeInOutCubic","update","complete","direction","DIRECTION_LEFT","DIRECTION_RIGHT","handleClick","rect","clientX","left","src","setImage","load","attr","stop","setVideo","vData","files","logVideoFiles","file","getVideoFile","paddingBottom","pictures","sizes","link","play","router","state","navData","pageData","pageDuration","tweenScroll","$rootPanel","prepPage","bindEmptyHashLinks","initPageController","route","path","controller","getRouter","trigger","cb","routeSilently","redirect","href","origin","setConfig","setModules","changePageOut","changeContent","changePageIn","initPage","samePage","type","appTree","forEach","indexItem","items","collectionItem","collection","id","fullUrl","loadRootIndex","offcanvasClasses","isPop","isConfig","addEventListener","handlePopstate","scrollTop","$tile","match","rootUrlId","format","dataType","then","response","parseDoc","pageHtml","loadFullIndex","$doc","$page","_instance","$_jsBar","$_jsInner","Bar","timeout","callback","getFrom","value","bar","position","color","animator","Project","$node","$info","$infoScreen","$infoButton","$plates","$images","$videos","isEnded","bindEvents","loadProject","loadVideos","_onClickInfo","onClickInfo","handleImages","onPreload","elem","instance","destroy","cycleAnimation","onUpdateEmitter","go","$plate","nodeRect","floor","updatePlates","updatePosition","killVideos","Menu","detached","tDuration","isOpen","isDetach","_initialized","_cache","_access","_session","sessionStorage","Store","options","_opts","_init","flush","save","enableStorage","isStorageSupported","setItem","JSON","stringify","uri","toLowerCase","val","slug","getValue","crumb","RegExp","encodeURIComponent","exec","cookie","removeItem","err","_isTouch","DocumentTouch","_isMobile","test","navigator","userAgent","isMobile","isTouch","isStandalone","DEV","PROD","ENV","domain","parent","isProd","VideoVimeo","$poster","$playback","_files","_video","loadVimeoData","vimeoId","vimeoUrl","pop","vimeo","handleVimeoData","sourceUrl","posterUrl","initMobile","initVideo","applyAspect","createMediaNode","remove","autoplayLoop","bindAutoplayLoop","clickToPlay","loadThumbFile","bindClickToPlay","_autoplayHandler","isPlaying","stopMedia","playMedia","addMediaEvent","setMediaProp","url","node","addVideo","channel","off","getMedia","destroyMedia","quality","size","mobile","sd","hd","mediabox","teardown","$mainPanels","mainDuration","onController","$target","$controller","closest","$panel","About","initialize","transTime","$anim","loadContent","$_jsElement","about","getElements","onload","unload","pushTrack","apiEndpoint","pageTitle","itemTitle","collectionTitle","websiteId","itemId","collectionId","recordHit","res","catch","error","setDocumentTitle","title","websiteTitle","datas","queryString","referrer","localStorageSupported","viewportInnerHeight","viewportInnerWidth","screenHeight","screen","screenWidth","templateId","ajax","method","event","headers","ImageController","$preload","$lazyload","not","handlePreload","handleLazyload","preLoader","lazyLoader","_rSlash","squarespace","join","endpoint","apipoint","request","params","nocache","opts","Promise","resolve","reject","seg","tag","category","item","pagination","access_token","imageController","_throttled","_debounced","onThrottle","onDebounce","_gridTitleTpl","_gridWrapTpl","_gridItemTpl","_gridVideoTpl","IndexFull","$anims","vimeos","loadIndex","updateAnimate","bindGallery","$elem","_onKeyDown","onKeyDown","_onGalleryImage","onGalleryImage","_onGalleryBack","onGalleryBack","$project","$title","onLoadFullIndex","json","collections","description","$grid","customContent","vimeoVideoUrl","loadVideo","diptychImage","systemDataVariants","keyCode","unbindGallery","$parent","$next","next","$prev","prev","nextProject","first","last","nextTile","nextTitle","IndexRoot","timeoutId","timeoutDelay","handleScroll","_timeout","_handleScroll","clearTimeout","onTileClick","onMouseEnter","onMouseLeave","indexes","listing","$_jsInfo","projects","killProject","AutoplayHandler","_onScroll","onScroll","require","App","analytics","initModules","_onPreloadDone","onPreloadDone","app"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACzDA;;;;AACA;;;;AACA;;;;AACA;;IAAYA,I;;AACZ;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;QAIIC,M;QACAC,G;QACAC,M;QACAH,I,GAAAA,I;QACAI,M;QACAC,G;QACAC,G;QACAC,G;QACAC,K;QACAC,S;QACAC,O;QACAC,O;QACAC,O,sBAnCJ;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B,KAAK;AACnC;AACA;;AAEA;AACA,iBAAiB,aAAa,KAAK;AACnC;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA,sB;;;;;;ACjIA,wG;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA,mBAAmB;;;AAGnB;;;AAGA;;;AAGA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,SAAS;AACT,KAAK;;;AAGL;AACA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA;AACA;;AAEA,SAAS;AACT;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL,YAAY;AACZ;AACA;;AAEA,gBAAgB,KAAK;AACrB;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;AACD;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wCAAwC,KAAK;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,yDAAyD,KAAK;AAC9D;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA,kEAAkE,SAAS;AAC3E;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;A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,mB;QACAoD,qB,GAAAA,qB;QACAsB,uB,GAAAA,uB;;;;;;ACpcJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,gCAAgC,UAAU,EAAE;;AAE5C;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,+BAA+B,oCAAoC,EAAE;;AAErE;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,oCAAoC,YAAY,EAAE;;AAElD;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,qCAAqC,gBAAgB,EAAE;;AAEvD;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,uCAAuC,qCAAqC,EAAE;;AAE9E;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,qCAAqC,cAAc,EAAE;;AAErD;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,sCAAsC,oBAAoB,EAAE;;AAE5D;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,wCAAwC,kDAAkD,EAAE;;AAE5F;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,qCAAqC,gBAAgB,EAAE;;AAEvD;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,sCAAsC,sBAAsB,EAAE;;AAE9D;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,wCAAwC,4CAA4C,EAAE;;AAEtF;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,qCAAqC,kBAAkB,EAAE;;AAEzD;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,sCAAsC,wBAAwB,EAAE;;AAEhE;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,wCAAwC,kDAAkD;AAC1F;;;AAGA;;;AAGA,CAAC,E;;;;;;;;;;;;;AC5LD;;;;AACA;;IAAYjI,I;;;;;;AAGZ,IAAM6I,cAAc,4BAAG,aAAH,CAApB;AACA,IAAMC,cAAc,4BAAG,kBAAH,CAApB;AACA,IAAMC,cAAc,4BAAG,aAAH,CAApB;;AAGA;;;;;;;AAOA,IAAM7I,MAAM;AACR;;;;;;;;AAQA8I,OAAK,4BAAGC,QAAH,CATG;;AAYR;;;;;;;;AAQA3H,QAAM,4BAAG2H,SAASC,eAAZ,CApBE;;AAuBR;;;;;;;;AAQA1H,QAAM,4BAAGyH,SAASzH,IAAZ,CA/BE;;AAkCR;;;;;;;;AAQA2H,UAAQ,4BAAG,YAAH,CA1CA;;AA6CR;;;;;;;;AAQAC,OAAK,4BAAG,SAAH,CArDG;;AAwDR;;;;;;;;AAQAC,SAAO,4BAAG,WAAH,CAhEC;;AAmER;;;;;;;;AAQArI,WAAS;AACLE,aAAS2H,WADJ;AAEL9G,kBAAc8G,YAAYpD,IAAZ,CAAkB,mBAAlB,CAFT;AAGL3D,+BAA2B9B,KAAK2G,qBAAL,CAA4BkC,YAAa,CAAb,CAA5B;AAHtB,GA3ED;;AAkFR;;;;;;;;AAQAS,WAAS;AACLpI,aAAS6H,WADJ;AAELQ,iBAAaR,YAAYtD,IAAZ,CAAkB,kBAAlB;AAFR,GA1FD;;AAgGR;;;;;;;;AAQAD,QAAM,4BAAG,UAAH,CAxGE;;AA2GR;;;;;;;;AAQAgE,WAAS;AACLtI,aAAS4H,WADJ;AAELW,iBAAaX,YAAYrD,IAAZ,CAAkB,uBAAlB,CAFR;AAGL3D,+BAA2B9B,KAAK2G,qBAAL,CAA4BmC,YAAa,CAAb,CAA5B;AAHtB,GAnHD;;AA0HR;;;;;;;;AAQAY,QAAM,4BAAG,UAAH,CAlIE;;AAqIR;;;;;;;;AAQAC,QAAM,4BAAG,UAAH;AA7IE,CAAZ;;AAkJA;;;kBAGezJ,G;;;;;;ACrKf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;;AAEhC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,SAAS;;AAET;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;;AAGA,CAAC,E;;;;;;;;;;;;;ACnHD;;;;AACA;;IAAYW,I;;AACZ;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAIA;;;;;;;AAOA,IAAMyI,UAAU;AACZ;;;;;;;;AAQArI,QATY,kBASJ;AACJ,aAAK2I,KAAL,GAAa,IAAb;AACA,aAAKC,IAAL,GAAY,mBAAUhJ,KAAKX,GAAL,CAASoJ,OAAT,CAAiBpI,OAA3B,EAAoC,IAApC,CAAZ;;AAEA;AACA,aAAK4I,MAAL,GAAc,4BAAG,IAAIC,KAAJ,EAAH,CAAd;AACA,aAAKD,MAAL,CAAa,CAAb,EAAiBE,SAAjB,GAA6B,oCAA7B;;AAEA;AACA,aAAKC,SAAL,GAAiB,IAAjB;AACA,aAAKC,UAAL,GAAkB,4BAAGjB,SAASkB,aAAT,CAAwB,KAAxB,CAAH,CAAlB;AACA,aAAKD,UAAL,CAAiB,CAAjB,EAAqBF,SAArB,GAAiC,uBAAjC;AACA,aAAKI,MAAL,GAAc,4BAAGnB,SAASkB,aAAT,CAAwB,OAAxB,CAAH,CAAd;AACA,aAAKC,MAAL,CAAa,CAAb,EAAiBJ,SAAjB,GAA6B,iBAA7B;AACA,aAAKE,UAAL,CAAgBzI,MAAhB,CAAwB,KAAK2I,MAA7B;;AAEAvJ,aAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA6B9H,MAA7B,CAAqC,KAAKqI,MAA1C;AACAjJ,aAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA6B9H,MAA7B,CAAqC,KAAKyI,UAA1C;;AAEA,YAAKrJ,KAAKZ,MAAL,CAAYiI,QAAZ,EAAL,EAA8B;AAC1B,iBAAKmC,SAAL;AAEH,SAHD,MAGO;AACH,iBAAKC,SAAL;AACH;AACJ,KAlCW;;;AAqCZ;;;;;;;;AAQAD,aA7CY,uBA6CC;AACT,aAAKE,MAAL,GAAc,KAAKC,KAAL,CAAWC,IAAX,CAAiB,IAAjB,CAAd;AACA,aAAKC,QAAL,GAAgB,KAAKC,OAAL,CAAaF,IAAb,CAAmB,IAAnB,CAAhB;AACA,aAAKG,UAAL,GAAkB,KAAKC,SAAL,CAAeJ,IAAf,CAAqB,IAArB,CAAlB;AACA,aAAKK,SAAL,GAAiB,KAAKC,QAAL,CAAcN,IAAd,CAAoB,IAApB,CAAjB;;AAEA,aAAKO,GAAL,GAAW,uBAAYnK,KAAKX,GAAL,CAASoJ,OAAT,CAAiBpI,OAAjB,CAA0B,CAA1B,CAAZ,EAA2CL,KAAKb,IAAL,CAAUiI,uBAAV,EAA3C,CAAX;AACA,aAAK+C,GAAL,CAASC,EAAT,CAAa,KAAb,EAAoB,KAAKV,MAAzB;;AAEA,aAAKW,KAAL,GAAa,uBAAYrK,KAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,CAAZ,EAA+C1I,KAAKb,IAAL,CAAUiI,uBAAV,EAA/C,CAAb;AACA,aAAKiD,KAAL,CAAWD,EAAX,CAAe,SAAf,EAA0B,KAAKL,UAA/B;AACA,aAAKM,KAAL,CAAWD,EAAX,CAAe,QAAf,EAAyB,KAAKH,SAA9B;AACA,aAAKI,KAAL,CAAWD,EAAX,CAAe,OAAf,EAAwB,KAAKP,QAA7B;AACH,KA1DW;;;AA6DZ;;;;;;;;AAQAJ,aArEY,uBAqEC;AACTzJ,aAAKX,GAAL,CAASoJ,OAAT,CAAiBpI,OAAjB,CAAyB+J,EAAzB,CAA6B,OAA7B,EAAsC,gCAAU,KAAKE,OAAL,CAAaV,IAAb,CAAmB,IAAnB,CAAV,EAAqC,GAArC,EAA0C,IAA1C,CAAtC;AACH,KAvEW;;;AA0EZ;;;;;;;;;AASAD,SAnFY,iBAmFJY,CAnFI,EAmFA;AACR,YAAKA,EAAExD,MAAF,KAAa,KAAKwC,MAAL,CAAa,CAAb,CAAlB,EAAqC;AACjCvJ,iBAAKH,OAAL,CAAa2K,IAAb,CAAmB,yBAAnB;AACH;AACJ,KAvFW;;;AA0FZ;;;;;;;;;AASAR,aAnGY,qBAmGAO,CAnGA,EAmGI;AACZA,UAAEE,cAAF;;AAEA,YAAK,CAAC,KAAK1B,KAAX,EAAmB;AACf/I,iBAAKb,IAAL,CAAU0C,WAAV,CACI7B,KAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,CADJ,EAEI1I,KAAKb,IAAL,CAAUwC,EAAV,CAAe4I,EAAEG,MAAF,GAAW,CAA1B,CAFJ,EAGI,CAHJ,EAII,CAJJ;AAMH;AACJ,KA9GW;;;AAiHZ;;;;;;;;;AASAR,YA1HY,sBA0HA;AAAA;;AACR,YAAK,CAAC,KAAKnB,KAAX,EAAmB;AACf,gBAAMjB,YAAY9H,KAAKb,IAAL,CAAU0I,kBAAV,CAA8B7H,KAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,CAA9B,CAAlB;AACA,gBAAMiC,SAAU7C,UAAU/F,CAAV,GAAc,CAA9B;;AAEA,iBAAKgH,KAAL,GAAa,4BAAU;AACnB6B,oBAAI,CADe;AAEnBC,sBAAM9H,KAAK+H,GAAL,CAAUhD,UAAU/F,CAApB,CAFa;AAGnBgJ,sBAAM,yBAAOC,cAHM;AAInBC,wBAAQ,gBAAElJ,CAAF,EAAS;AACb/B,yBAAKb,IAAL,CAAU0C,WAAV,CACI7B,KAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,CADJ,EAEI1I,KAAKb,IAAL,CAAUwC,EAAV,CAAegJ,SAAS,CAAC5I,CAAV,GAAcA,CAA7B,CAFJ,EAGI,CAHJ,EAII,CAJJ;AAMH,iBAXkB;AAYnBmJ,0BAAU,oBAAM;AACZ,0BAAKnC,KAAL,GAAa,IAAb;AACH,iBAdkB;AAenB/C,0BAAU;AAfS,aAAV,CAAb;AAiBH;AACJ,KAjJW;;;AAoJZ;;;;;;;;;AASA8D,WA7JY,mBA6JFS,CA7JE,EA6JE;AAAA;;AACVA,UAAEE,cAAF;;AAEA,YAAM3C,YAAY9H,KAAKb,IAAL,CAAU0I,kBAAV,CAA8B7H,KAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,CAA9B,CAAlB;AACA,YAAMiC,SAAUJ,EAAEY,SAAF,KAAgB,mBAAOC,cAAvC;;AAEA,YAAK,CAAC,KAAKrC,KAAX,EAAmB;AACf,iBAAKA,KAAL,GAAa,4BAAU;AACnB6B,oBAAIpI,OAAOyC,UADQ;AAEnB4F,sBAAM9H,KAAK+H,GAAL,CAAUhD,UAAU/F,CAApB,CAFa;AAGnBgJ,sBAAM,yBAAOC,cAHM;AAInBC,wBAAQ,gBAAElJ,CAAF,EAAS;AACb/B,yBAAKb,IAAL,CAAU0C,WAAV,CACI7B,KAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,CADJ,EAEI1I,KAAKb,IAAL,CAAUwC,EAAV,CAAegJ,SAAS,CAAC5I,CAAV,GAAcA,CAA7B,CAFJ,EAGI,CAHJ,EAII,CAJJ;AAMH,iBAXkB;AAYnBmJ,0BAAU,oBAAM;AACZ,2BAAKlK,KAAL;;AAEAhB,yBAAKH,OAAL,CAAa2K,IAAb,CAAmB,oBAAnB,EAA0CG,SAAS,mBAAOU,eAAhB,GAAkC,mBAAOD,cAAnF;;AAEAvK,+BAAY,YAAM;AACd,+BAAKkI,KAAL,GAAa,IAAb;;AAEA/I,6BAAKb,IAAL,CAAU0C,WAAV,CACI7B,KAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,CADJ,EAEI,CAFJ,EAGI,CAHJ,EAII,CAJJ;AAOH,qBAVD,EAUI,kBAAQzI,QAAR,KAAqBD,KAAKX,GAAL,CAASc,OAAT,CAAiBc,yBAAtC,GAAkE,EAVtE;AAWH,iBA5BkB;AA6BnB+E,0BAAU;AA7BS,aAAV,CAAb;AA+BH;AACJ,KApMW;;;AAuMZ;;;;;;;;;AASAsE,WAhNY,mBAgNFC,CAhNE,EAgNE;AACV,YAAKA,EAAExD,MAAF,KAAa/G,KAAKX,GAAL,CAASoJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,CAAb,IAAkD,kBAAQzI,QAAR,EAAvD,EAA4E;AACxE,iBAAKqL,WAAL,CAAkBf,CAAlB;AAEH,SAHD,MAGO;AACHvK,iBAAKH,OAAL,CAAa2K,IAAb,CAAmB,yBAAnB;AACH;AACJ,KAvNW;;;AA0NZ;;;;;;;;;AASAc,eAnOY,uBAmOEf,CAnOF,EAmOM;AACd,YAAMgB,OAAO,CAAC,KAAKnC,SAAL,GAAiB,KAAKG,MAAL,CAAa,CAAb,CAAjB,GAAoC,KAAKN,MAAL,CAAa,CAAb,CAArC,EAAuD3G,qBAAvD,EAAb;AACA,YAAI6I,YAAY,IAAhB;;AAEA,YAAKZ,EAAEiB,OAAF,IAAcD,KAAK/G,KAAL,GAAa,CAAb,GAAiB+G,KAAKE,IAApC,IAA6C,CAAC,kBAAQxL,QAAR,EAAnD,EAAwE;AACpEkL,wBAAY,mBAAOC,cAAnB;AAEH,SAHD,MAGO;AACHD,wBAAY,mBAAOE,eAAnB;AACH;;AAEDrL,aAAKH,OAAL,CAAa2K,IAAb,CAAmB,oBAAnB,EAAyCW,SAAzC;AACH,KA/OW;;;AAkPZ;;;;;;;;AAQA3K,QA1PY,kBA0PJ;AACJ,YAAK,CAAC,KAAKwI,IAAL,CAAU/I,QAAV,EAAN,EAA6B;AACzB,iBAAK+I,IAAL,CAAUxI,IAAV;AACH;AACJ,KA9PW;;;AAiQZ;;;;;;;;AAQAM,SAzQY,mBAyQH;AACL,YAAK,KAAKkI,IAAL,CAAU/I,QAAV,EAAL,EAA4B;AACxB,iBAAK+I,IAAL,CAAUlI,KAAV;;AAEA,iBAAKE,KAAL;AACH;AACJ,KA/QW;;;AAkRZ;;;;;;;;AAQAA,SA1RY,mBA0RH;AACL,aAAKiI,MAAL,CAAa,CAAb,EAAiByC,GAAjB,GAAuB,EAAvB;;AAEA,YAAK,KAAKtC,SAAV,EAAsB;AAClB,iBAAKG,MAAL,CAAa,CAAb,EAAiBpI,SAAjB,GAA6B,EAA7B;AACA,iBAAKiI,SAAL,GAAiB,IAAjB;AACH;AACJ,KAjSW;;;AAoSZ;;;;;;;;;AASAuC,YA7SY,oBA6SD1C,MA7SC,EA6SQ;AAChB,aAAKjI,KAAL;;AAEA,YAAMqD,OAAO4E,OAAO5E,IAAP,EAAb;;AAEArE,aAAKX,GAAL,CAASoJ,OAAT,CAAiBpI,OAAjB,CAAyBU,WAAzB,CAAsC,UAAtC;;AAEA,sBAAI6K,IAAJ;AACA,aAAKpL,IAAL;AACA,aAAKyI,MAAL,CAAYvF,UAAZ,CAAwB1D,KAAKT,MAAL,CAAYkE,eAApC,EAAsDoI,IAAtD,CAA2D;AACvD,4BAAgBxH,KAAKa,MADkC;AAEvD,6BAAiBb,KAAKkB,QAFiC;AAGvD,kCAAsBlB,KAAKe;AAH4B,SAA3D;;AAMApF,aAAKb,IAAL,CAAUwE,UAAV,CAAsB,KAAKsF,MAA3B,EAAmCjJ,KAAKb,IAAL,CAAUyE,IAA7C,EAAmD,IAAnD,EAAyDpB,OAAOyC,UAAhE,EAA6EmF,EAA7E,CAAiF,MAAjF,EAAyF,YAAM;AAC3F,0BAAI0B,IAAJ;AACH,SAFD;AAGH,KA/TW;;;AAkUZ;;;;;;;;;AASAC,YA3UY,oBA2UDC,KA3UC,EA2UO;AACf,aAAKhL,KAAL;AACA,aAAKoI,SAAL,GAAiB4C,KAAjB;;AAEA,YAAMC,QAAQ,qBAAWC,aAAX,CAA0B,KAAK9C,SAA/B,CAAd;AACA,YAAM+C,OAAO,qBAAWC,YAAX,CAAyBH,KAAzB,CAAb;;AAEAjM,aAAKX,GAAL,CAASoJ,OAAT,CAAiBpI,OAAjB,CAAyBK,QAAzB,CAAmC,UAAnC;;AAEA,aAAKF,IAAL;AACA,aAAK6I,UAAL,CAAiB,CAAjB,EAAqBnH,KAArB,CAA2BmK,aAA3B,GAAgD,KAAKjD,SAAL,CAAe9D,MAAf,GAAwB,KAAK8D,SAAL,CAAe5E,KAAxC,GAAiD,GAAhG;;AAEA;AACA,YAAKxE,KAAKZ,MAAL,CAAYiI,QAAZ,EAAL,EAA8B;AAC1B,iBAAKkC,MAAL,CAAa,CAAb,EAAiB9D,YAAjB,CAA+B,QAA/B,EAAyC,KAAK2D,SAAL,CAAekD,QAAf,CAAwBC,KAAxB,CAA+B,KAAKnD,SAAL,CAAekD,QAAf,CAAwBC,KAAxB,CAA8BpJ,MAA9B,GAAuC,CAAtE,EAA0EqJ,IAAnH;AACA,iBAAKjD,MAAL,CAAa,CAAb,EAAiB9D,YAAjB,CAA+B,UAA/B,EAA2C,IAA3C;AACH;;AAED,aAAK8D,MAAL,CAAa,CAAb,EAAiBmC,GAAjB,GAAuBS,IAAvB;AACA,aAAK5C,MAAL,CAAa,CAAb,EAAiBqC,IAAjB;AACA,aAAKrC,MAAL,CAAa,CAAb,EAAiBkD,IAAjB;AACH;AAhWW,CAAhB;;AAoWA;;;kBAGehE,O;;;;;;;;;;;;;AC3Xf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;IAAYzI,I;;AACZ;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAGA;;;;;;;AAOA,IAAM0M,SAAS;AACX;;;;;;;;AAQAtM,QATW,kBASH;AACJ,aAAKuM,KAAL,GAAa,EAAb;AACA,aAAKC,OAAL,GAAe5M,KAAKX,GAAL,CAASkJ,GAAT,CAAalE,IAAb,EAAf;AACA,aAAKwI,QAAL,GAAgB7M,KAAKX,GAAL,CAASsF,IAAT,CAAcN,IAAd,EAAhB;AACA,aAAKyI,YAAL,GAAoB9M,KAAKb,IAAL,CAAU2G,qBAAV,CAAiC9F,KAAKX,GAAL,CAASsF,IAAT,CAAe,CAAf,CAAjC,CAApB;AACA,aAAKoI,WAAL,GAAmB,IAAnB;AACA,aAAKC,UAAL,GAAkBhN,KAAKX,GAAL,CAASyJ,IAAT,CAAclE,IAAd,CAAoB,oBAApB,CAAlB;AACA,aAAKqI,QAAL;AACA,aAAKC,kBAAL;AACA,aAAKC,kBAAL;;AAEAnN,aAAKP,GAAL,CAAU,oBAAV;AACH,KArBU;;;AAwBX;;;;;;;;;AASA2N,SAjCW,iBAiCHC,IAjCG,EAiCI;AACX,aAAKC,UAAL,CAAgBC,SAAhB,GAA4BC,OAA5B,CAAqCH,IAArC;AACH,KAnCU;;;AAsCX;;;;;;;;;;AAUA9J,QAhDW,gBAgDJ8J,IAhDI,EAgDEI,EAhDF,EAgDO;AACd,aAAKH,UAAL,CAAgBI,aAAhB,CAA+BL,IAA/B,EAAsCI,MAAMzN,KAAKb,IAAL,CAAUyE,IAAtD;AACH,KAlDU;;;AAqDX;;;;;;;;AAQA+J,YA7DW,sBA6DC;AACRnL,eAAOiE,QAAP,CAAgBmH,IAAhB,GAAuBpL,OAAOiE,QAAP,CAAgBoH,MAAvC;AACH,KA/DU;;;AAkEX;;;;;;;;AAQAV,sBA1EW,gCA0EW;AAClB,aAAKG,UAAL,GAAkB,qCAAoB,EAApB,CAAlB;;AAEA,aAAKA,UAAL,CAAgBQ,SAAhB,CAA0B,CACtB,GADsB,CAA1B;;AAIA,aAAKR,UAAL,CAAgBS,UAAhB,CAA2B,2EAA3B;;AAOA,aAAKT,UAAL,CAAgBlD,EAAhB,CAAoB,uCAApB,EAA6D,KAAK4D,aAAL,CAAmBpE,IAAnB,CAAyB,IAAzB,CAA7D;AACA,aAAK0D,UAAL,CAAgBlD,EAAhB,CAAoB,yCAApB,EAA+D,KAAK6D,aAAL,CAAmBrE,IAAnB,CAAyB,IAAzB,CAA/D;AACA,aAAK0D,UAAL,CAAgBlD,EAAhB,CAAoB,sCAApB,EAA4D,KAAK8D,YAAL,CAAkBtE,IAAlB,CAAwB,IAAxB,CAA5D;AACA,aAAK0D,UAAL,CAAgBlD,EAAhB,CAAoB,kCAApB,EAAwD,KAAK+D,QAAL,CAAcvE,IAAd,CAAoB,IAApB,CAAxD;AACA,aAAK0D,UAAL,CAAgBlD,EAAhB,CAAoB,iCAApB,EAAuD,KAAKgE,QAAL,CAAcxE,IAAd,CAAoB,IAApB,CAAvD;;AAEA,aAAK0D,UAAL,CAAgBa,QAAhB;AACH,KA/FU;;;AAkGX;;;;;;;;AAQAlB,YA1GW,sBA0GC;AAAA;;AACR,aAAKpE,IAAL,GAAY,IAAZ;;AAEA;AACA;AACA;AACA,YAAK,KAAKgE,QAAL,CAAcwB,IAAd,KAAuB,OAA5B,EAAsC;AAClC,gBAAK,KAAKxB,QAAL,CAAcwB,IAAd,KAAuB,WAA5B,EAA0C;AACtC,qBAAKxF,IAAL,GAAY,GAAZ;AAEH,aAHD,MAGO;AACH,qBAAK+D,OAAL,CAAa0B,OAAb,CAAqBC,OAArB,CAA6B,UAAEC,SAAF,EAAiB;AAC1C,wBAAKA,UAAUC,KAAf,EAAuB;AACnBD,kCAAUC,KAAV,CAAgBF,OAAhB,CAAwB,UAAEG,cAAF,EAAsB;AAC1C,gCAAKA,eAAeC,UAAf,CAA0BC,EAA1B,KAAiC,MAAK/B,QAAL,CAAc+B,EAApD,EAAyD;AACrD,sCAAK/F,IAAL,GAAY2F,UAAUG,UAAV,CAAqBE,OAAjC;AACH;AACJ,yBAJD;AAKH;AACJ,iBARD;AASH;;AAED,iBAAKhG,IAAL,GAAa,KAAKA,IAAL,IAAa,GAA1B;AACA,iBAAKiG,aAAL;AAEH,SAnBD,MAmBO;AACH,iBAAKjG,IAAL,GAAYrG,OAAOiE,QAAP,CAAgBC,QAA5B;AACH;;AAED1G,aAAKX,GAAL,CAASwJ,IAAT,CAAcgD,IAAd,CAAoB,MAApB,EAA4B,KAAKhD,IAAjC;;AAEA7I,aAAKX,GAAL,CAASwJ,IAAT,CAAcuB,EAAd,CAAkB,OAAlB,EAA2B,YAAM;AAC7BpK,iBAAKX,GAAL,CAASoB,IAAT,CAAcM,WAAd,CAA2Bf,KAAKT,MAAL,CAAYwP,gBAAvC;;AAEA/O,iBAAKH,OAAL,CAAa2K,IAAb,CAAmB,WAAnB;AACH,SAJD;;AAMAxK,aAAKH,OAAL,CAAauK,EAAb,CAAiB,oBAAjB,EAAuC,YAAM;AACzC,gBAAK,CAAC,MAAK4E,KAAX,EAAmB;AACf,sBAAK5B,KAAL,CAAY,MAAKvE,IAAjB;AACH;AACJ,SAJD;AAKH,KApJU;;;AAuJX;;;;;;;;;AASAsF,YAhKW,sBAgKA,UAAa;AACpBnO,aAAKX,GAAL,CAASkJ,GAAT,CAAahI,MAAb;AACA;;AAEA,YAAK,CAACP,KAAKR,GAAL,CAASyP,QAAT,EAAN,EAA4B;AACxBjP,iBAAKX,GAAL,CAASsF,IAAT,CAAcpE,MAAd;AACH;;AAEDP,aAAKX,GAAL,CAASoB,IAAT,CAAcM,WAAd,CAA2B,YAA3B;AACAf,aAAKX,GAAL,CAASsB,IAAT,CAAcI,WAAd,CAA2B,YAA3B;;AAEAyB,eAAO0M,gBAAP,CAAyB,UAAzB,EAAqC,KAAKC,cAAL,CAAoBvF,IAApB,CAA0B,IAA1B,CAArC,EAAuE,KAAvE;AACH,KA5KU;;;AA+KX;;;;;;;;AAQAwE,YAvLW,sBAuLC;AAAA;;AACR,YAAK5L,OAAOiE,QAAP,CAAgBC,QAAhB,KAA6B,KAAKmC,IAAlC,IAA0C,CAAC,KAAKkE,WAAhD,IAA+D,KAAKC,UAAL,CAAiB,CAAjB,EAAqBoC,SAArB,GAAiC,CAArG,EAAyG;AACrG,iBAAKrC,WAAL,GAAmB,4BAAU;AACzBnC,oBAAI,CADqB;AAEzBC,sBAAM,KAAKmC,UAAL,CAAiB,CAAjB,EAAqBoC,SAFF;AAGzBrE,sBAAM,yBAAOC,cAHY;AAIzBC,wBAAQ,gBAAE1I,GAAF,EAAW;AACf,2BAAKyK,UAAL,CAAiB,CAAjB,EAAqBoC,SAArB,GAAiC7M,GAAjC;AACH,iBANwB;AAOzB2I,0BAAU,oBAAM;AACZ,2BAAK6B,WAAL,GAAmB,IAAnB;AACH,iBATwB;AAUzB/G,0BAAU;AAVe,aAAV,CAAnB;AAYH;AACJ,KAtMU;;;AAyMX;;;;;;;;AAQAmJ,kBAjNW,4BAiNO;AACd,aAAKH,KAAL,GAAa,IAAb;;AAEA,YAAIK,QAAQ,IAAZ;AACA,YAAIC,QAAQ9M,OAAOiE,QAAP,CAAgBC,QAAhB,CAAyB4I,KAAzB,CAAgC,+BAAhC,CAAZ;;AAEA;AACA;AACA;AACA,YAAKA,SAASA,MAAO,CAAP,CAAd,EAA2B;AACvBA,oBAAQA,MAAO,CAAP,EAAWnK,OAAX,CAAoB,KAApB,EAA2B,EAA3B,CAAR;AACAmK,oBAAQA,QAAQA,KAAR,GAAgB,UAAxB;;AAEAtP,iBAAKX,GAAL,CAASyJ,IAAT,CAAe,CAAf,EAAmB8F,EAAnB,iBAAoCU,KAApC;;AAEA;AACA,gBAAKA,UAAUtP,KAAKT,MAAL,CAAYgQ,SAA3B,EAAuC;AACnCvP,qBAAKX,GAAL,CAASoB,IAAT,CAAcM,WAAd,CAA2Bf,KAAKT,MAAL,CAAYwP,gBAAvC;AACA;AACH;;AAED;AACA,gBAAK,kBAAQ9O,QAAR,EAAL,EAA0B;AACtBD,qBAAKH,OAAL,CAAa2K,IAAb,CAAmB,oBAAnB;AACH;;AAED;AACA,8BAAQ1J,KAAR;;AAEJ;AACC,SArBD,MAqBO;AACHuO,oBAAQ,uDAA4B7M,OAAOiE,QAAP,CAAgBC,QAA5C,QAAR;AACA2I,kBAAM7B,OAAN,CAAe,YAAf;AACA6B,kBAAM7B,OAAN,CAAe,OAAf;AACH;;AAED;AACA,0BAAQ1M,KAAR;;AAEA,aAAKkO,KAAL,GAAa,KAAb;AACH,KAzPU;;;AA4PX;;;;;;;;AAQAF,iBApQW,2BAoQM;AAAA;;AACb9O,aAAKN,GAAL,CAASiP,UAAT,CACI,KAAK9F,IADT,EAEI,EAAE2G,QAAQ,MAAV,EAFJ,EAGI,EAAEC,UAAU,MAAZ,EAHJ,EAKEC,IALF,CAKO,UAAEC,QAAF,EAAgB;AACnB,gBAAMxH,MAAM,OAAKyH,QAAL,CAAeD,QAAf,CAAZ;;AAEA3P,iBAAKH,OAAL,CAAa2K,IAAb,CAAmB,gBAAnB,EAAqCrC,IAAI0H,QAAzC;AACH,SATD;AAUH,KA/QU;;;AAkRX;;;;;;;;;AASAC,iBA3RW,yBA2RKrC,EA3RL,EA2RU;AACjBzN,aAAKN,GAAL,CAASiP,UAAT,CACI,KAAK9F,IADT,EAEI,EAAE2G,QAAQ,MAAV,EAFJ,EAGI,EAAEC,UAAU,MAAZ,EAHJ,EAKEC,IALF,CAKQjC,EALR;AAMH,KAlSU;;;AAqSX;;;;;;;;;;AAUAmC,YA/SW,oBA+SAnP,IA/SA,EA+SO;AACd,YAAI0H,MAAMC,SAASkB,aAAT,CAAwB,MAAxB,CAAV;AACA,YAAI3E,OAAO,IAAX;;AAEAwD,YAAIhH,SAAJ,GAAgBV,IAAhB;;AAEA0H,cAAM,4BAAGA,GAAH,CAAN;AACAxD,eAAOwD,IAAIvD,IAAJ,CAAU,UAAV,CAAP;;AAEA,eAAO;AACHmL,kBAAM5H,GADH;AAEH6H,mBAAOrL,IAFJ;AAGHkI,sBAAUlI,KAAKN,IAAL,EAHP;AAIHwL,sBAAUlL,KAAM,CAAN,EAAUxD;AAJjB,SAAP;AAMH,KA9TU;;;AAiUX;;;;;;;;AAQA+L,sBAzUW,gCAyUW;AAClBlN,aAAKX,GAAL,CAASsB,IAAT,CAAcyJ,EAAd,CAAkB,OAAlB,EAA2B,aAA3B,EAA0C,UAAEG,CAAF;AAAA,mBAASA,EAAEE,cAAF,EAAT;AAAA,SAA1C;AACH,KA3UU;;;AA8UX;;;;;;;;AAQAuD,iBAtVW,2BAsVM;AACbhO,aAAKX,GAAL,CAASoB,IAAT,CAAcC,QAAd,CAAwB,YAAxB;AACH,KAxVU;;;AA2VX;;;;;;;;;AASAuN,iBApWW,yBAoWK5J,IApWL,EAoWY;AACnB,YAAM8D,MAAM,KAAKyH,QAAL,CAAevL,KAAKsL,QAApB,CAAZ;;AAEA3P,aAAKX,GAAL,CAASsF,IAAT,CAAe,CAAf,EAAmBxD,SAAnB,GAA+BgH,IAAI0H,QAAnC;;AAEA7P,aAAKH,OAAL,CAAa2K,IAAb,CAAmB,qBAAnB,EAA0CrC,GAA1C;;AAEA,aAAK0E,QAAL,GAAgB1E,IAAI6H,KAAJ,CAAU3L,IAAV,EAAhB;AACH,KA5WU;;;AA+WX;;;;;;;;;AASA6J,gBAxXW,0BAwXI,UAAa;AACxBlO,aAAKX,GAAL,CAASoB,IAAT,CAAcM,WAAd,CAA2B,YAA3B;AACH;AA1XU,CAAf;;AA+XA;;;kBAGe2L,M;;;;;;;;;;;;;;;ACvZf;;IAAY1M,I;;AACZ;;;;AACA;;;;AACA;;;;;;;;;;AAGA,IAAIiQ,YAAY,IAAhB;AACA,IAAMC,UAAU,4BAAG,uDAAH,CAAhB;AACA,IAAMC,YAAYD,QAAQtL,IAAR,CAAc,aAAd,CAAlB;;AAGA;;;;;;;;;;IASMwL,G;AACF,mBAAe;AAAA;;AACX,aAAKrH,KAAL,GAAa,IAAb;AACA,aAAKsH,OAAL,GAAe,IAAf;AACH;;AAGD;;;;;;;;;;;;iCAQU;AACNrQ,iBAAKX,GAAL,CAASsB,IAAT,CAAcC,MAAd,CAAsBsP,OAAtB;AACH;;AAGD;;;;;;;;;;;+BAQQ;AACJ,iBAAKtP,MAAL;;AAEA,iBAAKmI,KAAL,GAAa,4BAAU;AACnB8B,sBAAM,CADa;AAEnBD,oBAAIpI,OAAOyC,UAFQ;AAGnBgG,wBAAQ,KAAKA,MAAL,CAAYrB,IAAZ,CAAkB,IAAlB,CAHW;AAInBsB,0BAAU,KAAKD,MAAL,CAAYrB,IAAZ,CAAkB,IAAlB,CAJS;AAKnBmB,sBAAM,yBAAOC,cALM;AAMnBhF,0BAAU,KAAKqK;AANI,aAAV,CAAb;AAQH;;AAGD;;;;;;;;;;;;6BASOC,Q,EAAW;AACd,iBAAKvH,KAAL,CAAW+C,IAAX;AACA,iBAAK/C,KAAL,GAAa,4BAAU;AACnB8B,sBAAM,KAAK0F,OAAL,EADa;AAEnB3F,oBAAIpI,OAAOyC,UAFQ;AAGnBgG,wBAAQ,KAAKA,MAAL,CAAYrB,IAAZ,CAAkB,IAAlB,CAHW;AAInBsB,0BAAU,KAAKA,QAAL,CAActB,IAAd,CAAoB,IAApB,EAA0B0G,QAA1B,CAJS;AAKnBvF,sBAAM,yBAAOC,cALM;AAMnBhF,0BAAU;AANS,aAAV,CAAb;AAQH;;AAGD;;;;;;;;;;;;+BASSwK,K,EAAQ;AACbL,sBAAW,CAAX,EAAejO,KAAf,CAAqBsC,KAArB,GAA6BxE,KAAKb,IAAL,CAAUwC,EAAV,CAAc6O,KAAd,CAA7B;AACH;;AAGD;;;;;;;;;;;;iCASWF,Q,EAAW;AAClBJ,oBAAQxP,QAAR,CAAkB,SAAlB;;AAEAG,uBAAY,YAAM;AACdqP,wBACK3P,MADL,GAEKQ,WAFL,CAEkB,SAFlB;AAGAoP,0BAAUtE,IAAV,CAAgB,OAAhB,EAAyB,EAAzB;;AAEAyE;AAEH,aARD,EAQGtQ,KAAKb,IAAL,CAAU2G,qBAAV,CAAiCoK,QAAS,CAAT,CAAjC,CARH;AASH;;AAGD;;;;;;;;;;;;kCASW;AACP,mBAAOC,UAAW,CAAX,EAAepL,WAAtB;AACH;;;;;;AAIL;;;;;;;;;;AAQA,IAAM0L,MAAM;AACR;;;;;;;;;;AAUA7E,QAXQ,gBAWD8E,QAXC,EAWSC,KAXT,EAWiB;AACrBV,oBAAY,IAAIG,GAAJ,CAASM,QAAT,EAAmBC,KAAnB,CAAZ;AACAV,kBAAUrE,IAAV;AACH,KAdO;;;AAiBR;;;;;;;;AAQAE,QAzBQ,kBAyBA;AACJ,YAAKmE,SAAL,EAAiB;AACbA,sBAAUnE,IAAV,CAAe,YAAM;AACjBmE,4BAAY,IAAZ;AACH,aAFD;AAGH;AACJ;AA/BO,CAAZ;;AAmCA;;;kBAGeQ,G;;;;;;;;;;;;ACvLf;;;;;;;AAOA,IAAMlR,SAAS;AACX;;;;;;;;AAQAgQ,aAAW,UATA;;AAYX;;;;;;;;AAQA3I,eAAa,UApBF;;AAuBX;;;;;;;;AAQA/B,qBAAmB,gBA/BR;;AAkCX;;;;;;;;AAQAa,iBAAe,cA1CJ;;AA6CX;;;;;;;;AAQAjC,mBAAiB,kBArDN;;AAwDX;;;;;;;;AAQAsL,oBAAkB;AAhEP,CAAf;;AAqEA;;;kBAGexP,M;;;;;;;;;;;;;AC/Ef;;;;;;AAGA;;;;;;;AAOA,IAAMM,UAAU,kCAAhB;;AAGA;;;kBAGeA,O;;;;;;;;;;;;;;;AChBf;;IAAYG,I;;AACZ;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;AAGA,IAAIC,WAAW,KAAf;AACA,IAAM2Q,WAAW,kCAAjB;;AAGA;;;;;;;;;;;IAUMC,O;AACF,qBAAcC,KAAd,EAAqBC,KAArB,EAA4B1M,IAA5B,EAAmC;AAAA;;AAC/BpE,mBAAW,IAAX;;AAEA,aAAK6Q,KAAL,GAAaA,KAAb;AACA,aAAKE,WAAL,GAAmBD,KAAnB;AACA,aAAKE,WAAL,GAAmBjR,KAAKX,GAAL,CAASiJ,MAAT,CAAgB1D,IAAhB,CAAsB,kBAAtB,CAAnB;AACA,aAAKoE,IAAL,GAAY,mBAAU,KAAKgI,WAAf,EAA4B,KAA5B,CAAZ;AACA,aAAK3M,IAAL,GAAYA,IAAZ;AACA,aAAK6M,OAAL,GAAe,KAAKJ,KAAL,CAAWlM,IAAX,CAAiB,mBAAjB,CAAf;AACA,aAAKuM,OAAL,GAAe,KAAKL,KAAL,CAAWlM,IAAX,CAAiB,gBAAjB,CAAf;AACA,aAAKwM,OAAL,GAAe,KAAKN,KAAL,CAAWlM,IAAX,CAAiB,WAAjB,CAAf;AACA,aAAKyM,OAAL,GAAe,KAAf;;AAEA,aAAKC,UAAL;AACA,aAAKC,WAAL;AACA,aAAKC,UAAL;;AAEAxR,aAAKP,GAAL,CAAU,SAAV,EAAqB,IAArB;AACH;;AAGD;;;;;;;;;;;;;qCASc;AACV,iBAAKgS,YAAL,GAAoB,KAAKC,WAAL,CAAiB9H,IAAjB,CAAuB,IAAvB,CAApB;;AAEA,iBAAKoH,WAAL,CAAiB5G,EAAjB,CAAqB,OAArB,EAA8B,KAAKqH,YAAnC;AACA,iBAAKR,WAAL,CAAiB7G,EAAjB,CAAqB,OAArB,EAA8B,KAAKqH,YAAnC;AACH;;AAGD;;;;;;;;;;;;sCASe;AACX;AACAzR,iBAAKX,GAAL,CAASsJ,OAAT,CAAiBC,WAAjB,CAA6BhI,MAA7B,CAAqC,KAAKkQ,KAA1C;;AAEA9Q,iBAAKV,MAAL,CAAYqS,YAAZ,CAA0B,KAAKR,OAA/B,EAAwC,KAAKS,SAAL,CAAehI,IAAf,CAAqB,IAArB,CAAxC;AACH;;AAGD;;;;;;;;;;;;qCASc;AAAA;;AACV,iBAAKwH,OAAL,CAAa7C,OAAb,CAAqB,UAAEsD,IAAF,EAAQ3O,CAAR,EAAe;AAChC,oBAAMqG,SAAS,MAAK6H,OAAL,CAAatM,EAAb,CAAiB5B,CAAjB,CAAf;AACA,oBAAMmB,OAAOkF,OAAOlF,IAAP,EAAb;;AAEAkF,uBAAOlF,IAAP,CAAa,UAAb,EAAyB,yBAAgBkF,MAAhB,EAAwBlF,IAAxB,CAAzB;AACH,aALD;AAMH;;AAGD;;;;;;;;;;;;qCASc;AAAA;;AACV,iBAAK+M,OAAL,CAAa7C,OAAb,CAAqB,UAAEsD,IAAF,EAAQ3O,CAAR,EAAe;AAChC,oBAAMqG,SAAS,OAAK6H,OAAL,CAAatM,EAAb,CAAiB5B,CAAjB,CAAf;AACA,oBAAMmB,OAAOkF,OAAOlF,IAAP,EAAb;;AAEA,oBAAKA,KAAKyN,QAAV,EAAqB;AACjBzN,yBAAKyN,QAAL,CAAcC,OAAd;AACA1N,yBAAKyN,QAAL,GAAgB,IAAhB;AACH;AACJ,aARD;AASH;;AAGD;;;;;;;;;;;;sCASe;AACX,gBAAK9R,KAAKR,GAAL,CAASyP,QAAT,MAAuB,KAAKjG,IAAL,CAAU/I,QAAV,EAA5B,EAAmD;AAC/C;AACH;;AAED,gBAAK,KAAK+I,IAAL,CAAU/I,QAAV,EAAL,EAA4B;AACxB,qBAAK+I,IAAL,CAAUlI,KAAV;AAEH,aAHD,MAGO;AACH,qBAAKkI,IAAL,CAAUxI,IAAV;AACH;AACJ;;AAGD;;;;;;;;;;;;oCASa;AACT,0BAAIsL,IAAJ;;AAEA,iBAAKkG,cAAL;;AAEAnR,uBAAY,kBAAQC,KAAR,EAAZ,EAA8Bd,KAAKX,GAAL,CAASsJ,OAAT,CAAiB1H,yBAAjB,GAA6C,CAA3E;AACH;;AAGD;;;;;;;;;;;;yCASkB;AACd,iBAAKgR,eAAL;;AAEArB,qBAAS9E,IAAT;AACA8E,qBAASsB,EAAT,CAAa,KAAKD,eAAL,CAAqBrI,IAArB,CAA2B,IAA3B,CAAb;AACH;;AAGD;;;;;;;;;;;;uCASgB;AACZ,gBAAIuI,SAAS,IAAb;AACA,gBAAIjP,IAAI,KAAKgO,OAAL,CAAa/N,MAArB;;AAEA,iBAAMD,CAAN,EAASA,GAAT,GAAgB;AACZiP,yBAAS,KAAKjB,OAAL,CAAapM,EAAb,CAAiB5B,CAAjB,CAAT;;AAEA,oBAAKlD,KAAKb,IAAL,CAAUuD,mBAAV,CAA+ByP,OAAQ,CAAR,CAA/B,CAAL,EAAoD;AAChDA,2BAAOzR,QAAP,CAAiB,WAAjB;AAEH,iBAHD,MAGO;AACHyR,2BAAOpR,WAAP,CAAoB,WAApB;AACH;AACJ;AACJ;;AAGD;;;;;;;;;;;;yCASkB;AACd,gBAAMqR,WAAW,KAAKtB,KAAL,CAAY,CAAZ,EAAgBxO,qBAAhB,EAAjB;;AAEA,gBAAKtC,KAAKX,GAAL,CAASsJ,OAAT,CAAiBtI,OAAjB,CAA0B,CAA1B,EAA8B+O,SAA9B,KAA4C,CAA5C,IAAiDrM,KAAKsP,KAAL,CAAYD,SAASzP,MAArB,KAAiC,CAAlF,IAAuF,CAAC,KAAK0O,OAAlG,EAA4G;AACxG,qBAAKA,OAAL,GAAe,IAAf;;AAEArR,qBAAKX,GAAL,CAASsJ,OAAT,CAAiBtI,OAAjB,CAAyBK,QAAzB,CAAmC,WAAnC;;AAEAV,qBAAKH,OAAL,CAAa2K,IAAb,CAAmB,oBAAnB;AACH;AACJ;;AAGD;;;;;;;;;;;;0CASmB;AACf,iBAAK8H,YAAL;AACA,iBAAKC,cAAL;;AAEAvS,iBAAKH,OAAL,CAAa2K,IAAb,CAAmB,qBAAnB;AACH;;AAGD;;;;;;;;;;;;mCASY;AACR,gBAAK,KAAKiH,YAAV,EAAyB;AACrB,qBAAKT,WAAL,CAAiB5G,EAAjB,CAAqB,OAArB,EAA8B,KAAKqH,YAAnC;AACA,qBAAKR,WAAL,CAAiB7G,EAAjB,CAAqB,OAArB,EAA8B,KAAKqH,YAAnC;AACH;;AAED,iBAAKe,UAAL;;AAEA3B,oBAAQ/P,KAAR;AACH;;;;;;AAKL;;;;;;;;;;;;AAUA+P,QAAQ5Q,QAAR,GAAmB,YAAY;AAC3B,WAAOA,QAAP;AACH,CAFD;;AAKA;;;;;;;;;AASA4Q,QAAQrQ,IAAR,GAAe,YAAY;AACvBP,eAAW,IAAX;;AAEA,kBAAI2L,IAAJ;;AAEA5L,SAAKX,GAAL,CAASoB,IAAT,CAAcC,QAAd,CAAwB,oCAAxB;AACAV,SAAKX,GAAL,CAASsB,IAAT,CAAcC,MAAd,CAAsBZ,KAAKX,GAAL,CAASsJ,OAAT,CAAiBtI,OAAvC;;AAEAQ,eAAY;AAAA,eAAMb,KAAKX,GAAL,CAASsJ,OAAT,CAAiBtI,OAAjB,CAAyBK,QAAzB,CAAmC,WAAnC,CAAN;AAAA,KAAZ,EAAoE,EAApE;AACAG,eAAY;AAAA,eAAMb,KAAKX,GAAL,CAASsJ,OAAT,CAAiBtI,OAAjB,CAAyBU,WAAzB,CAAsC,aAAtC,CAAN;AAAA,KAAZ,EAAyEf,KAAKX,GAAL,CAASsJ,OAAT,CAAiB1H,yBAA1F;AACH,CAVD;;AAaA;;;;;;;;;AASA4P,QAAQ/P,KAAR,GAAgB,YAAY;AACxBb,eAAW,KAAX;;AAEA2Q,aAAS9E,IAAT;;AAEA9L,SAAKX,GAAL,CAASsJ,OAAT,CAAiBtI,OAAjB,CAAyBU,WAAzB,CAAsC,WAAtC;;AAEAF,eAAY,YAAM;AACdb,aAAKX,GAAL,CAASoB,IAAT,CAAcM,WAAd,CAA2Bf,KAAKT,MAAL,CAAYwP,gBAAvC;AACA/O,aAAKX,GAAL,CAASsJ,OAAT,CAAiBtI,OAAjB,CAAyBE,MAAzB,GAAkCG,QAAlC,CAA4C,aAA5C,EAA4DK,WAA5D,CAAyE,WAAzE;AACAf,aAAKX,GAAL,CAASsJ,OAAT,CAAiBC,WAAjB,CAA8B,CAA9B,EAAkCzH,SAAlC,GAA8C,EAA9C;AAEH,KALD,EAKGnB,KAAKX,GAAL,CAASsJ,OAAT,CAAiB1H,yBALpB;AAMH,CAbD;;AAiBA;;;kBAGe4P,O;;;;;;AC3Uf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,UAAU;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,MAAM;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,eAAe;AAC3B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM,OAAO,KAAK,EAAE,KAAK,EAAE,KAAK;AAC3C,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,MAAM,GAAG,KAAK,EAAE,KAAK;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,EAAE;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO,KAAK;AACvB,WAAW,OAAO,KAAK;AACvB,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;;AAED;AACA,UAAU;AACV,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;;AAED;AACA,UAAU;AACV,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,4BAA4B,8BAA8B;;AAE1D;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA,gBAAgB;;AAEhB;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iCAAiC;;AAEjC,oCAAoC;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,sCAAsC;;AAEtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA,kCAAkC,EAAE;;AAEpC;AACA;AACA;AACA,iBAAiB;AACjB;AACA,gCAAgC,EAAE;;AAElC;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,WAAW;AACtB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C,2BAA2B,cAAc;AACzC,2BAA2B,gCAAgC;AAC3D,yBAAyB,gCAAgC;AACzD;AACA,yBAAyB,4BAA4B;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB;AACA;AACA;AACA,4BAA4B,gCAAgC;;AAE5D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,mGAAmG,GAAG;AACtG;;AAEA;AACA;AACA;AACA,KAAK;AAAA;AACL,CAAC;AACD;AACA,CAAC;AACD;AACA;;AAEA,CAAC;;;;;;;;;;;;;;;;ACllFD;;IAAY7Q,I;;;;;;AAGZ;;;;;;;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A;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;;AAEA,CAAC,E;;;;;;ACnFD;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,KAAK;;AAEL;AACA,E;;;;;;AC5BA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,E;;;;;;ACtGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA,E;;;;;;ACjEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,E;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA,E;;;;;;ACjHA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA,E;;;;;;ACnGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;ACpCA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;AClCA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC;AAChC;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,KAAK;AACL;AACA;AACA,SAAS;;AAET,KAAK;AACL;AACA;;AAEA;AACA,E;;;;;;AC/DA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;AClBA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACpBA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;ACxBA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,E;;;;;;ACdA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,E;;;;;;AChBA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,E;;;;;;ACdA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;AC/BA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,SAAS;;AAET,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA,E;;;;;;AC/CA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;ACxBA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;ACzBA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,E;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;;AAEA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,SAAS;AACrD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAqD,SAAS;AAC9D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;;AAGA,CAAC,E;;;;;;ACtVD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;;AAEA,CAAC,E;;;;;;ACrDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,UAAU;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gCAAgC,UAAU;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA,wCAAwC,KAAK;AAC7C;AACA;;AAEA;AACA;AACA;;;AAGA;;;AAGA,CAAC,E;;;;;;AC9VD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;;AAGD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD,wDAAwD;AACxD,wDAAwD;;AAExD;AACA;AACA;AACA,uDAAuD;AACvD,0DAA0D,oCAAoC;AAC9F;;AAEA,SAAS;;AAET;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;;AAEvD;AACA,wDAAwD;AACxD,yDAAyD;AACzD,wDAAwD;AACxD,mEAAmE;AACnE;;AAEA,SAAS;;AAET;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,SAAS;AACvD;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;;AAGf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,aAAa;AACb;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,iDAAiD,KAAK;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6DAA6D,4BAA4B;AACzF;AACA,iBAAiB;AACjB;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA,CAAC,E;;;;;;AC1yCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;;;AAGL;AACA;AACA,sCAAsC,KAAK;AAC3C;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA;AACA,4CAA4C,KAAK;AACjD;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA;AACA,4CAA4C,KAAK;AACjD;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sCAAsC,KAAK;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,SAAS;AACT,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yCAAyC,KAAK;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,KAAK;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,E;;;;;;AC1gBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA,8DAA8D,KAAK;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,8DAA8D,KAAK;AACnE;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,iBAAiB;;AAEjB,aAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB;AACrB;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA,CAAC,E;;;;;;ACpYD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA,CAAC,E;;;;;;ACxMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,KAAK;AAC9D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAqD,KAAK;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;;AAEA;;AAEA,aAAa;AACb,0BAA0B,mBAAmB;AAC7C;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uEAAuE,SAAS;AAChF;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb,8DAA8D,KAAK;AACnE;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA,uDAAuD;AACvD;AACA,0DAA0D,KAAK;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA,aAAa;AACb,0DAA0D,KAAK;AAC/D;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,CAAC;;;;;;;ACjrBD;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;AACA,2CAA2C,KAAK,KAAK;AACrD,iCAAiC,IAAI,KAAK,MAAM,IAAI;AACpD,yCAAyC,MAAM;AAC/C;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA,CAAC,E;;;;;;ACpCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;;;AAGA;;;AAGA,CAAC,E;;;;;;AClDD;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;;;;ACjBA;;IAAYzgB,I;;AACZ;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;AARA,mBAAA4gB,CAAS,EAAT;;AAWA;;;;;;;IAOMC,G;AACF,mBAAe;AAAA;;AACX,aAAK7gB,IAAL,GAAYA,IAAZ;AACA,aAAK8I,IAAL;AACA,aAAK4D,MAAL;AACA,aAAKvM,OAAL;AACA,aAAKsI,OAAL;AACA,aAAKD,KAAL;AACA,aAAKsY,SAAL,GAAiB,IAAI9gB,KAAKJ,SAAT,EAAjB;;AAEA,YAAK,CAAC,KAAKI,IAAL,CAAUX,GAAV,CAAcsF,IAAd,CAAmBxB,MAAzB,EAAkC;AAC9B;;AAEH,SAHD,MAGO;AACH,iBAAKmO,UAAL;AACA,iBAAKyP,WAAL;AACH;;AAED,YAAK/gB,KAAKR,GAAL,CAASyP,QAAT,EAAL,EAA2B;AACvBjP,iBAAKX,GAAL,CAASoB,IAAT,CAAcC,QAAd,CAAwB,WAAxB;AACH;;AAEDV,aAAKP,GAAL,CAAU,KAAV,EAAiB,IAAjB;AACH;;AAGD;;;;;;;;;;;;;sCASe;AACX,iBAAKO,IAAL,CAAUZ,MAAV,CAAiBgB,IAAjB,CAAuB,IAAvB;AACA,iBAAKJ,IAAL,CAAUD,OAAV,CAAkBK,IAAlB,CAAwB,IAAxB;AACA;AACA,iBAAK0I,IAAL,CAAU1I,IAAV,CAAgB,IAAhB;AACA,iBAAKsM,MAAL,CAAYtM,IAAZ,CAAkB,IAAlB;AACA,iBAAKD,OAAL,CAAaC,IAAb,CAAmB,IAAnB;AACA,iBAAKqI,OAAL,CAAarI,IAAb,CAAmB,IAAnB;AACH;;AAGD;;;;;;;;;;;;qCASc;AACV,iBAAK4gB,cAAL,GAAsB,KAAKC,aAAL,CAAmBrX,IAAnB,CAAyB,IAAzB,CAAtB;;AAEA,iBAAK5J,IAAL,CAAUH,OAAV,CAAkBuK,EAAlB,CAAsB,mBAAtB,EAA2C,KAAK4W,cAAhD;AACH;;AAGD;;;;;;;;;;;;wCASiB;AACb,iBAAKhhB,IAAL,CAAUH,OAAV,CAAkB6X,GAAlB,CAAuB,mBAAvB,EAA4C,KAAKsJ,cAAjD;;AAEA,iBAAKxY,KAAL,CAAW2P,QAAX;AACH;;;;;;AAKL;;;AAGA;AACA;AACA;;;AAIA;;;;;AAGA3V,OAAO0e,GAAP,GAAa,IAAIL,GAAJ,EAAb;;AAGA;;;kBAGere,OAAO0e,G","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 80);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d0c9b328dd2f252d033c","/**\n *\n * @public\n * @module core\n * @description Holds the different core modules.\n *\n */\nimport detect from \"./detect\";\nimport dom from \"./dom\";\nimport images from \"./images\";\nimport * as util from \"./util\";\nimport config from \"./config\";\nimport env from \"./env\";\nimport log from \"./log\";\nimport api from \"./api\";\nimport cache from \"./cache\";\nimport Analytics from \"./Analytics\";\nimport emitter from \"./emitter\";\nimport resizer from \"./resizer\";\nimport resizes from \"./resizes\";\n\n\nexport {\n    detect,\n    dom,\n    images,\n    util,\n    config,\n    env,\n    log,\n    api,\n    cache,\n    Analytics,\n    emitter,\n    resizer,\n    resizes\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/index.js","/*!\n *\n * \n * @Hobo\n * @author: kitajchuk\n *\n *\n */\nvar utils = require( \"./utils\" ),\n    array = [];\n\n\n/**\n *\n * @class Hobo\n * @classdesc A very small, modular DOM utility for modern web apps.\n * @param {string} selector The goods - String, Element, Collection.\n * @param {element} context The Element used to call `querySelectorAll`\n *\n */\nvar Hobo = function ( selector, context ) {\n    // Hobo version?\n    this._hobo = utils.version;\n\n    // Hobo context\n    this._context = (context && context.nodeType && context.nodeType === 1 ? context : document);\n\n    // Hobo selector / elements\n    // Hobo supports a mixed selector argument\n\n    // Handle Window\n    // Handle Document\n    // Handle DOMElement\n    if ( selector === window || selector === document || (selector.nodeType && selector.nodeType === 1) ) {\n        this._selector = \"\";\n        selector = [ selector ];\n\n    // Handle String\n    } else if ( typeof selector === \"string\" ) {\n        // Trim trailing whitespace from the string\n        selector = utils.trimString( selector );\n\n        // Handle string html => Element creation\n        if ( utils.rTag.test( selector ) ) {\n            // Then remove the doctype - `<!DOCTYPE html>`\n            selector = selector.replace( utils.rDocType, \"\" );\n\n            // Create a dummy `hobo` element\n            // Dump the HTML payload in the `hobo` element\n            // Extract the elements from the `hobo` element\n            var el = document.createElement( \"hobo\" );\n                el.innerHTML = selector;\n\n            // Format elements as a true Array\n            selector = utils.makeArray( el.children );\n\n            el = null;\n\n        // Handle string selector\n        } else {\n            this._selector = selector;\n            selector = utils.makeArray( this._context.querySelectorAll( selector ) );\n        }\n\n    // Handle Collection: NodeList, HTMLCollection, Array\n    } else if ( selector.length !== undefined ) {\n        this._selector = \"\";\n        selector = utils.makeArray( selector );\n    }\n\n    // Hobo events?\n    this._events = {};\n\n    // Hobo length?\n    this.length = selector.length;\n\n    // Hobo elements?\n    for ( var i = this.length; i--; ) {\n        this[ i ] = selector[ i ];\n    }\n\n    // Initial mapping of each nodes data.\n    // Transfer {DOMStringMap} => {hoboDataMap}\n    this.forEach( utils.makeData );\n};\n\n\n// Shim Array-like presentation in console\nHobo.prototype.splice = array.splice;\n\n\n/**\n *\n * @instance\n * @method forEach\n * @param {function} callback The method called on each iteration\n * @memberof Hobo\n * @description Make sure Hobo is iterable like an Array\n *\n */\nHobo.prototype.each = array.forEach;\nHobo.prototype.forEach = array.forEach;\n\n\n/**\n *\n * @instance\n * @method push\n * @param {?} element element1, ..., elementN\n * @memberof Hobo\n * @description Make sure Hobo is pushable like an Array\n *\n */\nHobo.prototype.push = array.push;\n\n\n/**\n *\n * @instance\n * @method map\n * @param {function} callback The method called for each element\n * @memberof Hobo\n * @description Make sure Hobo is mappable like an Array\n *\n */\nHobo.prototype.map = array.map;\n\n\n// Export the main Hobo Class :D\nmodule.exports = Hobo;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/Hobo.js\n// module id = 1\n// module chunks = 0","module.exports = global[\"hobo\"] = require(\"-!./hobo.build.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/dist/hobo.build.js\n// module id = 2\n// module chunks = 0","/*!\n *\n *\n * @Hobo-utils\n * @author: kitajchuk\n *\n *\n */\nvar version = \"0.3.6\",\n\n\n    rData = /^data-/,\n\n\n    rDigit = /\\D/g,\n\n\n    rDashAlpha = /-([\\da-z])/gi,\n\n\n    rTag = /^</,\n\n\n    rJson = /^\\[|\\{/,\n\n\n    rDocType = /^<\\!DOCTYPE\\shtml>/i,\n\n\n    rFront2Back = /^\\s+|\\s+$/g,\n\n\n    trimString = function ( str ) {\n        return str.replace( rFront2Back, \"\" );\n    },\n\n\n    camelCase = function ( string ) {\n        return string.replace( rDashAlpha, function ( all, letter ) {\n            return letter.toUpperCase();\n        });\n    },\n\n\n    makeId = function () {\n        return (\"hobo\" + ( version + Math.random() ).replace( rDigit, \"\" ));\n    },\n\n\n    makeArray = function ( nodes ) {\n        return [].slice.call( nodes );\n    },\n\n\n    makeData = function ( node ) {\n        if ( !node.hoboDataMap ) {\n            node.hoboDataMap = {};\n        }\n\n        if ( node.dataset ) {\n            _mapDataset( node );\n\n        } else if ( node.attributes ) {\n            _mapAttributes( node );\n        }\n    },\n\n\n    storeData = function ( data, node ) {\n        var id,\n            i;\n\n        for ( i in data ) {\n            if ( data.hasOwnProperty( i ) ) {\n                id = camelCase( i );\n\n                node.hoboDataMap[ id ] = data[ i ];\n            }\n        }\n    },\n\n\n    mergeData = function ( data, node ) {\n        for ( var i in node.hoboDataMap ) {\n            if ( node.hoboDataMap.hasOwnProperty( i ) && !data[ i ] ) {\n                data[ i ] = node.hoboDataMap[ i ];\n            }\n        }\n    },\n\n\n    retrieveData = function ( key, node ) {\n        var ret = null;\n\n        // All data mapped into Hobo will be camel-cased\n        key = camelCase( key );\n\n        if ( node.hoboDataMap && node.hoboDataMap[ key ] ) {\n            ret = node.hoboDataMap[ key ];\n        }\n\n        return ret;\n    },\n\n\n    removeData = function ( key, node ) {\n        // All data mapped into Hobo will be camel-cased\n        key = camelCase( key );\n\n        if ( node.hoboDataMap && node.hoboDataMap[ key ] ) {\n            delete node.hoboDataMap[ key ];\n        }\n    },\n\n\n    serializeData = function ( data, prefix ) {\n        var str = [],\n            key,\n            val,\n            i;\n\n        for ( i in data ) {\n            if ( data.hasOwnProperty( i ) ) {\n                key = prefix ? (prefix + \"[\" + i + \"]\") : i;\n                val = data[ i ];\n\n                if ( typeof val === \"object\" ) {\n                    str.push( serializeData( val, key ) );\n\n                } else {\n                    str.push( (encodeURIComponent( key ) + \"=\" + encodeURIComponent( val )) );\n                }\n            }\n        }\n\n        return str.join( \"&\" );\n    },\n\n\n    // DOMStringMap camel-cases data- attributes.\n    // NamedNodeMap is a fallback which supports IE 10.\n    // Data mapped through Hobo must camel-case as well.\n\n\n    _getDataValue = function ( data ) {\n        if ( rJson.test( data ) ) {\n            try {\n                data = JSON.parse( data );\n\n            } catch ( error ) {\n                throw error;\n            }\n        }\n\n        return data;\n    },\n\n\n    // Use {NamedNodeMap}\n    _mapAttributes = function ( node ) {\n        var i = node.attributes.length;\n\n        for ( i; i--; ) {\n            if ( rData.test( node.attributes[ i ].name ) ) {\n                var key = camelCase( node.attributes[ i ].name.replace( rData, \"\" ) );\n\n                node.hoboDataMap[ key ] = _getDataValue( node.attributes[ i ].value );\n            }\n        }\n    },\n\n\n    // Use {DOMStringMap}\n    _mapDataset = function ( node ) {\n        for ( var i in node.dataset ) {\n            if ( node.dataset.hasOwnProperty( i ) ) {\n                node.hoboDataMap[ i ] = _getDataValue( node.dataset[ i ] );\n            }\n        }\n    };\n\n\nmodule.exports = {\n    version: version,\n    rData: rData,\n    rDigit: rDigit,\n    rTag: rTag,\n    rJson: rJson,\n    rDocType: rDocType,\n    rFront2Back: rFront2Back,\n    trimString: trimString,\n    camelCase: camelCase,\n    makeId: makeId,\n    makeArray: makeArray,\n    makeData: makeData,\n    storeData: storeData,\n    retrieveData: retrieveData,\n    mergeData: mergeData,\n    removeData: removeData,\n    serializeData: serializeData\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/utils.js\n// module id = 3\n// module chunks = 0","/*!\n *\n * Event / Animation cycle manager\n *\n * @Controller\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Controller = factory();\n    }\n    \n})(function () {\n    // Private animation functions\n    var raf = window.requestAnimationFrame,\n        caf = window.cancelAnimationFrame,\n    \n    \n    /**\n     *\n     * Event / Animation cycle manager\n     * @constructor Controller\n     * @requires raf\n     * @memberof! <global>\n     *\n     */\n    Controller = function () {\n        return this.init.apply( this, arguments );\n    };\n    \n    Controller.prototype = {\n        constructor: Controller,\n    \n        /**\n         *\n         * Controller constructor method\n         * @memberof Controller\n         * @method Controller.init\n         *\n         */\n        init: function () {\n            /**\n             *\n             * Controller event handlers object\n             * @memberof Controller\n             * @member _handlers\n             * @private\n             *\n             */\n            this._handlers = {};\n    \n            /**\n             *\n             * Controller unique ID\n             * @memberof Controller\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n    \n            /**\n             *\n             * Started iteration flag\n             * @memberof Controller\n             * @member _started\n             * @private\n             *\n             */\n            this._started = false;\n    \n            /**\n             *\n             * Paused flag\n             * @memberof Controller\n             * @member _paused\n             * @private\n             *\n             */\n            this._paused = false;\n    \n            /**\n             *\n             * Timeout reference\n             * @memberof Controller\n             * @member _cycle\n             * @private\n             *\n             */\n            this._cycle = null;\n        },\n    \n        /**\n         *\n         * Controller go method to start frames\n         * @memberof Controller\n         * @method go\n         *\n         */\n        go: function ( fn ) {\n            if ( this._started && this._cycle ) {\n                return this;\n            }\n    \n            this._started = true;\n    \n            var self = this,\n                anim = function () {\n                    self._cycle = raf( anim );\n    \n                    if ( self._started ) {\n                        if ( typeof fn === \"function\" ) {\n                            fn();\n                        }\n                    }\n                };\n    \n            anim();\n        },\n    \n        /**\n         *\n         * Pause the cycle\n         * @memberof Controller\n         * @method pause\n         *\n         */\n        pause: function () {\n            this._paused = true;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Play the cycle\n         * @memberof Controller\n         * @method play\n         *\n         */\n        play: function () {\n            this._paused = false;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Stop the cycle\n         * @memberof Controller\n         * @method stop\n         *\n         */\n        stop: function () {\n            caf( this._cycle );\n    \n            this._paused = false;\n            this._started = false;\n            this._cycle = null;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller add event handler\n         * @memberof Controller\n         * @method on\n         * @param {string} event the event to listen for\n         * @param {function} handler the handler to call\n         *\n         */\n        on: function ( event, handler ) {\n            var events = event.split( \" \" );\n    \n            // One unique ID per handler\n            handler._jsControllerID = this.getUID();\n    \n            for ( var i = events.length; i--; ) {\n                if ( typeof handler === \"function\" ) {\n                    if ( !this._handlers[ events[ i ] ] ) {\n                        this._handlers[ events[ i ] ] = [];\n                    }\n    \n                    // Handler can be stored with multiple events\n                    this._handlers[ events[ i ] ].push( handler );\n                }\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller remove event handler\n         * @memberof Controller\n         * @method off\n         * @param {string} event the event to remove handler for\n         * @param {function} handler the handler to remove\n         *\n         */\n        off: function ( event, handler ) {\n            if ( !this._handlers[ event ] ) {\n                return this;\n            }\n    \n            // Remove a single handler\n            if ( handler ) {\n                this._off( event, handler );\n    \n            // Remove all handlers for event\n            } else {\n                this._offed( event );\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller fire an event\n         * @memberof Controller\n         * @method fire\n         * @param {string} event the event to fire\n         *\n         */\n        fire: function ( event ) {\n            if ( !this._handlers[ event ] ) {\n                return this;\n            }\n    \n            var args = [].slice.call( arguments, 1 );\n    \n            for ( var i = this._handlers[ event ].length; i--; ) {\n                this._handlers[ event ][ i ].apply( this, args );\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Get a unique ID\n         * @memberof Controller\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n    \n            return this._uid;\n        },\n    \n        /**\n         *\n         * Controller internal off method assumes event AND handler are good\n         * @memberof Controller\n         * @method _off\n         * @param {string} event the event to remove handler for\n         * @param {function} handler the handler to remove\n         * @private\n         *\n         */\n        _off: function ( event, handler ) {\n            for ( var i = 0, len = this._handlers[ event ].length; i < len; i++ ) {\n                if ( handler._jsControllerID === this._handlers[ event ][ i ]._jsControllerID ) {\n                    this._handlers[ event ].splice( i, 1 );\n    \n                    break;\n                }\n            }\n        },\n    \n        /**\n         *\n         * Controller completely remove all handlers and an event type\n         * @memberof Controller\n         * @method _offed\n         * @param {string} event the event to remove handler for\n         * @private\n         *\n         */\n        _offed: function ( event ) {\n            for ( var i = this._handlers[ event ].length; i--; ) {\n                this._handlers[ event ][ i ] = null;\n            }\n    \n            delete this._handlers[ event ];\n        }\n    };\n\n    return Controller;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-controller/Controller.js\n// module id = 4\n// module chunks = 0","/*!\n *\n * Use native element selector matching\n *\n * @matchElement\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.matchElement = factory();\n    }\n    \n})(function () {\n\n    /**\n     *\n     * Use native element selector matching\n     * @memberof! <global>\n     * @method matchElement\n     * @param {object} el the element\n     * @param {string} selector the selector to match\n     * @param {boolean} walk should we walk the tree if el is not a match?\n     * @returns element OR null\n     *\n     */\n    var matchElement = function ( el, selector, walk ) {\n        var method = ( el.matches ) ? \"matches\" : ( el.webkitMatchesSelector ) ? \n                                      \"webkitMatchesSelector\" : ( el.mozMatchesSelector ) ? \n                                      \"mozMatchesSelector\" : ( el.msMatchesSelector ) ? \n                                      \"msMatchesSelector\" : ( el.oMatchesSelector ) ? \n                                      \"oMatchesSelector\" : null;\n\n        // Try testing the element against the selector\n        // 0.1 => Method is not undefined\n        // 0.2 => Element passes method call\n        if ( method && el[ method ].call( el, selector ) ) {\n            return el;\n\n        // Keep walking up the DOM if we can - only if `walk` flag is `true`\n        } else if ( walk && el !== document.documentElement && el.parentNode ) {\n            return matchElement( el.parentNode, selector, walk );\n\n        // Otherwise we should not execute an event\n        } else {\n            return null;\n        }\n    };\n\n\n    return matchElement;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/~/properjs-matchelement/matchElement.js\n// module id = 5\n// module chunks = 0","import * as core from \"./core\";\n\n\nlet isActive = false;\nlet isSuppressed = false;\n\n\n/**\n *\n * @public\n * @module overlay\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst overlay = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof overlay\n     * @description Initialize the overlay element.\n     *\n     */\n    init () {\n        if ( core.dom.overlay.element.is( \".is-active\" ) ) {\n            isActive = true;\n\n        } else {\n            core.dom.overlay.element.detach();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method open\n     * @memberof overlay\n     * @description Open the overlay.\n     * @returns {@this}\n     *\n     */\n    open () {\n        if ( isActive || isSuppressed ) {\n            return this;\n        }\n\n        isActive = true;\n\n        core.dom.html.addClass( \"is-overlay-active\" );\n        core.dom.body.append( core.dom.overlay.element );\n\n        setTimeout( () => core.dom.overlay.element.addClass( \"is-active\" ), 10 );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method close\n     * @memberof overlay\n     * @description Close the overlay.\n     * @returns {@this}\n     *\n     */\n    close () {\n        if ( !isActive ) {\n            return this;\n        }\n\n        core.dom.overlay.element.removeClass( \"is-active\" );\n\n        setTimeout( () => {\n            isActive = false;\n\n            core.dom.html.removeClass( \"is-overlay-active\" );\n            core.dom.overlay.element.detach().removeClass( \"is-intro\" );\n\n            this.empty();\n\n        }, core.dom.overlay.elementTransitionDuration );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method empty\n     * @memberof overlay\n     * @description Empty the overlay.\n     *\n     */\n    empty () {\n        core.dom.overlay.elementTitle[ 0 ].innerHTML = \"\";\n    },\n\n\n    /**\n     *\n     * @public\n     * @method suppress\n     * @param {boolean} bool Will it be suppressed?\n     * @memberof overlay\n     * @description Suppress the overlay.\n     *\n     */\n    suppress ( bool ) {\n        isSuppressed = bool;\n\n        if ( isSuppressed && isActive ) {\n            this.close();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setTitle\n     * @param {string} text The text/html to set.\n     * @memberof overlay\n     * @description Add text to the overlay.\n     *\n     */\n    setTitle ( text ) {\n        if ( !isSuppressed ) {\n            core.dom.overlay.elementTitle[ 0 ].innerHTML = text;\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof overlay\n     * @description Is the overlay open?.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return isActive;\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default overlay;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/overlay.js","import env from \"./env\";\n\n\n/**\n *\n * @public\n * @method log\n * @description Normalized app console logger.\n *\n */\nconst log = function ( ...args ) {\n    if ( env.isDev() ) {\n        console.log( args );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default log;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/log.js","/**\n *\n * @public\n * @module util\n * @description Houses app-wide utility methods.\n *\n */\n\n\nimport $ from \"properjs-hobo\";\nimport ImageLoader from \"properjs-imageloader\";\nimport dom from \"./dom\";\nimport config from \"./config\";\nimport detect from \"./detect\";\nimport Hammer from \"hammerjs\";\n\n\n/**\n *\n * @description Add pixel units when inline styling\n * @method px\n * @param {string} str The value to pixel-ify\n * @memberof util\n * @returns {string}\n *\n */\nconst px = function ( str ) {\n    return `${str}px`;\n};\n\n\n/**\n *\n * @description Apply a translate3d transform\n * @method translate3d\n * @param {object} el The element to transform\n * @param {string|number} x The x value\n * @param {string|number} y The y value\n * @param {string|number} z The z value\n * @memberof core.util\n *\n */\nconst translate3d = function ( el, x, y, z ) {\n    el.style[ Hammer.prefixed( el.style, \"transform\" ) ] = `translate3d( ${x}, ${y}, ${z} )`;\n};\n\n\n/**\n *\n * @description Module onImageLoadHander method, handles event\n * @method isElementLoadable\n * @param {object} el The DOMElement to check the offset of\n * @memberof core.util\n * @returns {boolean}\n *\n */\nconst isElementLoadable = function ( el ) {\n    if ( el ) {\n        const bounds = el.getBoundingClientRect();\n\n        return ( bounds.top < (window.innerHeight * 2) );\n    }\n};\n\n\n/**\n *\n * @description Module isElementInViewport method, handles element boundaries\n * @method isElementInViewport\n * @param {object} el The DOMElement to check the offsets of\n * @memberof util\n * @returns {boolean}\n *\n */\nconst isElementInViewport = function ( el ) {\n    if ( el ) {\n        const bounds = el.getBoundingClientRect();\n\n        return ( bounds.top < window.innerHeight && bounds.bottom > 0 );\n    }\n};\n\n\n/**\n *\n * @method getClosestValue\n * @memberof util\n * @param {array} arr The array to process\n * @param {number} closestTo The number to get close to\n * @description Get closest number value without going under\n * @returns {number}\n *\n */\nconst getClosestValue = function ( arr, closestTo ) {\n    // Get the highest number in arr in case it matches nothing.\n    let close = Math.max.apply( null, arr );\n    let i = arr.length;\n\n    for ( i; i--; ) {\n        // Check if it's higher than your number, but lower than your closest value\n        if ( arr[ i ] >= closestTo && arr[ i ] < close ) {\n            close = arr[ i ];\n        }\n    }\n\n    return close;\n};\n\n\n/**\n *\n * @public\n * @method getElementsInView\n * @param {Hobo} $nodes The elements to check\n * @memberof util\n * @description Get only visible elements\n * @returns {Hobo}\n *\n */\nconst getElementsInView = function ( $nodes ) {\n    let i = $nodes.length;\n    const $ret = $( [] );\n\n    for ( i; i--; ) {\n        if ( isElementLoadable( $nodes[ i ] ) ) {\n            $ret.push( $nodes[ i ] );\n        }\n    }\n\n    return $ret;\n};\n\n\n/**\n *\n * @description Update images that have already been loaded\n * @method updateImages\n * @param {Hobo} images The optional argument passed collection to reload\n * @memberof util\n *\n */\nconst updateImages = function ( images ) {\n    images = (images || $( `[${config.imageLoaderAttr}]` ));\n\n    if ( images.length ) {\n        images.removeAttr( config.imageLoaderAttr );\n\n        loadImages( images, noop );\n    }\n};\n\n\n/**\n *\n * @description Fresh query to lazyload images on page\n * @method loadImages\n * @param {object} images Optional collection of images to load\n * @param {function} handler Optional handler for load conditions\n * @param {boolean} useVariant Optional flag to skip loading size variants\n * @param {number} useWidth Optional manual width to determine variant against\n * @memberof util\n * @returns {instance}\n *\n */\nconst loadImages = function ( images, handler, useVariant, useWidth ) {\n    const rQuery = /\\?(.*)$/;\n    const map = function ( vnt ) {\n        return parseInt( vnt, 10 );\n    };\n    let $img = null;\n    let data = null;\n    let dims = null;\n    let vars = null;\n    let width = null;\n    let variant = null;\n    let source = null;\n    let i = null;\n\n    // Normalize the handler\n    handler = (handler || isElementInViewport);\n\n    // Normalize the images\n    images = (images || dom.page.find( config.lazyImageSelector ));\n\n    // Normalize the `useVariant` flag\n    if ( !useVariant && useVariant !== false ) {\n        useVariant = true;\n    }\n\n    // Get the right size image from Squarespace\n    // http://developers.squarespace.com/using-the-imageloader/\n    // Depending on the original upload size, we have these variants\n    // {original, 1500w, 1000w, 750w, 500w, 300w, 100w}\n    i = images.length;\n\n    for ( i; i--; ) {\n        $img = images.eq( i );\n        data = $img.data();\n        width = (useWidth || $img[ 0 ].clientWidth || $img[ 0 ].parentNode.clientWidth || window.innerWidth);\n        source = data.imgSrc.replace( rQuery, \"\" );\n\n        // Pre-process portrait vs landscape using originalSize\n        if ( data.originalSize ) {\n            dims = getOriginalDims( data.originalSize );\n\n            if ( dims.width > dims.height ) {\n                $img.addClass( \"image--wide\" );\n\n            } else {\n                $img.addClass( \"image--tall\" );\n            }\n        }\n\n        if ( useVariant && data.variants ) {\n            vars = data.variants.split( \",\" ).map( map );\n            variant = getClosestValue( vars, width );\n\n            // If the pixel density is higher, use a larger image ?\n            //if ( window.devicePixelRatio > 1 ) {\n                // Splice off the variant that was matched\n            //    vars.splice( vars.indexOf( variant ), 1 );\n\n                // Apply the new, larger variant as the format\n            //    variant = getClosestValue( vars, variant );\n            //}\n\n            $img[ 0 ].setAttribute( config.lazyImageAttr, `${source}?format=${variant}w` );\n        }\n    }\n\n    return new ImageLoader({\n        elements: images,\n        property: config.lazyImageAttr,\n        executor: handler\n    });\n};\n\n\n/**\n *\n * @description Get the applied transition duration from CSS\n * @method getTransitionDuration\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {number}\n *\n */\nconst getTransitionDuration = function ( el ) {\n    let ret = 0;\n    let duration = null;\n    let isSeconds = false;\n    let multiplyBy = 1000;\n\n    if ( el ) {\n        duration = getComputedStyle( el )[ \"transition-duration\" ];\n        isSeconds = String( duration ).indexOf( \"ms\" ) === -1;\n        multiplyBy = isSeconds ? 1000 : 1;\n\n        ret = parseFloat( duration ) * multiplyBy;\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @description All true all the time\n * @method noop\n * @memberof util\n * @returns {boolean}\n *\n */\nconst noop = function () {\n    return true;\n};\n\n\n/**\n *\n * @public\n * @method getOriginalDims\n * @memberof util\n * @param {string} original The original image dims\n * @description Get an object reference to original dims.\n *              Format: \"1600x1600\"\n * @returns {object}\n *\n */\nconst getOriginalDims = function ( original ) {\n    const dims = original.split( \"x\" );\n\n    return {\n        width: parseInt( dims[ 0 ], 10 ),\n        height: parseInt( dims[ 1 ], 10 )\n    };\n};\n\n\n/**\n *\n * @public\n * @method getPageKey\n * @memberof util\n * @description Get the unique page key for cache and such\n * @returns {object}\n *\n */\nconst getPageKey = function () {\n    let ret = null;\n\n    if ( window.location.pathname === config.appRoot ) {\n        ret = config.homepageKey;\n\n    } else {\n        ret = `${window.location.pathname}${window.location.search}`;\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @public\n * @method extendObject\n * @memberof util\n * @param {object} target The target object/array\n * @param {object} arrow The incoming object/array\n * @description Merge objects and arrays by cloning - non-mutable\n * @returns {object}\n *\n */\nconst extendObject = function ( target, arrow ) {\n    let i = null;\n\n    // Never mutate the target\n    const ret = Array.isArray( target ) ? [] : {};\n\n    // Merge Arrays\n    if ( Array.isArray( arrow ) ) {\n        i = target.length;\n\n        for ( i; i--; ) {\n            ret[ i ] = target[ i ];\n        }\n\n        i = arrow.length;\n\n        for ( i; i--; ) {\n            ret[ i ] = arrow[ i ];\n        }\n\n    // Merge Objects\n    } else {\n        for ( i in target ) {\n            if ( target.hasOwnProperty( i ) ) {\n                ret[ i ] = target[ i ];\n            }\n        }\n\n        for ( i in arrow ) {\n            if ( arrow.hasOwnProperty( i ) ) {\n                ret[ i ] = arrow[ i ];\n            }\n        }\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @method getDefaultHammerOptions\n * @memberof core.util\n * @description The default options for Hammer JS.\n *              Disables cssProps for non-touch experiences.\n * @returns {object}\n *\n */\nconst getDefaultHammerOptions = function () {\n    return detect.isDevice() ? {} : {\n        cssProps: {\n            contentZoomingString: false,\n            tapHighlightColorString: false,\n            touchCalloutString: false,\n            touchSelectString: false,\n            userDragString: false,\n            userSelectString: false\n        }\n    };\n};\n\n\n/**\n *\n * Get the applied transform values from CSS\n * @method getTransformValues\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {object}\n *\n */\nconst getTransformValues = function ( el ) {\n    if ( !el ) {\n        return null;\n    }\n\n    const transform = window.getComputedStyle( el )[ Hammer.prefixed( el.style, \"transform\" ) ];\n    const values = transform.replace( /matrix|3d|\\(|\\)|\\s/g, \"\" ).split( \",\" );\n    const ret = {};\n\n    // No Transform\n    if ( values[ 0 ] === \"none\" ) {\n        ret.x = 0;\n        ret.y = 0;\n        ret.z = 0;\n\n    // Matrix 3D\n    } else if ( values.length === 16 ) {\n        ret.x = parseFloat( values[ 12 ] );\n        ret.y = parseFloat( values[ 13 ] );\n        ret.z = parseFloat( values[ 14 ] );\n\n    } else {\n        ret.x = parseFloat( values[ 4 ] );\n        ret.y = parseFloat( values[ 5 ] );\n        ret.z = 0;\n    }\n\n    return ret;\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport {\n    px,\n    noop,\n    getPageKey,\n    loadImages,\n    translate3d,\n    extendObject,\n    updateImages,\n    isElementLoadable,\n    getElementsInView,\n    getTransformValues,\n    isElementInViewport,\n    getTransitionDuration,\n    getDefaultHammerOptions\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/util.js","/*!\n *\n * A base set of easing methods\n * Most of which were found here:\n * https://gist.github.com/gre/1650294\n *\n * @Easing\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Easing = factory();\n    }\n    \n})(function () {\n\n    /**\n     *\n     * Easing functions\n     * @namespace Easing\n     * @memberof! <global>\n     *\n     */\n    var Easing = {\n        /**\n         *\n         * Produce a linear ease\n         * @method linear\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        linear: function ( t ) { return t; },\n        \n        /**\n         *\n         * Produce a swing ease like in jQuery\n         * @method swing\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        swing: function ( t ) { return (1-Math.cos( t*Math.PI ))/2; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuad: function ( t ) { return t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuad: function ( t ) { return t*(2-t); },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuad: function ( t ) { return t<0.5 ? 2*t*t : -1+(4-2*t)*t; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInCubic: function ( t ) { return t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutCubic: function ( t ) { return (--t)*t*t+1; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutCubic: function ( t ) { return t<0.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuart: function ( t ) { return t*t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuart: function ( t ) { return 1-(--t)*t*t*t; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuart: function ( t ) { return t<0.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuint: function ( t ) { return t*t*t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuint: function ( t ) { return 1+(--t)*t*t*t*t; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuint: function ( t ) { return t<0.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t; }\n    };\n    \n    \n    return Easing;\n\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-easing/Easing.js\n// module id = 9\n// module chunks = 0","import $ from \"properjs-hobo\";\nimport * as util from \"./util\";\n\n\nconst $_jsOverlay = $( \".js-overlay\" );\nconst $_jsProject = $( \".js-project-view\" );\nconst $_jsGallery = $( \".js-gallery\" );\n\n\n/**\n *\n * @public\n * @module dom\n * @description Holds high-level cached Nodes.\n *\n */\nconst dom = {\n    /**\n     *\n     * @public\n     * @member doc\n     * @memberof dom\n     * @description The cached document node.\n     *\n     */\n    doc: $( document ),\n\n\n    /**\n     *\n     * @public\n     * @member html\n     * @memberof dom\n     * @description The cached documentElement node.\n     *\n     */\n    html: $( document.documentElement ),\n\n\n    /**\n     *\n     * @public\n     * @member body\n     * @memberof dom\n     * @description The cached body node.\n     *\n     */\n    body: $( document.body ),\n\n\n    /**\n     *\n     * @public\n     * @member header\n     * @memberof dom\n     * @description The cached header node.\n     *\n     */\n    header: $( \".js-header\" ),\n\n\n    /**\n     *\n     * @public\n     * @member nav\n     * @memberof dom\n     * @description The cached nav node.\n     *\n     */\n    nav: $( \".js-nav\" ),\n\n\n    /**\n     *\n     * @public\n     * @member intro\n     * @memberof dom\n     * @description The cached intro node?\n     *\n     */\n    intro: $( \".js-intro\" ),\n\n\n    /**\n     *\n     * @public\n     * @member overlay\n     * @memberof dom\n     * @description The cached overlay node.\n     *\n     */\n    overlay: {\n        element: $_jsOverlay,\n        elementTitle: $_jsOverlay.find( \".js-overlay-title\" ),\n        elementTransitionDuration: util.getTransitionDuration( $_jsOverlay[ 0 ] )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member gallery\n     * @memberof dom\n     * @description The cached gallery node.\n     *\n     */\n    gallery: {\n        element: $_jsGallery,\n        elementNode: $_jsGallery.find( \".js-gallery-node\" )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member page\n     * @memberof dom\n     * @description The cached page container node.\n     *\n     */\n    page: $( \".js-page\" ),\n\n\n    /**\n     *\n     * @public\n     * @member project\n     * @memberof dom\n     * @description The project view node.\n     *\n     */\n    project: {\n        element: $_jsProject,\n        elementPane: $_jsProject.find( \".js-project-view-pane\" ),\n        elementTransitionDuration: util.getTransitionDuration( $_jsProject[ 0 ] )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member root\n     * @memberof dom\n     * @description The cached root node.\n     *\n     */\n    root: $( \".js-root\" ),\n\n\n    /**\n     *\n     * @public\n     * @member main\n     * @memberof dom\n     * @description The cached main node.\n     *\n     */\n    main: $( \".js-main\" )\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default dom;\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/dom.js","/*!\n *\n * A simple tween class using requestAnimationFrame\n *\n * @Tween\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Tween = factory();\n    }\n    \n})(function () {\n\n    var Easing = require( \"properjs-easing\" ),\n        defaults = {\n            ease: Easing.linear,\n            duration: 600,\n            from: 0,\n            to: 0,\n            delay: 0,\n            update: function () {},\n            complete: function () {}\n        };\n    \n    \n    /**\n     *\n     * Tween function\n     * @constructor Tween\n     * @requires raf\n     * @requires Easing\n     * @param {object} options Tween animation settings\n     * <ul>\n     * <li>duration - How long the tween will last</li>\n     * <li>from - Where to start the tween</li>\n     * <li>to - When to end the tween</li>\n     * <li>update - The callback on each iteration</li>\n     * <li>complete - The callback on end of animation</li>\n     * <li>ease - The easing function to use</li>\n     * <li>delay - How long to wait before animation</li>\n     * </ul>\n     * @memberof! <global>\n     *\n     */\n    var Tween = function ( options ) {\n        // Normalize options\n        options = (options || {});\n    \n        // Normalize options\n        for ( var i in defaults ) {\n            if ( options[ i ] === undefined ) {\n                options[ i ] = defaults[ i ];\n            }\n        }\n    \n        var tweenDiff = (options.to - options.from),\n            startTime = null,\n            rafTimer = null,\n            isStopped = false;\n    \n        function animate( rafTimeStamp ) {\n            if ( isStopped ) {\n                return;\n            }\n    \n            if ( startTime === null ) {\n                startTime = rafTimeStamp;\n            }\n    \n            var animDiff = (rafTimeStamp - startTime),\n                tweenTo = (tweenDiff * options.ease( animDiff / options.duration )) + options.from;\n    \n            if ( typeof options.update === \"function\" ) {\n                options.update( tweenTo );\n            }\n    \n            if ( animDiff > options.duration ) {\n                if ( typeof options.complete === \"function\" ) {\n                    options.complete( options.to );\n                }\n    \n                cancelAnimationFrame( rafTimer );\n    \n                rafTimer = null;\n    \n                return false;\n            }\n    \n            rafTimer = requestAnimationFrame( animate );\n        }\n    \n        setTimeout(function () {\n            rafTimer = requestAnimationFrame( animate );\n    \n        }, options.delay );\n    \n        this.stop = function () {\n            isStopped = true;\n    \n            cancelAnimationFrame( rafTimer );\n    \n            rafTimer = null;\n        };\n    };\n    \n    \n    return Tween;\n\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-tween/Tween.js\n// module id = 11\n// module chunks = 0","import $ from \"properjs-hobo\";\nimport * as core from \"./core\";\nimport Menu from \"./Menu\";\nimport debounce from \"properjs-debounce\";\nimport overlay from \"./overlay\";\nimport bar from \"./bar\";\nimport Hammer from \"hammerjs\";\nimport Easing from \"properjs-easing\";\nimport Tween from \"properjs-tween\";\nimport VideoVimeo from \"./video/VideoVimeo\";\n\n\n\n/**\n *\n * @public\n * @module gallery\n * @description Handles single view images.\n *\n */\nconst gallery = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof gallery\n     * @description Initialize the gallery element.\n     *\n     */\n    init () {\n        this.tween = null;\n        this.menu = new Menu( core.dom.gallery.element, true );\n\n        // Image\n        this.$image = $( new Image() );\n        this.$image[ 0 ].className = \"gallery__image figure__image image\";\n\n        // Video\n        this.videoData = null;\n        this.$videoWrap = $( document.createElement( \"div\" ) );\n        this.$videoWrap[ 0 ].className = \"_video gallery__video\";\n        this.$video = $( document.createElement( \"video\" ) );\n        this.$video[ 0 ].className = \"_video__element\";\n        this.$videoWrap.append( this.$video );\n\n        core.dom.gallery.elementNode.append( this.$image );\n        core.dom.gallery.elementNode.append( this.$videoWrap );\n\n        if ( core.detect.isDevice() ) {\n            this.bindSwipe();\n\n        } else {\n            this.bindClick();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindSwipe\n     * @memberof gallery\n     * @description Bind Hammerjs touch events.\n     *\n     */\n    bindSwipe () {\n        this._onTap = this.onTap.bind( this );\n        this._onSwipe = this.onSwipe.bind( this );\n        this._onPanmove = this.onPanmove.bind( this );\n        this._onPanend = this.onPanend.bind( this );\n\n        this.tap = new Hammer( core.dom.gallery.element[ 0 ], core.util.getDefaultHammerOptions() );\n        this.tap.on( \"tap\", this._onTap );\n\n        this.swipe = new Hammer( core.dom.gallery.elementNode[ 0 ], core.util.getDefaultHammerOptions() );\n        this.swipe.on( \"panmove\", this._onPanmove );\n        this.swipe.on( \"panend\", this._onPanend );\n        this.swipe.on( \"swipe\", this._onSwipe );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindClick\n     * @memberof gallery\n     * @description Bind Mouse events.\n     *\n     */\n    bindClick () {\n        core.dom.gallery.element.on( \"click\", debounce( this.onClick.bind( this ), 200, true ) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onTap\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle tap event.\n     *\n     */\n    onTap ( e ) {\n        if ( e.target !== this.$video[ 0 ] ) {\n            core.emitter.fire( \"app--gallery-background\" );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onPanmove\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle panning event.\n     *\n     */\n    onPanmove ( e ) {\n        e.preventDefault();\n\n        if ( !this.tween ) {\n            core.util.translate3d(\n                core.dom.gallery.elementNode[ 0 ],\n                core.util.px( (e.deltaX / 3) ),\n                0,\n                0\n            );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onPanend\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle end of pan event.\n     *\n     */\n    onPanend () {\n        if ( !this.tween ) {\n            const transform = core.util.getTransformValues( core.dom.gallery.elementNode[ 0 ] );\n            const isLeft = (transform.x < 0);\n\n            this.tween = new Tween({\n                to: 0,\n                from: Math.abs( transform.x ),\n                ease: Easing.easeInOutCubic,\n                update: ( x ) => {\n                    core.util.translate3d(\n                        core.dom.gallery.elementNode[ 0 ],\n                        core.util.px( (isLeft ? -x : x) ),\n                        0,\n                        0\n                    );\n                },\n                complete: () => {\n                    this.tween = null;\n                },\n                duration: 200\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onSwipe\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle `swipe` event.\n     *\n     */\n    onSwipe ( e ) {\n        e.preventDefault();\n\n        const transform = core.util.getTransformValues( core.dom.gallery.elementNode[ 0 ] );\n        const isLeft = (e.direction === Hammer.DIRECTION_LEFT);\n\n        if ( !this.tween ) {\n            this.tween = new Tween({\n                to: window.innerWidth,\n                from: Math.abs( transform.x ),\n                ease: Easing.easeInOutCubic,\n                update: ( x ) => {\n                    core.util.translate3d(\n                        core.dom.gallery.elementNode[ 0 ],\n                        core.util.px( (isLeft ? -x : x) ),\n                        0,\n                        0\n                    );\n                },\n                complete: () => {\n                    this.empty();\n\n                    core.emitter.fire( \"app--gallery-image\", (isLeft ? Hammer.DIRECTION_RIGHT : Hammer.DIRECTION_LEFT) );\n\n                    setTimeout( () => {\n                        this.tween = null;\n\n                        core.util.translate3d(\n                            core.dom.gallery.elementNode[ 0 ],\n                            0,\n                            0,\n                            0\n                        );\n\n                    }, (overlay.isActive() ? core.dom.overlay.elementTransitionDuration : 10) );\n                },\n                duration: 200\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof onClick\n     * @param {object} e The Event object\n     * @description Handle gallery click event.\n     *\n     */\n    onClick ( e ) {\n        if ( e.target === core.dom.gallery.elementNode[ 0 ] || overlay.isActive() ) {\n            this.handleClick( e );\n\n        } else {\n            core.emitter.fire( \"app--gallery-background\" );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof handleClick\n     * @param {object} e The Event object\n     * @description Handle gallery click, move forward/backward.\n     *\n     */\n    handleClick ( e ) {\n        const rect = (this.videoData ? this.$video[ 0 ] : this.$image[ 0 ]).getBoundingClientRect();\n        let direction = null;\n\n        if ( e.clientX <= (rect.width / 2 + rect.left) && !overlay.isActive() ) {\n            direction = Hammer.DIRECTION_LEFT;\n\n        } else {\n            direction = Hammer.DIRECTION_RIGHT;\n        }\n\n        core.emitter.fire( \"app--gallery-image\", direction );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method open\n     * @memberof gallery\n     * @description Open the gallery.\n     *\n     */\n    open () {\n        if ( !this.menu.isActive() ) {\n            this.menu.open();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method close\n     * @memberof gallery\n     * @description Close the gallery.\n     *\n     */\n    close () {\n        if ( this.menu.isActive() ) {\n            this.menu.close();\n\n            this.empty();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method empty\n     * @memberof gallery\n     * @description Empty the gallery.\n     *\n     */\n    empty () {\n        this.$image[ 0 ].src = \"\";\n\n        if ( this.videoData ) {\n            this.$video[ 0 ].innerHTML = \"\";\n            this.videoData = null;\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setImage\n     * @param {Hobo} $image The image to create a full view of.\n     * @memberof gallery\n     * @description Apply an image to the gallery view.\n     *\n     */\n    setImage ( $image ) {\n        this.empty();\n\n        const data = $image.data();\n\n        core.dom.gallery.element.removeClass( \"is-video\" );\n\n        bar.load();\n        this.open();\n        this.$image.removeAttr( core.config.imageLoaderAttr ).attr({\n            \"data-img-src\": data.imgSrc,\n            \"data-variants\": data.variants,\n            \"data-original-size\": data.originalSize\n        });\n\n        core.util.loadImages( this.$image, core.util.noop, true, window.innerWidth ).on( \"done\", () => {\n            bar.stop();\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setVideo\n     * @param {object} vData The vimeo api data.\n     * @memberof gallery\n     * @description Apply a video to the gallery view.\n     *\n     */\n    setVideo ( vData ) {\n        this.empty();\n        this.videoData = vData;\n\n        const files = VideoVimeo.logVideoFiles( this.videoData );\n        const file = VideoVimeo.getVideoFile( files );\n\n        core.dom.gallery.element.addClass( \"is-video\" );\n\n        this.open();\n        this.$videoWrap[ 0 ].style.paddingBottom = `${((this.videoData.height / this.videoData.width) * 100)}%`;\n\n        // Avoid always playing the first video loaded each time\n        if ( core.detect.isDevice() ) {\n            this.$video[ 0 ].setAttribute( \"poster\", this.videoData.pictures.sizes[ this.videoData.pictures.sizes.length - 1 ].link );\n            this.$video[ 0 ].setAttribute( \"controls\", true );\n        }\n\n        this.$video[ 0 ].src = file;\n        this.$video[ 0 ].load();\n        this.$video[ 0 ].play();\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default gallery;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/gallery.js","import Easing from \"properjs-easing\";\nimport Tween from \"properjs-tween\";\nimport PageController from \"properjs-pagecontroller\";\nimport $ from \"properjs-hobo\";\nimport * as core from \"./core\";\nimport about from \"./about\";\nimport indexes from \"./indexes\";\nimport listing from \"./indexes/listing\";\nimport projects from \"./projects\";\nimport overlay from \"./overlay\";\nimport gallery from \"./gallery\";\nimport Project from \"./projects/Project\";\n\n\n/**\n *\n * @public\n * @namespace router\n * @description Handles async web app routing for nice transitions.\n *\n */\nconst router = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof router\n     * @description Initialize the router module.\n     *\n     */\n    init () {\n        this.state = {};\n        this.navData = core.dom.nav.data();\n        this.pageData = core.dom.page.data();\n        this.pageDuration = core.util.getTransitionDuration( core.dom.page[ 0 ] );\n        this.tweenScroll = null;\n        this.$rootPanel = core.dom.main.find( \".js-main--garberco\" );\n        this.prepPage();\n        this.bindEmptyHashLinks();\n        this.initPageController();\n\n        core.log( \"router initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method route\n     * @param {string} path The uri to route to\n     * @memberof router\n     * @description Trigger app to route a specific page. [Reference]{@link https://github.com/ProperJS/Router/blob/master/Router.js#L222}\n     *\n     */\n    route ( path ) {\n        this.controller.getRouter().trigger( path );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method push\n     * @param {string} path The uri to route to\n     * @param {function} cb Optional callback to fire\n     * @memberof router\n     * @description Trigger a silent route with a supplied callback.\n     *\n     */\n    push ( path, cb ) {\n        this.controller.routeSilently( path, (cb || core.util.noop) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method redirect\n     * @memberof router\n     * @description Handle 404 / Invalid page hit.\n     *\n     */\n    redirect () {\n        window.location.href = window.location.origin;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method initPageController\n     * @memberof router\n     * @description Create the PageController instance.\n     *\n     */\n    initPageController () {\n        this.controller = new PageController( {} );\n\n        this.controller.setConfig([\n            \"*\"\n        ]);\n\n        this.controller.setModules([\n            about,\n            indexes,\n            listing,\n            projects\n        ]);\n\n        this.controller.on( \"page-controller-router-transition-out\", this.changePageOut.bind( this ) );\n        this.controller.on( \"page-controller-router-refresh-document\", this.changeContent.bind( this ) );\n        this.controller.on( \"page-controller-router-transition-in\", this.changePageIn.bind( this ) );\n        this.controller.on( \"page-controller-initialized-page\", this.initPage.bind( this ) );\n        this.controller.on( \"page-controller-router-samepage\", this.samePage.bind( this ) );\n\n        this.controller.initPage();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method prepPage\n     * @memberof router\n     * @description Perform actions before PageController init callback.\n     *\n     */\n    prepPage () {\n        this.root = null;\n\n        // Index?\n        // Indexes will already have the root gridwall loaded\n        // Offcanvas/Project paths will need to manually load the root index\n        if ( this.pageData.type !== \"index\" ) {\n            if ( this.pageData.type === \"offcanvas\" ) {\n                this.root = \"/\";\n\n            } else {\n                this.navData.appTree.forEach(( indexItem ) => {\n                    if ( indexItem.items ) {\n                        indexItem.items.forEach(( collectionItem ) => {\n                            if ( collectionItem.collection.id === this.pageData.id ) {\n                                this.root = indexItem.collection.fullUrl;\n                            }\n                        });\n                    }\n                });\n            }\n\n            this.root = (this.root || \"/\");\n            this.loadRootIndex();\n\n        } else {\n            this.root = window.location.pathname;\n        }\n\n        core.dom.root.attr( \"href\", this.root );\n\n        core.dom.root.on( \"click\", () => {\n            core.dom.html.removeClass( core.config.offcanvasClasses );\n\n            core.emitter.fire( \"app--root\" );\n        });\n\n        core.emitter.on( \"app--project-ended\", () => {\n            if ( !this.isPop ) {\n                this.route( this.root );\n            }\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method initPage\n     * @param {object} data The PageController data object\n     * @memberof router\n     * @description Perform actions after PageController init callback.\n     *\n     */\n    initPage ( /* data */ ) {\n        core.dom.nav.detach();\n        // core.dom.page.detach();\n\n        if ( !core.env.isConfig() ) {\n            core.dom.page.detach();\n        }\n\n        core.dom.html.removeClass( \"is-clipped\" );\n        core.dom.body.removeClass( \"is-clipped\" );\n\n        window.addEventListener( \"popstate\", this.handlePopstate.bind( this ), false );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method samePage\n     * @memberof router\n     * @description Handle logo click on root index, or homepage.\n     *\n     */\n    samePage () {\n        if ( window.location.pathname === this.root && !this.tweenScroll && this.$rootPanel[ 0 ].scrollTop > 0 ) {\n            this.tweenScroll = new Tween({\n                to: 0,\n                from: this.$rootPanel[ 0 ].scrollTop,\n                ease: Easing.easeInOutCubic,\n                update: ( top ) => {\n                    this.$rootPanel[ 0 ].scrollTop = top;\n                },\n                complete: () => {\n                    this.tweenScroll = null;\n                },\n                duration: 400\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handlePopstate\n     * @memberof router\n     * @description Process actions to take on popstate.\n     *\n     */\n    handlePopstate () {\n        this.isPop = true;\n\n        let $tile = null;\n        let match = window.location.pathname.match( /^\\/$|^\\/about\\/$|^\\/index\\/$/g );\n\n        // GarberCo?\n        // About?\n        // Index?\n        if ( match && match[ 0 ] ) {\n            match = match[ 0 ].replace( /\\//g, \"\" );\n            match = match ? match : \"garberco\";\n\n            core.dom.main[ 0 ].id = `is-main--${match}`;\n\n            // GarberCo?\n            if ( match === core.config.rootUrlId ) {\n                core.dom.html.removeClass( core.config.offcanvasClasses );\n                //core.dom.html.removeClass( \"is-neverflow\" );\n            }\n\n            // Project?\n            if ( Project.isActive() ) {\n                core.emitter.fire( \"app--project-ended\" );\n            }\n\n            // Overlay?\n            overlay.close();\n\n        // Project?\n        } else {\n            $tile = $( `.js-index-tile[href*='${window.location.pathname}']` );\n            $tile.trigger( \"mouseenter\" );\n            $tile.trigger( \"click\" );\n        }\n\n        // Gallery?\n        gallery.close();\n\n        this.isPop = false;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method loadRootIndex\n     * @memberof router\n     * @description Load the parent Index for the current collection.\n     *\n     */\n    loadRootIndex () {\n        core.api.collection(\n            this.root,\n            { format: \"html\" },\n            { dataType: \"html\" }\n\n        ).then(( response ) => {\n            const doc = this.parseDoc( response );\n\n            core.emitter.fire( \"app--load-root\", doc.pageHtml );\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method loadFullIndex\n     * @param {function} cb The callback to fire\n     * @memberof router\n     * @description Load the parent Index JSON to render full Index view.\n     *\n     */\n    loadFullIndex ( cb ) {\n        core.api.collection(\n            this.root,\n            { format: \"json\" },\n            { dataType: \"json\" }\n\n        ).then( cb );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method parseDoc\n     * @param {string} html The responseText to parse out\n     * @memberof router\n     * @description Get the DOM information to cache for a request.\n     * @returns {object}\n     *\n     */\n    parseDoc ( html ) {\n        let doc = document.createElement( \"html\" );\n        let page = null;\n\n        doc.innerHTML = html;\n\n        doc = $( doc );\n        page = doc.find( \".js-page\" );\n\n        return {\n            $doc: doc,\n            $page: page,\n            pageData: page.data(),\n            pageHtml: page[ 0 ].innerHTML\n        };\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindEmptyHashLinks\n     * @memberof router\n     * @description Suppress #hash links.\n     *\n     */\n    bindEmptyHashLinks () {\n        core.dom.body.on( \"click\", \"[href^='#']\", ( e ) => e.preventDefault() );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changePageOut\n     * @memberof router\n     * @description Trigger transition-out animation.\n     *\n     */\n    changePageOut () {\n        core.dom.html.addClass( \"is-routing\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changeContent\n     * @param {object} data The PageController data object\n     * @memberof router\n     * @description Swap the new content into the DOM.\n     *\n     */\n    changeContent ( data ) {\n        const doc = this.parseDoc( data.response );\n\n        core.dom.page[ 0 ].innerHTML = doc.pageHtml;\n\n        core.emitter.fire( \"app--analytics-push\", doc );\n\n        this.pageData = doc.$page.data();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changePageIn\n     * @param {object} data The data object supplied by PageController from PushState\n     * @memberof router\n     * @description Trigger transition-in animation.\n     *\n     */\n    changePageIn ( /* data */ ) {\n        core.dom.html.removeClass( \"is-routing\" );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/router.js","import * as core from \"./core\";\nimport Tween from \"properjs-tween\";\nimport Easing from \"properjs-easing\";\nimport $ from \"properjs-hobo\";\n\n\nlet _instance = null;\nconst $_jsBar = $( '<div class=\"bar\"><div class=\"bar__inner\"></div></div>' );\nconst $_jsInner = $_jsBar.find( \".bar__inner\" );\n\n\n/**\n *\n * @private\n * @class Bar\n * @classdesc Shimmed load bars set a high initial animation duration\n *            that can be stopped and completed upon request.\n * @memberof loading\n *\n */\nclass Bar {\n    constructor () {\n        this.tween = null;\n        this.timeout = 5000;\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method append\n     * @memberof loading.Bar\n     * @description Append the element to the DOM.\n     *\n     */\n    append () {\n        core.dom.body.append( $_jsBar );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method load\n     * @memberof loading.Bar\n     * @description Initialize the load bar ui for progress shim.\n     *\n     */\n    load () {\n        this.append();\n\n        this.tween = new Tween({\n            from: 0,\n            to: window.innerWidth,\n            update: this.update.bind( this ),\n            complete: this.update.bind( this ),\n            ease: Easing.easeInOutCubic,\n            duration: this.timeout\n        });\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method stop\n     * @param {function} callback The function to call when Tween is complete\n     * @memberof loading.Bar\n     * @description Terminate the load bar animation.\n     *\n     */\n    stop ( callback ) {\n        this.tween.stop();\n        this.tween = new Tween({\n            from: this.getFrom(),\n            to: window.innerWidth,\n            update: this.update.bind( this ),\n            complete: this.complete.bind( this, callback ),\n            ease: Easing.easeInOutCubic,\n            duration: 50\n        });\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method update\n     * @param {number} value The new value to tween to\n     * @memberof loading.Bar\n     * @description Animate/Tween the load bar ui.\n     *\n     */\n    update ( value ) {\n        $_jsInner[ 0 ].style.width = core.util.px( value );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method complete\n     * @param {function} callback The function to call when transition is complete\n     * @memberof loading.Bar\n     * @description Complete the load bar ui sequence and detach the node.\n     *\n     */\n    complete ( callback ) {\n        $_jsBar.addClass( \"is-done\" );\n\n        setTimeout( () => {\n            $_jsBar\n                .detach()\n                .removeClass( \"is-done\" );\n            $_jsInner.attr( \"style\", \"\" );\n\n            callback();\n\n        }, core.util.getTransitionDuration( $_jsBar[ 0 ] ) );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method getFrom\n     * @memberof loading.Bar\n     * @description Get the current value to tween from.\\\n     * @returns {number}\n     *\n     */\n    getFrom () {\n        return $_jsInner[ 0 ].clientWidth;\n    }\n}\n\n\n/**\n *\n * @public\n * @namespace bar\n * @description Performs a loader bar interaction.\n * @memberof loading\n *\n */\nconst bar = {\n    /**\n     *\n     * @public\n     * @method load\n     * @param {string} position The placement position for the load bar.\n     * @param {string} color The optional color tone for the load bar.\n     * @memberof loading.bar\n     * @description Shims a \"loading\" progress bar based on... nothing!\n     *\n     */\n    load ( position, color ) {\n        _instance = new Bar( position, color );\n        _instance.load();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method stop\n     * @memberof loading.bar\n     * @description Stops load bar animation and removes the bar instance.\n     *\n     */\n    stop () {\n        if ( _instance ) {\n            _instance.stop(() => {\n                _instance = null;\n            });\n        }\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default bar;\n\n\n// WEBPACK FOOTER //\n// ./source/js/bar.js","/**\n *\n * @public\n * @module config\n * @description Stores app-wide config values.\n *\n */\nconst config = {\n    /**\n     *\n     * @public\n     * @member rootUrlId\n     * @memberof config\n     * @description The urlId for \"/\".\n     *\n     */\n    rootUrlId: \"garberco\",\n\n\n    /**\n     *\n     * @public\n     * @member homepageKey\n     * @memberof config\n     * @description The cache key to use for homepage.\n     *\n     */\n    homepageKey: \"homepage\",\n\n\n    /**\n     *\n     * @public\n     * @member lazyImageSelector\n     * @memberof config\n     * @description The string selector used for images deemed lazy-loadable.\n     *\n     */\n    lazyImageSelector: \".js-lazy-image\",\n\n\n    /**\n     *\n     * @public\n     * @member lazyImageAttr\n     * @memberof config\n     * @description The string attribute for lazy image source URLs.\n     *\n     */\n    lazyImageAttr: \"data-img-src\",\n\n\n    /**\n     *\n     * @public\n     * @member imageLoaderAttr\n     * @memberof config\n     * @description The string attribute ImageLoader gives loaded images.\n     *\n     */\n    imageLoaderAttr: \"data-imageloader\",\n\n\n    /**\n     *\n     * @public\n     * @member offcanvasClasses\n     * @memberof config\n     * @description The string of offcanvas element classNames.\n     *\n     */\n    offcanvasClasses: \"is-offcanvas is-offcanvas--about is-offcanvas--index is-offcanvas--project\"\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/config.js","import Controller from \"properjs-controller\";\n\n\n/**\n *\n * @description Single app instanceof [Controller]{@link https://github.com/ProperJS/Controller} for arbitrary event emitting\n * @member emitter\n * @memberof core\n *\n */\nconst emitter = new Controller();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default emitter;\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/emitter.js","import * as core from \"../core\";\nimport overlay from \"../overlay\";\nimport Menu from \"../Menu\";\nimport Controller from \"properjs-controller\";\nimport bar from \"../bar\";\nimport VideoVimeo from \"../video/VideoVimeo\";\n\n\nlet isActive = false;\nconst animator = new Controller();\n\n\n/**\n *\n * @public\n * @class Project\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index.\n * @memberof projects\n *\n */\nclass Project {\n    constructor ( $node, $info, data ) {\n        isActive = true;\n\n        this.$node = $node;\n        this.$infoScreen = $info;\n        this.$infoButton = core.dom.header.find( \".js-project-info\" );\n        this.menu = new Menu( this.$infoScreen, false );\n        this.data = data;\n        this.$plates = this.$node.find( \".js-project-plate\" );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n        this.$videos = this.$node.find( \".js-video\" );\n        this.isEnded = false;\n\n        this.bindEvents();\n        this.loadProject();\n        this.loadVideos();\n\n        core.log( \"Project\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof projects.Project\n     * @description Bind event handlers for open Project.\n     *\n     */\n    bindEvents () {\n        this._onClickInfo = this.onClickInfo.bind( this );\n\n        this.$infoScreen.on( \"click\", this._onClickInfo );\n        this.$infoButton.on( \"click\", this._onClickInfo );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadProject\n     * @memberof projects.Project\n     * @description Load images with {@link ImageController}.\n     *\n     */\n    loadProject () {\n        // Node must be in DOM for image size to work\n        core.dom.project.elementPane.append( this.$node );\n\n        core.images.handleImages( this.$images, this.onPreload.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadVideos\n     * @memberof projects.Project\n     * @description Load videos from vimeo.\n     *\n     */\n    loadVideos () {\n        this.$videos.forEach(( elem, i ) => {\n            const $video = this.$videos.eq( i );\n            const data = $video.data();\n\n            $video.data( \"instance\", new VideoVimeo( $video, data ) );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method killVideos\n     * @memberof projects.Project\n     * @description Kill videos from vimeo.\n     *\n     */\n    killVideos () {\n        this.$videos.forEach(( elem, i ) => {\n            const $video = this.$videos.eq( i );\n            const data = $video.data();\n\n            if ( data.instance ) {\n                data.instance.destroy();\n                data.instance = null;\n            }\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onClickInfo\n     * @memberof projects.Project\n     * @description Handle Info text/overlay interaction.\n     *\n     */\n    onClickInfo () {\n        if ( core.env.isConfig() && this.menu.isActive() ) {\n            return;\n        }\n\n        if ( this.menu.isActive() ) {\n            this.menu.close();\n\n        } else {\n            this.menu.open();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onPreload\n     * @memberof projects.Project\n     * @description Handle loaded project images.\n     *\n     */\n    onPreload () {\n        bar.stop();\n\n        this.cycleAnimation();\n\n        setTimeout( overlay.close(), (core.dom.project.elementTransitionDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof projects.Project\n     * @description Run raf cycle to handle animations.\n     *\n     */\n    cycleAnimation () {\n        this.onUpdateEmitter();\n\n        animator.stop();\n        animator.go( this.onUpdateEmitter.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updatePlates\n     * @memberof projects.Project\n     * @description Update active plates for the project.\n     *\n     */\n    updatePlates () {\n        let $plate = null;\n        let i = this.$plates.length;\n\n        for ( i; i--; ) {\n            $plate = this.$plates.eq( i );\n\n            if ( core.util.isElementInViewport( $plate[ 0 ] ) ) {\n                $plate.addClass( \"is-active\" );\n\n            } else {\n                $plate.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updatePosition\n     * @memberof projects.Project\n     * @description Determine when to teardown a project.\n     *\n     */\n    updatePosition () {\n        const nodeRect = this.$node[ 0 ].getBoundingClientRect();\n\n        if ( core.dom.project.element[ 0 ].scrollTop !== 0 && Math.floor( nodeRect.bottom ) <= 0 && !this.isEnded ) {\n            this.isEnded = true;\n\n            core.dom.project.element.addClass( \"is-hidden\" );\n\n            core.emitter.fire( \"app--project-ended\" );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onUpdateEmitter\n     * @memberof projects.Project\n     * @description Handle the raf cycle.\n     *\n     */\n    onUpdateEmitter () {\n        this.updatePlates();\n        this.updatePosition();\n\n        core.emitter.fire( \"app--project-scroll\" );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof projects.Project\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n        if ( this._onClickInfo ) {\n            this.$infoScreen.on( \"click\", this._onClickInfo );\n            this.$infoButton.on( \"click\", this._onClickInfo );\n        }\n\n        this.killVideos();\n\n        Project.close();\n    }\n}\n\n\n\n/**\n *\n * @public\n * @static\n * @method isActive\n * @memberof projects.Project\n * @description Test if a project is active.\n * @returns {boolean}\n *\n */\nProject.isActive = function () {\n    return isActive;\n};\n\n\n/**\n *\n * @public\n * @static\n * @method open\n * @memberof projects.Project\n * @description Open the project view element.\n *\n */\nProject.open = function () {\n    isActive = true;\n\n    bar.load();\n\n    core.dom.html.addClass( \"is-offcanvas is-offcanvas--project\" );\n    core.dom.body.append( core.dom.project.element );\n\n    setTimeout( () => core.dom.project.element.addClass( \"is-active\" ), 10 );\n    setTimeout( () => core.dom.project.element.removeClass( \"is-noscroll\" ), core.dom.project.elementTransitionDuration );\n};\n\n\n/**\n *\n * @public\n * @static\n * @method close\n * @memberof projects.Project\n * @description Close the project view element.\n *\n */\nProject.close = function () {\n    isActive = false;\n\n    animator.stop();\n\n    core.dom.project.element.removeClass( \"is-active\" );\n\n    setTimeout( () => {\n        core.dom.html.removeClass( core.config.offcanvasClasses );\n        core.dom.project.element.detach().addClass( \"is-noscroll\" ).removeClass( \"is-hidden\" );\n        core.dom.project.elementPane[ 0 ].innerHTML = \"\";\n\n    }, core.dom.project.elementTransitionDuration );\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Project;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/projects/Project.js","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/hammerjs/hammer.js\n// module id = 18\n// module chunks = 0","import * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @class Menu\n * @classdesc Handle normalized open/close for overlay menus.\n * @param {Hobo} $node The menu element\n *\n */\nclass Menu {\n    constructor ( $node, detached ) {\n        this.$node = $node;\n        this.tDuration = core.util.getTransitionDuration( this.$node[ 0 ] );\n        this.isOpen = false;\n        this.isDetach = detached;\n        //this.scrollPos = core.scroller.getScrollY();\n\n        if ( this.isDetach ) {\n            this.$node.detach();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method open\n     * @memberof menus.Menu\n     * @description Open the menu.\n     *\n     */\n    open () {\n        this.isOpen = true;\n\n        core.dom.html.addClass( \"is-menu-open\" );\n\n        if ( this.isDetach ) {\n            core.dom.body.append( this.$node );\n        }\n\n        // 0.4 => Broadcast the open menu\n        core.emitter.fire( \"app--menu-opened\" );\n\n        setTimeout( () => this.$node.addClass( \"is-active\" ), 10 );\n        setTimeout( () => {\n            this.$node.addClass( \"is-active-events\" );\n            core.dom.html.addClass( \"is-clipped\" );\n            core.dom.body.addClass( \"is-clipped\" );\n\n        }, (this.tDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method close\n     * @memberof menus.Menu\n     * @description Close the menu.\n     *\n     */\n    close () {\n        this.$node.removeClass( \"is-active is-active-events\" );\n        core.dom.html.removeClass( \"is-clipped\" );\n        core.dom.body.removeClass( \"is-clipped\" );\n\n        // 0.3 => Broadcast the closed menu\n        core.emitter.fire( \"app--menu-closed\" );\n\n        setTimeout( () => {\n            this.isOpen = false;\n            core.dom.html.removeClass( \"is-menu-open\" );\n\n            if ( this.isDetach ) {\n                this.$node.detach();\n            }\n\n        }, (this.tDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method toggle\n     * @memberof menus.Menu\n     * @description Open or Close the menu.\n     *\n     */\n    toggle () {\n        if ( this.isOpen ) {\n            this.close();\n\n        } else {\n            this.open();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method isActive\n     * @memberof menus.Menu\n     * @description Check the state of the menu.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return this.isOpen;\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Menu;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/Menu.js","import log from \"./log\";\n\n\n// Singleton\nlet _instance = null;\nlet _initialized = false;\n\n// Session Storage\nlet _cache = {};\nconst _access = \"app-cache\";\nconst _session = window.sessionStorage;\n\n\n/**\n *\n * @public\n * @class Store\n * @param {object} options The Store settings\n * @classdesc Handles how data / content is cached and stored for webapp.\n *\n */\nclass Store {\n    constructor ( options ) {\n        if ( !_instance ) {\n            _instance = this;\n\n            this._opts = options;\n            this._init();\n        }\n\n        return _instance;\n    }\n\n\n    /**\n     *\n     * @private\n     * @instance\n     * @method _init\n     * @memberof Store\n     * @description One time Store initialization\n     *\n     */\n    _init () {\n        if ( _initialized ) {\n            return;\n        }\n\n        _initialized = true;\n\n        this.flush();\n\n        log( \"Singleton Store initialized\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method flush\n     * @memberof Store\n     * @description Manually flush the Local Storage cache\n     *\n     */\n    flush () {\n        // New empty cache\n        _cache = {};\n\n        // Store the new cache object\n        this.save();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method save\n     * @memberof Store\n     * @description Perform the actual synchronous write to Local Storage\n     *\n     */\n    save () {\n        if ( !this._opts.enableStorage || !Store.isStorageSupported ) {\n            log( \"Cache Storage disabled - Not writing to SessionStorage\" );\n            return;\n        }\n\n        _session.setItem( _access, JSON.stringify( _cache ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method slug\n     * @param {string} uri The string to slugify\n     * @memberof Store\n     * @description Slug a uri string\n     * @returns {string}\n     *\n     */\n    slug ( uri ) {\n        uri = uri.replace( /^\\/|\\/$/g, \"\" ).replace( /\\/|\\?|\\&|=|\\s/g, \"-\" ).toLowerCase();\n\n        return uri;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method set\n     * @param {string} id The index key\n     * @param {mixed} val The value to store\n     * @memberof Store\n     * @description Set a key's value in the cache\n     *\n     */\n    set ( id, val ) {\n        id = this.slug( id );\n\n        _cache[ id ] = val;\n\n        this.save();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method get\n     * @param {string} id The index key\n     * @memberof Store\n     * @description Get a key's value from the cache\n     * @returns {mixed}\n     *\n     */\n    get ( id ) {\n        id = (id && this.slug( id ));\n\n        return (id ? this.getValue( _cache[ id ] ) : _cache);\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method getValue\n     * @param {mixed} val The accessed value\n     * @memberof Store\n     * @description Get a value so cache is non-mutable from outside\n     * @returns {mixed}\n     *\n     */\n    getValue ( val ) {\n        const ret = val;\n\n        return ret;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method remove\n     * @param {string} id The index key\n     * @memberof Store\n     * @description Remove a key/val pair from the cache\n     *\n     */\n    remove ( id ) {\n        delete _cache[ id ];\n    }\n}\n\n\n\n/**\n *\n * @public\n * @static\n * @member crumb\n * @memberof Store\n * @description Crumb CSRF token value for website\n *\n */\nStore.crumb = (function () {\n    const ret = RegExp( `(^|; )${encodeURIComponent( \"crumb\" )}=([^;]*)` ).exec( document.cookie );\n\n    return ret ? ret[ 2 ] : null;\n\n})();\n\n\n\n/**\n *\n * @public\n * @static\n * @member isStorageSupported\n * @memberof Store\n * @description Boolean to test local/session storage support\n *\n */\nStore.isStorageSupported = (function () {\n    let ret = true;\n\n    try {\n        _session.setItem( \"app-test\", 1 );\n        _session.removeItem( \"app-test\" );\n\n    } catch ( err ) {\n        ret = false;\n    }\n\n    return ret;\n})();\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Store;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/Store.js","import dom from \"./dom\";\nimport log from \"./log\";\n\n\n/**\n *\n * @public\n * @module detect\n * @description Handles basic detection of touch devices.\n *\n */\nconst detect = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof detect\n     * @description Initializes the detect module.\n     *\n     */\n    init () {\n        this._isTouch = (\"ontouchstart\" in window) || (window.DocumentTouch && document instanceof window.DocumentTouch);\n        this._isMobile = (/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|Opera Mini/gi.test( window.navigator.userAgent ));\n\n        if ( this._isTouch ) {\n            dom.html.addClass( \"is-touchable\" );\n\n        } else {\n            dom.html.addClass( \"is-hoverable\" );\n        }\n\n        log( \"detect initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isMobile\n     * @memberof detect\n     * @description Check for high-end mobile device user agents.\n     * @returns {boolean}\n     *\n     */\n    isMobile () {\n        return this._isMobile;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isTouch\n     * @memberof detect\n     * @description Check whether this is a touch device or not.\n     * [See Modernizr]{@link https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js}\n     * @returns {boolean}\n     *\n     */\n    isTouch () {\n        return this._isTouch;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isDevice\n     * @memberof detect\n     * @description Must be `isMobile` and `isTouch`.\n     * @returns {boolean}\n     *\n     */\n    isDevice () {\n        return (this.isTouch() && this.isMobile());\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isStandalone\n     * @memberof detect\n     * @description Must be window.standalone.\n     * @returns {boolean}\n     *\n     */\n    isStandalone () {\n        return (\"standalone\" in window);\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default detect;\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/detect.js","const DEV = \"development\";\nconst PROD = \"production\";\n\n\n\n/**\n *\n * @public\n * @module env\n * @description Set the app environment.\n *\n */\nconst env = {\n    /**\n     *\n     * @member DEV\n     * @memberof core.env\n     * @description The development environment CONST.\n     *\n     */\n    DEV: DEV,\n\n\n    /**\n     *\n     * @member PROD\n     * @memberof core.env\n     * @description The production environment CONST.\n     *\n     */\n    PROD: PROD,\n\n\n    /**\n     *\n     * @member ENV\n     * @memberof core.env\n     * @description The applied environment ref.\n     *\n     */\n    ENV: (/^localhost|squarespace|^[0-9]{0,3}\\.[0-9]{0,3}\\.[0-9]{0,3}\\.[0-9]{0,3}/g.test( document.domain ) ? DEV : PROD),\n\n\n    /**\n     *\n     * @method isConfig\n     * @memberof env\n     * @description Determine whether we are in Squarespace /config land or not.\n     * @returns {boolean}\n     *\n     */\n    isConfig () {\n        return (window.parent.location.pathname.indexOf( \"/config\" ) !== -1);\n        // return true;\n    },\n\n\n    /**\n     *\n     * @method get\n     * @memberof core.isDev\n     * @description Returns the dev mode status.\n     * @returns {boolean}\n     *\n     */\n    isDev () {\n        return (this.ENV === DEV);\n    },\n\n\n    /**\n     *\n     * @method get\n     * @memberof core.isProd\n     * @description Returns the dev mode status.\n     * @returns {boolean}\n     *\n     */\n    isProd () {\n        return (this.ENV === PROD);\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default env;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/env.js","import ResizeController from \"properjs-resizecontroller\";\n\n\n/**\n *\n * @description Single app instanceof [ResizeController]{@link https://github.com/ProperJS/ResizeController} for raf resize handling\n * @member resizer\n * @memberof core\n *\n */\nconst resizer = new ResizeController();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default resizer;\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/resizer.js","import * as core from \"../core\";\nimport mediabox from \"./mediabox\";\nimport AutoplayHandler from \"./AutoplayHandler\";\n\n\n/**\n *\n * @public\n * @class VideoVimeo\n * @memberof video\n * @classdesc Video default for third-party service embeds.\n * @param {Hobo} $node The element to inject the video module into\n * @param {object} data The video data to work with\n *\n */\nclass VideoVimeo {\n    constructor ( $node, data ) {\n        this.$node = $node;\n        this.$video = this.$node.find( \".js-video-element\" );\n        this.$poster = this.$node.find( \".js-video-poster\" );\n        this.$playback = this.$node.find( \".js-video-playback\" );\n        this.data = data;\n        this._files = {};\n        this._video = null;\n\n        this.loadVimeoData();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadVimeoData\n     * @memberof VideoVimeo\n     * @description Attempt to utilize the Vimeo JS API for source files.\n     *\n     */\n    loadVimeoData () {\n        const vimeoId = this.data.vimeoUrl.split( \"/\" ).pop();\n\n        core.api.vimeo( vimeoId ).then( ( vData ) => {\n            this.handleVimeoData( vData );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method handleVimeoData\n     * @param {object} vData The response data from Vimeo's API\n     * @memberof VideoVimeo\n     * @description Process Vimeo API data and find an HD version to use.\n     *\n     */\n    handleVimeoData ( vData ) {\n        this.vData = vData;\n\n        // Organize video files\n        this._files = VideoVimeo.logVideoFiles( vData );\n\n        // Assign source file to data\n        this.data.sourceUrl = VideoVimeo.getVideoFile( this._files );\n\n        // Assign poster thumbnail\n        this.data.posterUrl = this.vData.pictures.sizes[ this.vData.pictures.sizes.length - 1 ].link;\n\n        if ( core.detect.isDevice() ) {\n            this.initMobile();\n\n        } else {\n            this.initVideo();\n        }\n\n        this.applyAspect();\n        this.createMediaNode( this.data.id, this.data.sourceUrl, this.$video[ 0 ] );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initMobile\n     * @memberof VideoVimeo\n     * @description Initialize videos for modile devices.\n     *\n     */\n    initMobile () {\n        this.$video[ 0 ].setAttribute( \"controls\", true );\n        this.$video[ 0 ].setAttribute( \"loop\", false );\n        this.$video[ 0 ].setAttribute( \"poster\", this.data.posterUrl );\n        this.$poster.remove();\n        this.$playback.remove();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initVideo\n     * @memberof VideoVimeo\n     * @description Initialize videos for browsers.\n     *\n     */\n    initVideo () {\n        this.$video.on( \"loadedmetadata\", () => {\n            if ( this.data.autoplayLoop ) {\n                this.bindAutoplayLoop();\n\n            } else if ( this.data.clickToPlay ) {\n                this.loadThumbFile();\n                this.bindClickToPlay();\n            }\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadThumbFile\n     * @memberof VideoVimeo\n     * @description Load poster image from vimeo.\n     *\n     */\n    loadThumbFile () {\n        this.$poster.attr( \"data-img-src\", this.data.posterUrl );\n\n        core.util.loadImages( this.$poster );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindAutoplayLoop\n     * @memberof VideoVimeo\n     * @description Handle autoplay loop video option.\n     *\n     */\n    bindAutoplayLoop () {\n        this._autoplayHandler = new AutoplayHandler( this.$node, this.data.id );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindClickToPlay\n     * @memberof VideoVimeo\n     * @description Handle click-to-play video option.\n     *\n     */\n    bindClickToPlay () {\n        this.$video.on( \"click\", () => {\n            if ( mediabox.isPlaying( this.data.id ) ) {\n                this.$node.removeClass( \"is-playing\" );\n                mediabox.stopMedia( this.data.id );\n\n            } else {\n                this.$node.addClass( \"is-playing\" );\n                mediabox.playMedia( this.data.id );\n            }\n        });\n\n        mediabox.addMediaEvent( this.data.id, \"play\", () => {\n            this.$node.addClass( \"is-active\" );\n        });\n\n        mediabox.addMediaEvent( this.data.id, \"ended\", () => {\n            mediabox.stopMedia( this.data.id ).setMediaProp( this.data.id, \"currentTime\", 0 );\n\n            this.$node.removeClass( \"is-active is-playing\" );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method createMediaNode\n     * @param {string} id The media id\n     * @param {string} url The media source url\n     * @param {element} node The <video /> element\n     * @memberof VideoVimeo\n     * @description Execute the MediaBox implementation adding this video to the `library`.\n     *\n     */\n    createMediaNode ( id, url, node ) {\n        mediabox.addVideo({\n            id: id,\n            src: url.split( \",\" ),\n            element: node,\n            channel: \"vid\"\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method applyAspect\n     * @memberof VideoVimeo\n     * @description Apply the video's aspect ratio.\n     *\n     */\n    applyAspect () {\n        this.$node[ 0 ].style.paddingBottom = `${((this.vData.height / this.vData.width) * 100)}%`;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method destroy\n     * @memberof VideoVimeo\n     * @description Removes events and media for the video instance.\n     *\n     */\n    destroy () {\n        this.$video.off( \"click loadedmetadata\" );\n\n        if ( this._autoplayHandler ) {\n            this._autoplayHandler.destroy();\n        }\n\n        if ( mediabox.getMedia( this.data.id ) ) {\n            mediabox.destroyMedia( this.data.id );\n        }\n    }\n}\n\n\n\n/**\n *\n * @public\n * @static\n * @method logVideoFiles\n * @param {object} vData The api response from Vimeo\n * @memberof VideoVimeo\n * @description Organize the files array into something easier to use.\n * @returns {object}\n *\n */\nVideoVimeo.logVideoFiles = function ( vData ) {\n    let i = vData.files.length;\n    const files = {};\n\n    for ( i; i--; ) {\n        if ( !files[ vData.files[ i ].quality ] || (files[ vData.files[ i ].quality ] && vData.files[ i ].size > files[ vData.files[ i ].quality ].size) ) {\n            files[ vData.files[ i ].quality ] = vData.files[ i ];\n        }\n    }\n\n    return files;\n};\n\n\n/**\n *\n * @public\n * @static\n * @method getVideoFile\n * @param {object} files The logged video files\n * @memberof VideoVimeo\n * @description Get the file to play.\n * @returns {string}\n *\n */\nVideoVimeo.getVideoFile = function ( files ) {\n    return (core.detect.isDevice() ? (files.mobile || files.sd) : (files.hd || files.sd)).link;\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default VideoVimeo;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/video/VideoVimeo.js","import MediaBox from \"properjs-mediabox\";\n\n\n/**\n *\n * @description Single app instanceof [MediaBox]{@link https://github.com/ProperJS/MediaBox} for custom audio/video\n * @member mediabox\n * @memberof video\n *\n */\nconst mediabox = new MediaBox();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default mediabox;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/video/mediabox.js","/*!\n *\n * Parse query string into object literal representation\n *\n * @compat: jQuery, Ender, Zepto\n * @author: @kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.paramalama = factory();\n    }\n    \n})(function () {\n    \n    var paramalama = function ( str ) {\n        var query = decodeURIComponent( str ).match( /[#|?].*$/g ),\n            ret = {};\n        \n        if ( query ) {\n            query = query[ 0 ].replace( /^\\?|^#|^\\/|\\/$|\\[|\\]/g, \"\" );\n            query = query.split( \"&\" );\n            \n            for ( var i = query.length; i--; ) {\n                var pair = query[ i ].split( \"=\" ),\n                    key = pair[ 0 ],\n                    val = pair[ 1 ];\n                \n                if ( ret[ key ] ) {\n                    // #2 https://github.com/kitajchuk/paramalama/issues/2\n                    // This supposedly will work as of ECMA-262\n                    // This works since we are not passing objects across frame boundaries\n                    // and we are not considering Array-like objects. This WILL be an Array.\n                    if ( {}.toString.call( ret[ key ] ) !== \"[object Array]\" ) {\n                        ret[ key ] = [ ret[ key ] ];\n                    }\n                    \n                    ret[ key ].push( val );\n                    \n                } else {\n                    ret[ key ] = val;\n                }\n            }\n        }\n        \n        return ret;\n    };\n    \n    if ( typeof $ !== \"undefined\" ) {\n        $.paramalama = paramalama;\n    }\n\n    return paramalama;\n    \n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/paramalama/paramalama.js\n// module id = 26\n// module chunks = 0","/*!\n *\n * Debounce methods\n * Sourced from here:\n * http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n *\n * @debounce\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.debounce = factory();\n    }\n    \n})(function () {\n\n\n    /**\n     *\n     * Limit method calls\n     * @memberof! <global>\n     * @method debounce\n     * @param {function} callback The method handler\n     * @param {number} threshold The timeout delay in ms\n     * @param {boolean} execAsap Call function at beginning or end of detection period\n     *\n     */\n    var debounce = function ( callback, threshold, execAsap ) {\n        var timeout = null;\n        \n        return function debounced() {\n            var args = arguments,\n                context = this;\n            \n            function delayed() {\n                if ( !execAsap ) {\n                    callback.apply( context, args );\n                }\n                \n                timeout = null;\n            }\n            \n            if ( timeout ) {\n                clearTimeout( timeout );\n                \n            } else if ( execAsap ) {\n                callback.apply( context, args );\n            }\n            \n            timeout = setTimeout( delayed, (threshold || 100) );\n        };\n    };\n    \n    \n    return debounce;\n\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-debounce/debounce.js\n// module id = 27\n// module chunks = 0","import * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @namespace intro\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst intro = {\n    /**\n     *\n     * @public\n     * @method teardown\n     * @memberof intro\n     * @description Method removes loadin node from DOM.\n     *\n     */\n    teardown () {\n        if ( !core.dom.intro.length ) {\n            return;\n        }\n\n        setTimeout( () => {\n            core.dom.intro.removeClass( \"is-active\" );\n\n            setTimeout( () => core.dom.intro.remove(), core.util.getTransitionDuration( core.dom.intro[ 0 ] ) );\n\n        }, 1000 );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default intro;\n\n\n// WEBPACK FOOTER //\n// ./source/js/intro.js","import $ from \"properjs-hobo\";\nimport * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @module main\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst main = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof main\n     * @description Initialize the main element.\n     *\n     */\n    init () {\n        this.$mainPanels = core.dom.main.find( \".js-main-panel\" );\n        this.mainDuration = core.util.getTransitionDuration( this.$mainPanels[ 0 ] );\n\n        this.bindEvents();\n    },\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof App\n     * @description Bind top-level app events.\n     *\n     */\n    bindEvents () {\n        core.dom.header.on( \"click\", \".js-controller\", this.onController.bind( this ) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onController\n     * @param {object} e The Event object\n     * @memberof App\n     * @description Handle controller links for main app.\n     *\n     */\n    onController ( e ) {\n        e.preventDefault();\n\n        const $target = $( e.target );\n        const $controller = $target.is( \".js-controller\" ) ? $target : $target.closest( \".js-controller\" );\n        const data = $controller.data();\n        const $panel = core.dom.main.find( `.js-main--${data.target}` );\n\n        this.$mainPanels.removeClass( \"is-active\" );\n        $panel.addClass( \"is-active\" );\n\n        core.dom.main[ 0 ].id = `is-main--${data.target}`;\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default main;\n\n\n// WEBPACK FOOTER //\n// ./source/js/main.js","module.exports = __webpack_public_path__ + \"../styles/screen.css\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/sass/screen.scss\n// module id = 30\n// module chunks = 0","import * as core from \"../core\";\n\n\nlet instance = null;\n\n\n/**\n *\n * @public\n * @class About\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle a menu view.\n * @memberof menus\n *\n */\nclass About {\n    constructor ( $node, data ) {\n        if ( !instance ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof about.About\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.$node = $node;\n        this.data = data;\n        this.transTime = 400;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$anim = this.$node.find( \".js-animate-in\" );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n\n        this.loadContent();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadContent\n     * @memberof about.About\n     * @description Handle content.\n     *\n     */\n    loadContent () {\n        this.$target.append( this.$node );\n\n        setTimeout(() => {\n            this.$anim.addClass( \"is-active\" );\n\n        }, 10 );\n\n        core.emitter.fire( \"app--preload-done\" );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof about.About\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {}\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default About;\n\n\n// WEBPACK FOOTER //\n// ./source/js/about/About.js","//import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport About from \"./About\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace about\n * @description A nice description of what this module does...\n *\n */\nconst about = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof about\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--root\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.log( \"about initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof about\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof about\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        core.emitter.fire( \"app--offcanvas\" );\n\n        core.dom.html.removeClass( core.config.offcanvasClasses ).addClass( \"is-offcanvas is-offcanvas--about\" );\n\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new About( $_jsElement, data );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof about\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof about\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-about\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default about;\n\n\n// WEBPACK FOOTER //\n// ./source/js/about/index.js","import * as core from \"../core\";\nimport $ from \"properjs-hobo\";\nimport Store from \"../core/Store\";\n\n\n// Singleton\nlet _instance = null;\n\n\n/**\n *\n * @public\n * @class Analytics\n * @classdesc Handles Squarespace Metrics and Google Analytics.\n *            @see {@link https://developers.google.com/analytics/devguides/collection/analyticsjs/}\n * @memberof core\n *\n */\nclass Analytics {\n    constructor () {\n        if ( !_instance ) {\n            core.emitter.on( \"app--analytics-push\", this.pushTrack.bind( this ) );\n\n            core.log( \"Analytics initialized\" );\n\n            this.apiEndpoint = \"/api/census/RecordHit\";\n\n            _instance = this;\n        }\n\n        return _instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @method pushTrack\n     * @param {object} doc The doc object created by router {$doc, $page, pageData, pageHtml}\n     * @memberof class.Analytics\n     * @description Parse static context from responseText and track it.\n     *\n     */\n    pushTrack ( doc ) {\n        const pageTitle = (doc.pageData.itemTitle || doc.pageData.collectionTitle);\n        const websiteId = doc.pageData.websiteId;\n        const pageData = doc.pageData.itemId ? { itemId: doc.pageData.itemId } : { collectionId: doc.pageData.collectionId };\n\n        // Squarespace Metrics\n        if ( core.env.isProd() ) {\n            this.recordHit( websiteId, pageData, pageTitle ).then(( res ) => {\n                core.log( \"Analytics\", res );\n\n            }).catch(( error ) => {\n                core.log( \"warn\", error );\n            });\n        }\n\n        this.setDocumentTitle( pageTitle );\n    }\n\n\n    /**\n     *\n     * @public\n     * @method setDocumentTitle\n     * @param {string} title The new title for the document\n     * @memberof class.Analytics\n     * @description Update the documents title.\n     *\n     */\n    setDocumentTitle ( title ) {\n        document.title = title;\n    }\n\n\n    /**\n     *\n     * @public\n     * @method recordHit\n     * @param {string} websiteId The site ID\n     * @param {object} pageData IDs for either collection or item\n     * @param {string} websiteTitle Page title for tracking\n     * @memberof class.Analytics\n     * @description Record sqs metrics for async page requests.\n     *              Returned Promise resolves with a data {object}\n     * @returns {Promise}\n     *\n     */\n    recordHit ( websiteId, pageData, websiteTitle ) {\n        const datas = {\n            url: window.location.href,\n            queryString: window.location.search,\n            userAgent: window.navigator.userAgent,\n            referrer: \"\",\n            localStorageSupported: Store.isStorageSupported,\n            viewportInnerHeight: window.innerHeight,\n            viewportInnerWidth: window.innerWidth,\n            screenHeight: window.screen.height,\n            screenWidth: window.screen.width,\n            title: websiteTitle,\n            websiteId: websiteId,\n            templateId: websiteId\n        };\n\n        if ( pageData.itemId ) {\n            datas.itemId = pageData.itemId;\n\n        } else {\n            datas.collectionId = pageData.collectionId;\n        }\n\n        return $.ajax({\n            url: `${this.apiEndpoint}?crumb=${Store.crumb}`,\n            method: \"POST\",\n            data: {\n                event: \"View\",\n                data: JSON.stringify( datas )\n            },\n            dataType: \"json\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            }\n        });\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Analytics;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/Analytics.js","import * as util from \"./util\";\nimport log from \"./log\";\nimport Controller from \"properjs-controller\";\n\n\n/**\n *\n * @public\n * @class ImageController\n * @param {Hobo} $images The image collection to load\n * @classdesc Handles breaking out the preload vs lazyload batches\n * @memberof core\n *\n */\nclass ImageController extends Controller {\n    constructor ( $images ) {\n        super();\n\n        this.$preload = util.getElementsInView( $images );\n        this.$lazyload = $images.not( this.$preload );\n\n        if ( this.$preload.length ) {\n            this.handlePreload();\n\n        } else {\n            this.fire( \"preload\" );\n        }\n\n        if ( this.$lazyload.length ) {\n            this.handleLazyload();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @method handlePreload\n     * @memberof core.ImageController\n     * @description ImageLoader instance for preload batch.\n     *\n     */\n    handlePreload () {\n        log( \"ImageController preload queue:\", this.$preload.length );\n\n        this.preLoader = util.loadImages( this.$preload, util.noop );\n        this.preLoader.on( \"done\", () => {\n            log( \"ImageController preloaded:\", this.$preload.length );\n\n            this.fire( \"preload\" );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @method handleLazyload\n     * @memberof core.ImageController\n     * @description ImageLoader instance for lazyload batch.\n     *\n     */\n    handleLazyload () {\n        log( \"ImageController lazyload queue:\", this.$lazyload.length );\n\n        this.lazyLoader = util.loadImages( this.$lazyload, util.isElementLoadable );\n        this.lazyLoader.on( \"done\", () => {\n            log( \"ImageController lazyloaded:\", this.$lazyload.length );\n\n            this.fire( \"lazyload\" );\n        });\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default ImageController;\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/ImageController.js","import $ from \"properjs-hobo\";\nimport paramalama from \"paramalama\";\nimport * as util from \"./util\";\n\n\nconst _rSlash = /^\\/|\\/$/g;\n\n\n/**\n *\n * @public\n * @module api\n * @description Provide some api methods for accessing content via JS.\n *\n */\nconst api = {\n    /**\n     *\n     * @public\n     * @member data\n     * @memberof core.api\n     * @description URLs this little api needs to use.\n     *\n     */\n    data: {\n        squarespace: {\n            url: location.origin,\n            api: [location.origin, \"api\"].join( \"/\" )\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @member dataType\n     * @memberof core.api\n     * @description Default dataType for the `request` api method.\n     *\n     */\n    dataType: \"json\",\n\n\n    /**\n     *\n     * @public\n     * @member format\n     * @memberof core.api\n     * @description Default format for the `request` api method.\n     *\n     */\n    format: \"json\",\n\n\n    /**\n     *\n     * @public\n     * @member method\n     * @memberof core.api\n     * @description Default method for the `request` api method.\n     *\n     */\n    method: \"GET\",\n\n\n    /**\n     *\n     * @public\n     * @method endpoint\n     * @param {string} uri The collection uri\n     * @memberof core.api\n     * @description Creates the fullUrl from a collection uri.\n     * @returns {string}\n     *\n     */\n    endpoint ( uri ) {\n        return [this.data.squarespace.url, uri.replace( _rSlash, \"\" )].join( \"/\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method apipoint\n     * @param {string} uri The API uri\n     * @memberof core.api\n     * @description Creates the fullUrl from an API uri.\n     * @returns {string}\n     *\n     */\n    apipoint ( uri ) {\n        return [this.data.squarespace.api, uri.replace( _rSlash, \"\" )].join( \"/\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method request\n     * @param {string} url The API URL\n     * @param {object} params Merge params to send\n     * @param {object} options Merge config to pass to $.ajax()\n     * @memberof core.api\n     * @description Creates the fullUrl from an API uri.\n     * @returns {object}\n     *\n     */\n    request ( url, params, options ) {\n        const data = util.extendObject(\n            {\n                format: this.format,\n                nocache: true\n            },\n            params\n        );\n        const opts = util.extendObject(\n            {\n                url,\n                data,\n                dataType: this.dataType,\n                method: this.method\n            },\n            options\n        );\n\n        return $.ajax( opts );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method collection\n     * @param {string} uri The collection uri\n     * @param {object} params Merge params to send\n     * @param {object} options Merge options to send\n     * @memberof core.api\n     * @description Retrieves items from a given collection.\n     *              Returned Promise resolves with a data {object}\n     * @returns {Promise}\n     *\n     */\n    collection ( uri, params, options ) {\n        return new Promise(( resolve, reject ) => {\n            let collection = {};\n            const seg = uri.split( \"?\" )[ 0 ];\n\n            // This clones for us - non-mutable\n            params = util.extendObject( {}, params );\n\n            // Merges any query string params from URI\n            params = util.extendObject( params, paramalama( uri ) );\n\n            // Tackle the `+` issue with taxonomies\n            if ( params.tag ) {\n                params.tag = params.tag.replace( /\\+/g, \" \" );\n            }\n\n            if ( params.category ) {\n                params.category = params.category.replace( /\\+/g, \" \" );\n            }\n\n            this.request( this.endpoint( seg ), params, options )\n                .then( ( data ) => {\n                    // Resolve with `responseText`\n                    if ( typeof data === \"string\" ) {\n                        resolve( data );\n\n                    } else {\n                        // Collection?\n                        collection = {\n                            collection: data.collection,\n                            item: (data.item || null),\n                            items: (data.items || null),\n                            pagination: (data.pagination || null)\n                        };\n\n                        resolve( collection );\n                    }\n\n                })\n                .catch( ( error ) => {\n                    reject( error );\n                });\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method vimeo\n     * @param {string} id The vimeo video ID\n     * @memberof core.api\n     * @description Retrieves vimeo video information.\n     *              Returned Promise resolves with api data {object}\n     * @returns {Promise}\n     *\n     */\n    vimeo ( id ) {\n        return $.ajax({\n            url: `https://api.vimeo.com/videos/${id}`,\n            method: \"GET\",\n            data: {\n                access_token: \"4fe810e95b5a32a53133739750ef23e4\"\n            },\n            dataType: \"json\"\n        });\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default api;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/api.js","import Store from \"./Store\";\n\n\n/**\n *\n * @public\n * @module cache\n * @description Return Singleton instances of the cache Store.\n *\n */\nexport default new Store({\n    // If TRUE the Store will use LocalStorage...\n    enableStorage: false\n});\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/cache.js","import dom from \"./dom\";\nimport config from \"./config\";\nimport emitter from \"./emitter\";\nimport ImageController from \"./ImageController\";\n\n\n/**\n *\n * @public\n * @namespace images\n * @memberof core\n * @description Handles separation of image pre-loading and image lazy-loading.\n *\n */\nconst images = {\n    /**\n     *\n     * @public\n     * @method handlePreload\n     * @memberof core.images\n     * @param {function} callback The passed callback from `handleImages`\n     * @description Method handles the `done` preloading event cycle.\n     *\n     */\n    handlePreload ( callback ) {\n        if ( typeof callback === \"function\" ) {\n            callback();\n        }\n\n        emitter.fire( \"app--preload-done\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handleLazyload\n     * @memberof core.images\n     * @description Method handles the `done` lazyloading event cycle.\n     *\n     */\n    handleLazyload () {\n        emitter.fire( \"app--lazyload-done\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handleImages\n     * @memberof core.images\n     * @param {object} $images Optionally, the image collection to load\n     * @param {function} callback Optionally, a callback to fire when loading is done\n     * @description Method handles separation of pre-load and lazy-load.\n     *\n     */\n    handleImages ( $images, callback ) {\n        $images = ($images || dom.page.find( config.lazyImageSelector ));\n\n        if ( $images.length ) {\n            const imageController = new ImageController( $images );\n\n            imageController.on( \"preload\", this.handlePreload.bind( this, callback ) );\n            imageController.on( \"lazyload\", this.handleLazyload.bind( this ) );\n\n        } else {\n            this.handlePreload( callback );\n        }\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default images;\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/images.js","import log from \"./log\";\nimport * as util from \"./util\";\nimport emitter from \"./emitter\";\nimport resizer from \"./resizer\";\nimport throttle from \"properjs-throttle\";\nimport debounce from \"properjs-debounce\";\n\n\nconst _throttled = 50;\nconst _debounced = 300;\n\n\n/**\n *\n * @public\n * @namespace resizes\n * @memberof core\n * @description Handles app-wide emission of various resize detection events.\n *\n */\nconst resizes = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof core.resizes\n     * @description Method binds event listeners for resize controller.\n     *\n     */\n    init () {\n        resizer.on( \"resize\", throttle( onThrottle, _throttled ) );\n\n        // Hook into resize of `width` only for this handler\n        // @bug: iOS window size changes when Safari's chrome switches between full and minimal-ui.\n        resizer.on( \"resizewidth\", debounce( onDebounce, _debounced ) );\n\n        log( \"resizes initialized\" );\n    }\n};\n\n\n/**\n *\n * @private\n * @method onDebounce\n * @memberof core.resizes\n * @description Debounced resize events.\n *\n */\nconst onDebounce = function () {\n    emitter.fire( \"app--resize-debounced\" );\n\n    util.updateImages();\n};\n\n\n/**\n *\n * @private\n * @method onThrottle\n * @memberof core.resizes\n * @description Method handles the window resize event via [ResizeController]{@link https://github.com/ProperJS/ResizeController}.\n *\n */\nconst onThrottle = function () {\n    emitter.fire( \"app--resize\" );\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default resizes;\n\n\n// WEBPACK FOOTER //\n// ./source/js/core/resizes.js","import * as core from \"../core\";\nimport $ from \"properjs-hobo\";\nimport router from \"../router\";\nimport gallery from \"../gallery\";\nimport overlay from \"../overlay\";\nimport template from \"properjs-template\";\nimport Controller from \"properjs-controller\";\nimport bar from \"../bar\";\nimport Hammer from \"hammerjs\";\n\n\nlet instance = null;\nconst animator = new Controller();\nconst _gridTitleTpl = `<div class=\"listing__title js-listing-title\" data-title=\"{title}\"><h3 class=\"listing__title__text h3\">{text}</h3></div>`;\nconst _gridWrapTpl = `<div class=\"listing__grid js-listing-project grid grid--index\"></div>`;\nconst _gridItemTpl = `\n<div class=\"listing__tile grid__item__small js-listing-tile\">\n    <div class=\"grid__photo grid__photo--small animate animate--fade js-animate\">\n        <figure class=\"figure\">\n            <img class=\"figure__image image js-lazy-image\" data-img-src=\"{assetUrl}\" data-variants=\"{systemDataVariants}\" data-original-size=\"{originalSize}\" />\n        </figure>\n    </div>\n</div>\n`;\n\n// @vimeoVideoUrl\nconst _gridVideoTpl = `\n<div class=\"listing__tile grid__item__small js-listing-tile\">\n    <div class=\"grid__photo grid__photo--small animate animate--fade js-animate\">\n        <figure class=\"figure\">\n            <img class=\"figure__image image image--wide js-vimeo-image\" />\n            <span class=\"icon icon--svg icon--playback _video__playback\">\n                <svg class=\"icon__svg\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0\" y=\"0\" viewBox=\"-188 216.1 261.3 209.9\" xml:space=\"preserve\"><polygon points=\"35.8 296.4 -86.3 216.1 -86.3 426 73.3 321.1 \"/><rect x=\"-188\" y=\"216.1\" class=\"st0\" width=\"59.2\" height=\"209.9\"/></svg>\n            </span>\n        </figure>\n    </div>\n</div>\n`;\n\n\n/**\n *\n * @public\n * @class IndexFull\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index as a Singleton(ish).\n * @memberof indexes\n *\n */\nclass IndexFull {\n    constructor ( $node, data ) {\n        if ( !instance ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof indexes.IndexFull\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.data = data;\n        this.$node = $node;\n        this.$tile = null;\n        this.$image = null;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$anims = null;\n        this.vimeos = {};\n\n        this.bindEvents();\n        this.loadIndex();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof indexes.IndexFull\n     * @description Start the animation cycle for the listing.\n     *\n     */\n    cycleAnimation () {\n        // Fresh query for js- animatable elements each time\n        this.$anims = this.$node.find( \".js-animate\" );\n\n        animator.stop();\n        animator.go( this.updateAnimate.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updateAnimate\n     * @memberof indexes.IndexFull\n     * @description Update active photos for index.\n     *\n     */\n    updateAnimate () {\n        let $anim = null;\n        let i = this.$anims.length;\n\n        for ( i; i--; ) {\n            $anim = this.$anims.eq( i );\n\n            if ( core.util.isElementInViewport( $anim[ 0 ] ) ) {\n                $anim.addClass( \"is-active\" );\n\n            } else {\n                $anim.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof indexes.IndexFull\n     * @description Bind instance events.\n     *\n     */\n    bindEvents () {\n        this.$node.on( \"click\", \".js-listing-tile\", ( e ) => {\n            if ( !gallery.menu.isActive() ) {\n                const $target = $( e.target );\n                const $tile = $target.is( \".js-listing-tile\" ) ? $target : $target.closest( \".js-listing-tile\" );\n\n                this.bindGallery( $tile );\n            }\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindGallery\n     * @param {Hobo} $elem The tile image that was clicked\n     * @memberof indexes.IndexFull\n     * @description Bind active gallery view.\n     *\n     */\n    bindGallery ( $elem ) {\n        const data = $elem.data();\n\n        this.$tile = $elem;\n        this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n        // @vimeoVideoUrl\n        if ( data.vimeoId ) {\n            gallery.setVideo( this.vimeos[ data.vimeoId ] );\n\n        } else {\n            gallery.setImage( this.$image );\n        }\n\n        this._onKeyDown = this.onKeyDown.bind( this );\n        this._onGalleryImage = this.onGalleryImage.bind( this );\n        this._onGalleryBack = this.onGalleryBack.bind( this );\n\n        core.emitter.on( \"app--gallery-image\", this._onGalleryImage );\n        core.emitter.on( \"app--gallery-background\", this._onGalleryBack );\n\n        core.dom.doc.on( \"keydown\", this._onKeyDown );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextTile\n     * @param {Hobo} $tile The tile element\n     * @memberof indexes.IndexFull\n     * @description Transition to the next tile in a project.\n     *\n     */\n    nextTile ( $tile ) {\n        const data = $tile.data();\n\n        this.$tile = $tile;\n        this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n        // @vimeoVideoUrl\n        if ( data.vimeoId ) {\n            gallery.setVideo( this.vimeos[ data.vimeoId ] );\n\n        } else {\n            gallery.setImage( this.$image );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method unbindGallery\n     * @memberof indexes.IndexFull\n     * @description Un-bind active gallery view.\n     *\n     */\n    unbindGallery () {\n        this.$tile = null;\n        this.$image = null;\n\n        overlay.close();\n        gallery.close();\n\n        core.dom.doc.off( \"keydown\", this._onKeyDown );\n        core.emitter.off( \"app--gallery-image\", this._onGalleryImage );\n        core.emitter.off( \"app--gallery-background\", this._onGalleryBack );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextProject\n     * @param {Hobo} $project The project grid\n     * @param {Hobo} $tile The tile image to load in gallery\n     * @memberof indexes.IndexFull\n     * @description Transition to a tile in a new project scope.\n     *\n     */\n    nextProject ( $project, $tile ) {\n        if ( $project.length ) {\n            // Tile?\n            this.$tile = $tile;\n\n            // Image?\n            this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n            gallery.setImage( this.$image );\n\n            overlay.close();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextTitle\n     * @param {Hobo} $title The title element\n     * @param {string} text The optional text for the title to display\n     * @memberof indexes.IndexFull\n     * @description Transition to the title of the next project.\n     *\n     */\n    nextTitle ( $title, text ) {\n        gallery.empty();\n\n        if ( $title.length ) {\n            overlay.setTitle( (text || $title.data( \"title\" )) );\n\n            overlay.open();\n\n            core.dom.gallery.element.addClass( \"is-title\" );\n\n            this.$tile = $title;\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadIndex\n     * @memberof indexes.IndexFull\n     * @description Load the full Index JSON to build the UI.\n     *\n     */\n    loadIndex () {\n        bar.load();\n\n        router.loadFullIndex( this.onLoadFullIndex.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadVideo\n     * @param {string} url The vimeo embed url\n     * @param {Hobo} $node The grid node in the index\n     * @memberof indexes.IndexFull\n     * @description Load the vimeo api data for a video injection.\n     *\n     */\n    loadVideo ( url, $node ) {\n        const vimeoId = url.split( \"/\" ).pop();\n\n        core.api.vimeo( vimeoId ).then(( vData ) => {\n            this.vimeos[ vimeoId ] = vData;\n\n            $node.data( \"vimeoId\", vimeoId ).find( \".js-vimeo-image\" )\n                .removeAttr( \"data-img-src\" )\n                .removeAttr( \"data-variants\" )\n                .removeAttr( \"data-original-size\" )\n                .attr( \"src\", vData.pictures.sizes[ vData.pictures.sizes.length - 1 ].link );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @method onLoadFullIndex\n     * @param {object} json The collection json\n     * @memberof indexes.IndexFull\n     * @description Receive full collections data for an index.\n     *\n     */\n    onLoadFullIndex ( json ) {\n        json.collection.collections.forEach(( collection ) => {\n            const $title = $( template( _gridTitleTpl.replace( /\\n/g, \"\" ), { text: collection.title, title: (collection.description || collection.title) } ) );\n            const $grid = $( _gridWrapTpl.replace( /\\n/g, \"\" ) );\n            let $node = null;\n\n            collection.items.forEach(( item ) => {\n                // @vimeoVideoUrl\n                if ( item.customContent.vimeoVideoUrl ) {\n                    $node = $( _gridVideoTpl );\n\n                    $grid.append( $node );\n\n                    this.loadVideo( item.customContent.vimeoVideoUrl, $node );\n\n                } else {\n                    $grid.append( template( _gridItemTpl.replace( /\\n/g, \"\" ), item ) );\n\n                    if ( item.customContent && item.customContent.diptychImage && item.customContent.diptychImage.systemDataVariants ) {\n                        $grid.append( template( _gridItemTpl.replace( /\\n/g, \"\" ), item.customContent.diptychImage ) );\n                    }\n                }\n            });\n\n            this.$node.append( $title );\n            this.$node.append( $grid );\n        });\n\n        // Node must be in DOM for image size to work\n        this.$target.append( this.$node );\n\n        core.images.handleImages( this.$node.find( \".js-lazy-image\" ), () => {\n            bar.stop();\n\n            this.cycleAnimation();\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onGalleryImage\n     * @param {string} direction The direction to move\n     * @memberof indexes.IndexFull\n     * @description Trigger gallery arrow key right.\n     *\n     */\n    onGalleryImage ( direction ) {\n        if ( direction === Hammer.DIRECTION_LEFT ) {\n            this.onKeyDown({\n                keyCode: 37\n            });\n\n        } else {\n            this.onKeyDown({\n                keyCode: 39\n            });\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onGalleryBack\n     * @memberof indexes.IndexFull\n     * @description Trigger gallery unbinding.\n     *\n     */\n    onGalleryBack () {\n        gallery.empty();\n\n        this.unbindGallery();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onKeyDown\n     * @param {object} e The Event object\n     * @memberof indexes.IndexFull\n     * @description Handle key events when gallery is open.\n     * @returns {boolean}\n     *\n     */\n    onKeyDown ( e ) {\n        let text = null;\n        let $title = null;\n        let $parent = null;\n        let $project = null;\n        const $next = this.$tile.next();\n        const $prev = this.$tile.prev();\n\n        // Escape key\n        if ( e.keyCode === 27 ) {\n            this.unbindGallery();\n            return false;\n        }\n\n        // Currently on a Title screen\n        // Title screen is using overlay module\n        if ( this.$tile.is( \".js-listing-title\" ) ) {\n            // Arrow right\n            if ( e.keyCode === 39 ) {\n                $project = this.$tile.next();\n\n                this.nextProject( $project, $project.find( \".js-listing-tile\" ).first() );\n\n            // Arrow left\n            } else if ( e.keyCode === 37 ) {\n                $project = this.$tile.prev();\n\n                if ( $project.length ) {\n                    this.nextProject( $project, $project.find( \".js-listing-tile\" ).last() );\n                }\n            }\n\n            core.dom.gallery.element.removeClass( \"is-title\" );\n\n        // Arrow right, has next tile\n        } else if ( e.keyCode === 39 && $next.length ) {\n            this.nextTile( $next );\n\n        // Arrow right, has no next tile\n        } else if ( e.keyCode === 39 && !$next.length ) {\n            this.nextTitle( this.$tile.parent().next() );\n\n        // Arrow left, has prev tile\n        } else if ( e.keyCode === 37 && $prev.length ) {\n            this.nextTile( $prev );\n\n        // Arrow left, has not prev tile\n        } else if ( e.keyCode === 37 && !$prev.length ) {\n            text = null;\n            $parent = this.$tile.parent();\n            $title = $parent.prev().prev().prev();\n\n            // Previous project has a title\n            if ( $title.length ) {\n                text = $title.data( \"title\" );\n            }\n\n            $title = $parent.prev();\n\n            this.nextTitle( $title, text );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof indexes.IndexFull\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n        animator.stop();\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default IndexFull;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/indexes/IndexFull.js","import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport router from \"../router\";\nimport Project from \"../projects/Project\";\nimport overlay from \"../overlay\";\nimport Controller from \"properjs-controller\";\n\n\nlet instance = null;\nconst animator = new Controller();\n\n\n/**\n *\n * @public\n * @class IndexRoot\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index as a Singleton(ish).\n * @memberof indexes\n *\n */\nclass IndexRoot {\n    constructor ( $node, data ) {\n        if ( !instance || instance && instance.data.id !== data.id ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof indexes.IndexRoot\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.$node = $node;\n        this.data = data;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n        this.timeoutId = null;\n        this.timeoutDelay = core.dom.overlay.elementTransitionDuration;\n\n        this.bindEvents();\n        this.loadIndex();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof indexes.IndexRoot\n     * @description Start the animation cycle for the listing.\n     *\n     */\n    cycleAnimation () {\n        // Fresh query for js- animatable elements each time\n        this.$anims = this.$node.find( \".js-animate\" );\n\n        // If pathname is not the `root` we shant not start raf cycle\n        if ( window.location.pathname === router.root ) {\n            animator.stop();\n            animator.go( this.updateAnimate.bind( this ) );\n\n            this.handleScroll();\n\n        } else {\n            this.updateAnimate();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method handleScroll\n     * @memberof indexes.IndexRoot\n     * @description Handle active scroll for root panel.\n     *\n     */\n    handleScroll () {\n        let _timeout = null;\n        const _handleScroll = function () {\n            overlay.suppress( false );\n        };\n\n        this.$target.on( \"scroll\", () => {\n            try {\n                clearTimeout( _timeout );\n\n            } catch ( error ) {\n                core.log( \"warn\", error );\n            }\n\n            overlay.suppress( true );\n\n            _timeout = setTimeout( _handleScroll, 300 );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updateAnimate\n     * @memberof indexes.IndexRoot\n     * @description Update active photos for index.\n     *\n     */\n    updateAnimate () {\n        let $anim = null;\n        let i = this.$anims.length;\n\n        for ( i; i--; ) {\n            $anim = this.$anims.eq( i );\n\n            if ( core.util.isElementInViewport( $anim[ 0 ] ) ) {\n                $anim.addClass( \"is-active\" );\n\n            } else {\n                $anim.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof indexes.IndexRoot\n     * @description Bind event handlers for this instance.\n     *\n     */\n    bindEvents () {\n        core.dom.body.on( \"click\", \".js-index-tile\", this.onTileClick.bind( this ) );\n\n        if ( !core.detect.isDevice() ) {\n            core.dom.body.on( \"mouseenter\", \".js-index-tile img\", this.onMouseEnter.bind( this ) );\n            core.dom.body.on( \"mousemove\", \".js-index-tile img\", this.onMouseEnter.bind( this ) );\n            core.dom.body.on( \"mouseleave\", \".js-index-tile img\", this.onMouseLeave.bind( this ) );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadIndex\n     * @memberof indexes.IndexRoot\n     * @description Handle loading process for this instance.\n     *\n     */\n    loadIndex () {\n        // Node must be in DOM for image size to work\n        this.$target.append( this.$node );\n\n        core.images.handleImages( this.$images, () => {\n            this.cycleAnimation();\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onTileClick\n     * @param {object} e The Event object\n     * @memberof indexes.IndexRoot\n     * @description Handle project grid tile clicks - loads a new Project.\n     *\n     */\n    onTileClick ( e ) {\n        e.preventDefault();\n\n        const $tile = $( e.target ).closest( \".js-index-tile\" );\n\n        overlay.setTitle( $tile.data( \"title\" ) );\n\n        overlay.open();\n\n        Project.open();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onMouseEnter\n     * @param {object} e The Event object\n     * @memberof indexes.IndexRoot\n     * @description Handle showing title on mouse enter grid tile.\n     *\n     */\n    onMouseEnter ( e ) {\n        try {\n            clearTimeout( this.timeoutId );\n\n        } catch ( error ) {\n            core.log( \"warn\", error );\n        }\n\n        if ( Project.isActive() ) {\n            return;\n        }\n\n        const $tile = $( e.target ).closest( \".js-index-tile\" );\n\n        overlay.setTitle( $tile.data( \"title\" ) );\n\n        overlay.open();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onMouseLeave\n     * @memberof indexes.IndexRoot\n     * @description Handle removing title on mouse leave grid tile.\n     *\n     */\n    onMouseLeave () {\n        if ( Project.isActive() ) {\n            return;\n        }\n\n        this.timeoutId = setTimeout(() => {\n            if ( !Project.isActive() ) {\n                overlay.close();\n            }\n\n        }, this.timeoutDelay );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof indexes.IndexRoot\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n        animator.stop();\n\n        this.$target.off( \"scroll\" );\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default IndexRoot;\n\n\n// WEBPACK FOOTER //\n// ./source/js/indexes/IndexRoot.js","import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport IndexRoot from \"./IndexRoot\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace indexes\n * @description A nice description of what this module does...\n *\n */\nconst indexes = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof indexes\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--offcanvas\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.emitter.on( \"app--load-root\", ( root ) => {\n            $_jsElement = $( root );\n\n            this.onload();\n        });\n\n        core.log( \"indexes initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof indexes\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof indexes\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new IndexRoot( $_jsElement, data );\n\n        } else {\n            instance.cycleAnimation();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof indexes\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof indexes\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-index\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default indexes;\n\n\n// WEBPACK FOOTER //\n// ./source/js/indexes/index.js","import * as core from \"../core\";\nimport IndexFull from \"./IndexFull\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace listing\n * @description A nice description of what this module does...\n *\n */\nconst listing = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof listing\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--root\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.log( \"listing initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof listing\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof listing\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        core.emitter.fire( \"app--offcanvas\" );\n\n        core.dom.html.removeClass( core.config.offcanvasClasses ).addClass( \"is-offcanvas is-offcanvas--index\" );\n\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new IndexFull( $_jsElement, data );\n\n        } else {\n            instance.cycleAnimation();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof listing\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof listing\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-listing\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default listing;\n\n\n// WEBPACK FOOTER //\n// ./source/js/indexes/listing.js","import * as core from \"../core\";\nimport Project from \"./Project\";\n\n\nlet $_jsInfo = null;\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace projects\n * @description A nice description of what this module does...\n *\n */\nconst projects = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof projects\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        if ( !core.dom.project.element.is( \".is-active\" ) ) {\n            core.dom.project.element.detach();\n        }\n\n        core.log( \"projects initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof projects\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof projects\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        const data = $_jsElement.data();\n\n        instance = new Project( $_jsElement, $_jsInfo, data );\n\n        core.emitter.on( \"app--root\", killProject );\n        core.emitter.on( \"app--project-ended\", killProject );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof projects\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {\n        this.teardown();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method teardown\n     * @memberof projects\n     * @description Method performs cleanup after this module. Remmoves events, null vars etc...\n     *\n     */\n    teardown () {\n        $_jsInfo = null;\n        $_jsElement = null;\n\n        if ( instance ) {\n            instance.teardown();\n            instance = null;\n        }\n\n        core.emitter.off( \"app--root\", killProject );\n        core.emitter.off( \"app--project-ended\", killProject );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof projects\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsInfo = core.dom.page.find( \".js-info\" );\n        $_jsElement = core.dom.page.find( \".js-project\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n\n/**\n *\n * @private\n * @method killProject\n * @memberof projects\n * @description Destroy a project instance.\n *\n */\nconst killProject = function () {\n    if ( instance ) {\n        instance.teardown();\n        instance = null;\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default projects;\n\n\n// WEBPACK FOOTER //\n// ./source/js/projects/index.js","import * as core from \"../core\";\nimport mediabox from \"./mediabox\";\n\n\n/**\n *\n * @public\n * @class AutoplayHandler\n * @classdesc Handle starting / stopping autoplay videos.\n * @param {Hobo} $node The element to work with\n * @param {string} id The MediaBox ID to work with\n * @memberof video\n *\n */\nclass AutoplayHandler {\n    constructor ( $node, id ) {\n        this.$node = $node;\n        this.id = id;\n\n        this.bindEvents();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof AutoplayHandler\n     * @description Bind the scroll event for toggling playback.\n     *\n     */\n    bindEvents () {\n        this._onScroll = this.onScroll.bind( this );\n\n        if ( mediabox.getMedia( this.id ) ) {\n            this._onScroll();\n        }\n\n        core.emitter.on( \"app--project-scroll\", this._onScroll );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onScroll\n     * @memberof AutoplayHandler\n     * @description Scroll handler for toggling video playback.\n     *\n     */\n    onScroll () {\n        if ( core.util.isElementInViewport( this.$node[ 0 ] ) ) {\n            if ( !mediabox.isPlaying( this.id ) ) {\n                mediabox.playMedia( this.id );\n            }\n\n        } else if ( mediabox.isPlaying( this.id ) ) {\n            mediabox.stopMedia( this.id );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method destroy\n     * @memberof AutoplayHandler\n     * @description Remove the scroll handler.\n     *\n     */\n    destroy () {\n        core.emitter.off( \"app--project-scroll\", this._onScroll );\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default AutoplayHandler;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/video/AutoplayHandler.js","/*!\n *\n *\n * @method hobo\n * @author kitajchuk\n * @hobo-dist npm run build -- is eq not attr next prev last first remove append detach parent filter closest trigger removeAttr\n *\n * @links\n * https://developer.mozilla.org/en-US/docs/Web/API/Node\n * https://developer.mozilla.org/en-US/docs/Web/API/Element\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n * https://github.com/jakearchibald/es6-promise\n * http://www.html5rocks.com/en/tutorials/es6/promises/\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.hobo = factory();\n    }\n\n})(function () {\n\n    var Hobo = require( \"../lib/Hobo\" ),\n        utils = require( \"../lib/utils\" );\n\n\n    // Core Hobo methods:\n    Hobo.prototype.on = require( \"../lib/core/on\" );\n    Hobo.prototype.off = require( \"../lib/core/off\" );\n    Hobo.prototype.data = require( \"../lib/core/data\" );\n    Hobo.prototype.find = require( \"../lib/core/find\" );\n    Hobo.prototype.addClass = require( \"../lib/core/addClass\" );\n    Hobo.prototype.removeClass = require( \"../lib/core/removeClass\" );\n\n\n    // Extended Hobo methods:\n    Hobo.prototype.is = require( \"../lib/extended/is\" );\n    Hobo.prototype.eq = require( \"../lib/extended/eq\" );\n    Hobo.prototype.not = require( \"../lib/extended/not\" );\n    Hobo.prototype.attr = require( \"../lib/extended/attr\" );\n    Hobo.prototype.next = require( \"../lib/extended/next\" );\n    Hobo.prototype.prev = require( \"../lib/extended/prev\" );\n    Hobo.prototype.last = require( \"../lib/extended/last\" );\n    Hobo.prototype.first = require( \"../lib/extended/first\" );\n    Hobo.prototype.remove = require( \"../lib/extended/remove\" );\n    Hobo.prototype.append = require( \"../lib/extended/append\" );\n    Hobo.prototype.detach = require( \"../lib/extended/detach\" );\n    Hobo.prototype.parent = require( \"../lib/extended/parent\" );\n    Hobo.prototype.filter = require( \"../lib/extended/filter\" );\n    Hobo.prototype.closest = require( \"../lib/extended/closest\" );\n    Hobo.prototype.trigger = require( \"../lib/extended/trigger\" );\n    Hobo.prototype.removeAttr = require( \"../lib/extended/removeAttr\" );\n\n\n    /**\n     *\n     * @public\n     * @method hobo\n     * @description Wrapper for `Hobo` instances.\n     * @param {string} selector The parameter passed to `querySelectorAll`\n     * @param {element} context The Element used to call `querySelectorAll`\n     *\n     */\n    hobo = function ( selector, context ) {\n        return new Hobo( selector, context );\n    };\n\n\n    // Attach Hobo utilities to `wrapper` method\n    hobo.ajax = require( \"../lib/core/ajax\" );\n\n\n    return hobo;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/dist/hobo.build.js\n// module id = 45\n// module chunks = 0","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method addClass\n * @description Add one or more classNames to the nodes.\n * @param {string} classes The space-separated classNames\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( classes ) {\n    this.forEach(function ( element ) {\n        var newClass = classes.split( \" \" ),\n            elsClass = element.className.split( \" \" );\n\n        newClass.forEach(function ( klass ) {\n            if ( elsClass.indexOf( klass ) === -1 ) {\n                elsClass.push( klass );\n            }\n        });\n\n        element.className = utils.trimString( elsClass.join( \" \" ) );\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/core/addClass.js\n// module id = 46\n// module chunks = 0","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @static\n * @memberof Hobo\n * @method ajax\n * @description Perform standar XHR with a native Promise.\n *              dataType can be `html`, `json`, `jsonp`.\n * @param {object} config The ajax config object\n *                        url       => string, default: window.location.href\n *                        data      => object, default: null\n *                        dataType  => string, default: \"html\"\n *                        method    => string, default: \"GET\"\n *                        jsonp     => string, default: \"callback\"\n *                        headers   => object, default: null\n * @returns {Promise}\n *\n */\nmodule.exports = function ( config ) {\n    var params = (config.data || null),\n        dataType = (config.dataType || \"html\"),\n        method = (config.method || \"GET\").toUpperCase(),\n        url = (config.url || window.location.href),\n        headers = (config.headers || null);\n\n    // Handle params\n    // Params will be one of the following:\n    // Serialized querystring\n    // Instanceof FormData\n    // Null\n    if ( params && !(FormData && params instanceof FormData) ) {\n        params = utils.serializeData( config.data );\n    }\n\n    // Handle params in GET URL\n    if ( method === \"GET\" && params ) {\n        url += (\"?\" + params);\n    }\n\n    return new Promise(function ( resolve, reject ) {\n        var handleResponse = function ( response ) {\n            if ( dataType === \"json\" ) {\n                try {\n                    response = JSON.parse( response );\n\n                } catch ( error ) {\n                    reject( (\"Rejecting on JSON.parse error : \" + error) );\n                }\n            }\n\n            resolve( response );\n        };\n\n        // JSONP\n        if ( dataType === \"jsonp\" ) {\n            var jsonpCallbackValue = (utils.makeId() + \"JSONP\"),\n                jsonpCallbackKey = (config.jsonp || \"callback\"),\n                jsonpScript = document.createElement( \"script\" );\n\n            jsonpScript.src = (url + (/\\?/.test( url ) ? \"&\" : \"?\") + jsonpCallbackKey + \"=\" + jsonpCallbackValue);\n\n            window[ jsonpCallbackValue ] = function ( response ) {\n                document.getElementsByTagName( \"head\" )[ 0 ].removeChild( jsonpScript );\n                jsonpScript = null;\n                delete window[ jsonpCallbackValue ];\n\n                handleResponse( response );\n            };\n\n            document.getElementsByTagName( \"head\" )[ 0 ].appendChild( jsonpScript );\n\n        // XHR\n        } else {\n            var xhr = new XMLHttpRequest();\n\n            xhr.open( method, url, true );\n\n            if ( headers ) {\n                for ( var header in headers ) {\n                    if ( headers.hasOwnProperty( header ) ) {\n                        xhr.setRequestHeader( header, headers[ header ] );\n                    }\n                }\n            }\n\n            xhr.onreadystatechange = function ( e ) {\n                if ( this.readyState === 4 ) {\n                    // Two-Hundo's are A-Okay with Hobo\n                    if ( /^20/.test( this.status ) ) {\n                        handleResponse( this.responseText );\n\n                    } else {\n                        reject( (\"Rejecting on server status code : \" + this.status) );\n                    }\n                }\n            };\n\n            xhr.send( params );\n        }\n    });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/core/ajax.js\n// module id = 47\n// module chunks = 0","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method data\n * @description Get / set data values with nodes.\n * @param {string} key The access key\n * @param {string} value The value to be stored\n * @returns {mixed}\n *\n */\nmodule.exports = function ( key, value ) {\n    // Any `non-unique` data keys resolve to the first unique occurrence\n    // Exactly how jQuery handles `.data( ... )` on multi-node collections\n\n    var ret = this,\n        obj = null;\n\n    // Storing data from an Object\n    if ( typeof key === \"object\" ) {\n        obj = key;\n\n        this.forEach(function ( node ) {\n            utils.storeData( obj, node );\n        });\n\n    // Storing data as a `key:value` pair\n    } else if ( value ) {\n        obj = {};\n        obj[ key ] = value;\n\n        this.forEach(function ( node ) {\n            utils.storeData( obj, node );\n        });\n\n    // Accessing data by `key`\n    } else if ( key ) {\n        this.forEach(function ( node ) {\n            if ( obj !== null ) {\n                return;\n            }\n\n            obj = utils.retrieveData( key, node );\n\n        });\n\n        ret = obj;\n\n    // Accessing all data\n    // Merges all `unique` data for a Hobo set\n    } else {\n        obj = {};\n\n        // Object is mutated here by `mergeData`\n        this.forEach(function ( node ) {\n            utils.mergeData( obj, node );\n        });\n\n        ret = obj;\n    }\n\n    return ret;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/core/data.js\n// module id = 48\n// module chunks = 0","var Hobo = require( \"../Hobo\" ),\n    utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method find\n * @description Query into a Hobo instance for new nodes.\n * @param {string} selector The selector to query for\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = this;\n\n    // If we are `finding` within a multi-node collection...\n    // Here its probably faster to grab the nodes within each Node\n    // and then just let the context be the document for the new instance. \n    if ( this.length > 1 ) {\n        ret = [];\n\n        this.forEach(function ( node ) {\n            ret = ret.concat( utils.makeArray( node.querySelectorAll( selector ) ) );\n        });\n\n        ret = new Hobo( ret, null );\n\n    // Single node collection\n    // Empty node collection\n    } else {\n        ret = new Hobo( (this.length ? selector : []), (this.length ? this[ 0 ] : null) );\n    }\n\n    return ret;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/core/find.js\n// module id = 49\n// module chunks = 0","/**\n *\n * @private\n * @method unbind\n * @description Unbind a standard DOM Event.\n * @param {element} node\n * @param {string} event\n * @param {function} callback\n * @this {Hobo}\n *\n */\nvar unbind = function ( node, event, callback ) {\n    var type,\n        evo,\n        id;\n\n    // Remove a single handler for an event type\n    if ( callback ) {\n        for ( id in this._events[ event ] ) {\n            if ( this._events[ event ].hasOwnProperty( id ) ) {\n                evo = this._events[ event ][ id ];\n\n                // Match the nodes, Match the callback\n                if ( evo.node === node && evo.callback === callback ) {\n                    node.removeEventListener( evo.type, evo.handler, false );\n\n                    delete this._events[ event ][ id ];\n                }\n            }\n        }\n\n    // Remove all handlers for an event type\n    } else {\n        for ( id in this._events[ event ] ) {\n            if ( this._events[ event ].hasOwnProperty( id ) ) {\n                evo = this._events[ event ][ id ];\n\n                // Match the nodes\n                if ( evo.node === node ) {\n                    node.removeEventListener( evo.type, evo.handler, false );\n\n                    delete this._events[ event ][ id ];\n                }\n            }\n        }\n    }\n};\n\n\n/**\n *\n * @private\n * @method teardown\n * @description Unbind all events for instance.\n * @param {element} node\n * @this {Hobo}\n *\n */\nvar teardown = function ( node ) {\n    var type,\n        evo,\n        id;\n\n    for ( type in this._events ) {\n        if ( this._events.hasOwnProperty( type ) ) {\n            for ( id in this._events[ type ] ) {\n                if ( this._events[ type ].hasOwnProperty( id ) ) {\n                    evo = this._events[ type ][ id ];\n\n                    // Match the nodes\n                    if ( evo.node === node ) {\n                        node.removeEventListener( evo.type, evo.handler, false );\n\n                        delete this._events[ type ][ id ];\n                    }\n                }\n            }\n        }\n    }\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method off\n * @description Un-Bind a standard DOM Event.\n * @param {string} events The event type\n * @param {function} callback The supplied callback\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( events, callback ) {\n    var self = this;\n\n    // Iterate over event(s)\n    // Space separated event list is supported\n    // Example: \"DOMMouseScroll mousewheel\"\n    // off() can be called with no args, account for this and remove ALL events\n    (events ? events.split( \" \" ) : [null]).forEach(function ( event ) {\n        self.forEach(function ( node ) {\n            // Explicit `null` check for teardown\n            if ( event === null ) {\n                teardown.call( self, node );\n\n            } else {\n                unbind.call( self, node, event, callback );\n            }\n        });\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/core/off.js\n// module id = 50\n// module chunks = 0","var matchElement = require( \"properjs-matchelement\" ),\n    utils = require( \"../utils\" );\n\n\n/**\n *\n * @private\n * @method bind\n * @description Bind a standard DOM Event.\n * @param {element} node\n * @param {string} event\n * @param {string} selector\n * @param {function} callback\n * @this {Hobo}\n *\n */\nvar bind = function ( node, event, selector, callback ) {\n    // Unique ID for each node event\n    var eventId = (utils.makeId() + \"EVENT\"),\n\n        // The true event name\n        eventType = event,\n\n        // Normalize event handler with a small wrapper function\n        eventHandler = function ( e ) {\n            // Default context is `this` element\n            var context = (selector ? matchElement( e.target, selector, true ) : this);\n\n            // Handle `mouseenter` and `mouseleave`\n            if ( event === \"mouseenter\" || event === \"mouseleave\" ) {\n                var relatedElement = (event === \"mouseenter\" ? e.fromElement : e.toElement);\n\n                if ( context && ( relatedElement !== context && !context.contains( relatedElement ) ) ) {\n                    callback.call( context, e );\n                }\n\n            // Fire callback if context element\n            } else if ( context ) {\n                callback.call( context, e );\n            }\n        };\n\n    // Support `mouseenter` and `mouseleave`\n    if ( event === \"mouseenter\" ) {\n        eventType = \"mouseover\";\n\n    } else if ( event === \"mouseleave\" ) {\n        eventType = \"mouseout\";\n    }\n\n    // Each handler/callback pair gets stored in an `events` index\n    this._events[ event ][ eventId ] = {\n        id: eventId,\n        type: eventType,\n        node: node,\n        handler: eventHandler,\n        callback: callback\n    };\n\n    node.addEventListener( eventType, eventHandler, false );\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method on\n * @description Bind a standard DOM Event. Honor delegation as a primary.\n * @param {string} events \n * @param {string} selector \n * @param {function} callback\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( events, selector, callback ) {\n    var self = this;\n\n    // Normalize `selector` and `callback`\n    if ( !callback ) {\n        callback = selector;\n        selector = this._selector;\n    }\n\n    // Iterate over event(s)\n    // Space separated event list is supported\n    // Example: \"DOMMouseScroll mousewheel\"\n    events.split( \" \" ).forEach(function ( event ) {\n        // Does this event type have an index yet\n        if ( !self._events[ event ] ) {\n            self._events[ event ] = {};\n        }\n\n        self.forEach(function ( node ) {\n            bind.call( self, node, event, selector, callback );\n        });\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/core/on.js\n// module id = 51\n// module chunks = 0","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method removeClass\n * @description Remove one or more classNames from the nodes.\n * @param {string} classes The space-separated classNames\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( classes ) {\n    this.forEach(function ( element ) {\n        // Explicit check for `undefined`\n        // Using `!classes` would be bad in this case\n        // Calling `removeClass( \"\" )` should not wipe the entire className\n        if ( classes === undefined ) {\n            element.className = \"\";\n\n        } else {\n            var oldClass = classes.split( \" \" ),\n                elsClass = element.className.split( \" \" );\n\n            oldClass.forEach(function ( klass ) {\n                if ( elsClass.indexOf( klass ) !== -1 ) {\n                    elsClass.splice( elsClass.indexOf( klass ), 1 );\n                }\n            });\n\n            element.className = utils.trimString( elsClass.join( \" \" ) );\n        }\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/core/removeClass.js\n// module id = 52\n// module chunks = 0","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method append\n * @param {mixed} appendage What to append? Hobo, Element...\n * @description Append the nodes to the DOM\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( appendage ) {\n    // Selector string, wrap in new Hobo instance\n    if ( typeof appendage === \"string\" ) {\n        appendage = new Hobo( appendage );\n    }\n\n    this.forEach(function ( node ) {\n        // Hobo instance OR Array OR Array-like object with forEach\n        if ( appendage instanceof Hobo || (appendage.length && typeof appendage.forEach === \"function\") ) {\n            appendage.forEach(function ( append ) {\n                if ( append.nodeType && append.nodeType === 1 ) {\n                    node.appendChild( append );\n                }\n            });\n\n        } else if ( appendage.nodeType ) {\n            node.appendChild( appendage );\n        }\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/append.js\n// module id = 53\n// module chunks = 0","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method addAttr\n * @param {element} node The element to set attribute on\n * @param {string} key The attribute\n * @param {mixed} value The value to set\n * @description Get or Set an attribute(s) on a DOM node\n * @returns {string}\n *\n */\nvar addAttr = function ( node, key, value ) {\n    node.setAttribute( key, value );\n\n    // Apply data()?\n    if ( utils.rData.test( key ) ) {\n        // storeData expects a {data object}\n        var obj = {};\n\n        obj[ key.replace( utils.rData, \"\" ) ] = value;\n\n        utils.storeData( obj, node );\n    }\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method attr\n * @param {string} key The attribute\n * @param {mixed} value The value to set\n * @description Get or Set an attribute(s) on a DOM node\n * @returns {string}\n *\n */\nmodule.exports = function ( key, value ) {\n    var ret = this;\n\n    // Value can be an {object}\n    if ( typeof key === \"object\" ) {\n        for ( var i in key ) {\n            this.forEach(function ( node ) {\n                addAttr( node, i, key[ i ] );\n            });\n        }\n\n    // Value could possibly be \"\" or 0\n    } else if ( value !== undefined ) {\n        this.forEach(function ( node ) {\n            addAttr( node, key, value );\n        });\n\n    } else {\n        ret = this[ 0 ].getAttribute( key );\n    }\n\n    return ret;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/attr.js\n// module id = 54\n// module chunks = 0","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method closest\n * @param {string} selector The selector to try and match\n * @description Find the first ancestor element with this selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var closest = [];\n\n    this.forEach(function ( node ) {\n        var match = matchElement( node, selector, true );\n\n        if ( match ) {\n            closest.push( match );\n        }\n    });\n\n    return new Hobo( closest, null );\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/closest.js\n// module id = 55\n// module chunks = 0","/**\n *\n * @instance\n * @memberof Hobo\n * @method detach\n * @description Detach the nodes from the DOM\n *              This method does NOT remove events or data.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    this.forEach(function ( node ) {\n        if ( node.parentNode ) {\n            node.parentNode.removeChild( node );\n        }\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/detach.js\n// module id = 56\n// module chunks = 0","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method eq\n * @param {number} i The indexOf the element\n * @description Get the element at the index as a Hobo instance.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( i ) {\n    return i < this.length \n            ? new Hobo(\n                this[ i ],\n                this._context\n            ) \n            : this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/eq.js\n// module id = 57\n// module chunks = 0","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method filter\n * @param {string} selector The selector to match elements against\n * @description Filter out the elements that match the selector.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var filtered = [];\n\n    this.forEach(function ( node ) {\n        if ( matchElement( node, selector ) ) {\n            filtered.push( node );\n        }\n    });\n\n    return new Hobo( filtered, null );\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/filter.js\n// module id = 58\n// module chunks = 0","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method first\n * @description Get hobo instance of the first element.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    return new Hobo( this[ 0 ], this._context );\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/first.js\n// module id = 59\n// module chunks = 0","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method is\n * @param {string} selector The selector to match elements against\n * @description Determine if a node set is this selector.\n * @returns {boolean}\n *\n */\nmodule.exports = function ( selector ) {\n    return (matchElement( this[ 0 ], selector ) ? true : false);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/is.js\n// module id = 60\n// module chunks = 0","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method last\n * @description Get hobo instance of the last element.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    return new Hobo( this[ (this.length - 1) ], this._context );\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/last.js\n// module id = 61\n// module chunks = 0","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method next\n * @param {string} selector Optional selector to match\n * @description Get the next sibling, test against selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = [];\n\n    this.forEach(function ( node ) {\n        var nextNode = node.nextSibling;\n\n        while ( nextNode && nextNode.nodeType !== 1 ) {\n            nextNode = nextNode.nextSibling;\n        }\n\n        if ( nextNode && (!selector || (selector && matchElement( nextNode, selector ))) ) {\n            ret.push( nextNode );\n        }\n    });\n\n    return new Hobo( ret, this._context );\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/next.js\n// module id = 62\n// module chunks = 0","var matchElement = require( \"properjs-matchelement\" ),\n    Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method not\n * @param {string} selector The selector to filter out elements\n * @description Filter out elements that are NOT this selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var keepers = new Hobo( [], this._context );\n\n    // Hobo instance\n    if ( selector instanceof Hobo ) {\n        this.forEach(function ( node ) {\n            var pushNode = true;\n\n            selector.forEach(function ( elem ) {\n                if ( node === elem ) {\n                    pushNode = false;\n                }\n            });\n\n            if ( pushNode ) {\n                keepers.push( node );\n            }\n        });\n\n    } else {\n        this.forEach(function ( node, i ) {\n            if ( typeof selector === \"function\" ) {\n                if ( selector( i, node ) ) {\n                    keepers.push( node );\n                }\n\n            } else if ( !matchElement( node, selector ) ) {\n                keepers.push( node );\n            }\n        });\n    }\n\n    return keepers;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/not.js\n// module id = 63\n// module chunks = 0","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method parent\n * @param {string} selector Optional selector to match\n * @description Get a Hobo instance of the parent node of this instance.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var parents = [];\n\n    this.forEach(function ( node ) {\n        if ( !selector || (selector && matchElement( node.parentNode, selector )) ) {\n            parents.push( node.parentNode );\n        }\n    });\n\n    return new Hobo( parents, null );\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/parent.js\n// module id = 64\n// module chunks = 0","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method prev\n * @param {string} selector Optional selector to match\n * @description Get the previous sibling, test against selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = [];\n\n    this.forEach(function ( node ) {\n        var prevNode = node.previousSibling;\n\n        while ( prevNode && prevNode.nodeType !== 1 ) {\n            prevNode = prevNode.previousSibling;\n        }\n\n        if ( prevNode && (!selector || (selector && matchElement( prevNode, selector ))) ) {\n            ret.push( prevNode );\n        }\n    });\n\n    return new Hobo( ret, this._context );\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/prev.js\n// module id = 65\n// module chunks = 0","/**\n *\n * @instance\n * @memberof Hobo\n * @method remove\n * @description Remove the nodes from the DOM\n *              This method will remove events and data.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    // Remove Events\n    this.off();\n\n    this.forEach(function ( node ) {\n        // Remove Data\n        // Could this cause issues ?\n        delete node.hoboDataMap;\n\n        if ( node.parentNode ) {\n            node.parentNode.removeChild( node );\n        }\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/remove.js\n// module id = 66\n// module chunks = 0","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method removeAttr\n * @description Remove the specified attribute from each node in the set.\n * @returns {Hobo}\n *\n * @note This method needs to update data() in case we remove data-attr's\n *\n */\nmodule.exports = function ( attr ) {\n    this.forEach(function ( node ) {\n        node.removeAttribute( attr );\n\n        // Remove data()?\n        if ( utils.rData.test( attr ) ) {\n            utils.removeData( attr.replace( utils.rData, \"\" ), node );\n        }\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/removeAttr.js\n// module id = 67\n// module chunks = 0","/**\n *\n * @instance\n * @memberof Hobo\n * @method trigger\n * @description Dispatch a simulated event.\n * @param {string} event The event to dispatch\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( event ) {\n    var self = this,\n        evo,\n        id;\n\n    this.forEach(function ( node ) {\n        for ( id in self._events[ event ] ) {\n            if ( self._events[ event ].hasOwnProperty( id ) ) {\n                evo = self._events[ event ][ id ];\n\n                // Match the nodes\n                if ( evo.node === node ) {\n                    evo = document.createEvent( \"Events\" );\n\n                    evo.initEvent( event, true, false );\n\n                    node.dispatchEvent( evo );\n                }\n            }\n        }\n    });\n\n    return this;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-hobo/lib/extended/trigger.js\n// module id = 68\n// module chunks = 0","/*!\n *\n * Handle lazy-loading images with contextual load conditions.\n *\n * @ImageLoader\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.ImageLoader = factory();\n    }\n\n})(function () {\n\n    var Controller = require( \"properjs-controller\" );\n\n\n    /**\n     *\n     * Handle lazy-loading images with unique callback conditions\n     * @memberof! <global>\n     * @requires raf\n     * @constructor ImageLoader\n     * @param {object} options Controller settings\n     * <ul>\n     * <li>elements - The collection of elements to load against</li>\n     * <li>property - The property to pull the image source from</li>\n     * <li>transitionDelay - The timeout before transition starts</li>\n     * <li>transitionDuration - The length of the animation</li>\n     * </ul>\n     *\n     */\n    var ImageLoader = function ( options ) {\n        var self = this;\n\n        if ( !options ) {\n            throw new Error( \"ImageLoader Class requires options to be passed\" );\n        }\n\n        // Up, up and away...\n        Controller.call( this );\n\n        /**\n         *\n         * The method to determine if an image should load itself\n         * @memberof ImageLoader\n         * @member _executor\n         * @private\n         *\n         */\n        this._executor = (options.executor || function ( elem ) {\n            return elem;\n        });\n\n        /**\n         *\n         * The Collection to load against\n         * @memberof ImageLoader\n         * @member _elements\n         * @private\n         *\n         */\n        this._elements = options.elements;\n\n        /**\n         *\n         * The property to get image source from\n         * @memberof ImageLoader\n         * @member _property\n         * @private\n         *\n         */\n        this._property = (options.property || \"data-src\");\n\n        /**\n         *\n         * The way to load, async or sync\n         * Using \"sync\" loading requires calling .start() on the instance\n         * and the \"handle\" event will not be utilized, rather each image\n         * will be loaded in succession as the previous finishes loading\n         * @memberof ImageLoader\n         * @member _loadType\n         * @private\n         *\n         */\n        this._loadType = (options.loadType || \"async\");\n\n        /**\n         *\n         * The current amount of elements lazy loaded\n         * @memberof ImageLoader\n         * @member _numLoaded\n         * @private\n         *\n         */\n        this._numLoaded = 0;\n\n        /**\n         *\n         * The total amount of elements to lazy load\n         * @memberof ImageLoader\n         * @member _num2Load\n         * @private\n         *\n         */\n        this._num2Load = (this._elements ? this._elements.length : 0);\n\n        /**\n         *\n         * The delay to execute lazy loading on an element in ms\n         * @memberof ImageLoader\n         * @member _transitionDelay\n         * @default 100\n         * @private\n         *\n         */\n        this._transitionDelay = (options.transitionDelay || 0);\n\n        /**\n         *\n         * The duration on a lazy loaded elements fade in in ms\n         * @memberof ImageLoader\n         * @member _transitionDuration\n         * @default 600\n         * @private\n         *\n         */\n        this._transitionDuration = (options.transitionDuration || 400);\n\n        /**\n         *\n         * This flags that all elements have been loaded\n         * @memberof ImageLoader\n         * @member _resolved\n         * @private\n         *\n         */\n        this._resolved = false;\n\n        // Break out if no elements in collection\n        if ( !this._elements.length ) {\n            return this;\n        }\n\n        // Only run animation frame for async loading\n        if ( this._loadType === \"async\" ) {\n            this.initAsync();\n\n        } else {\n            this.initSync();\n        }\n    };\n\n\n    /**\n     *\n     * @extends Controller\n     *\n     */\n    ImageLoader.prototype = Object.create( Controller.prototype );\n\n\n    /**\n     *\n     * Support asynchronous loading of a set of images\n     * @memberof ImageLoader\n     * @method initAsync\n     *\n     */\n    ImageLoader.prototype.initAsync = function () {\n        var self = this;\n\n        this.go(function () {\n            if ( self._resolved ) {\n                self.stop();\n\n            } else {\n                self.handle();\n            }\n        });\n    };\n\n    /**\n     *\n     * Support batch synchronous loading of a set of images\n     * @memberof ImageLoader\n     * @method initSync\n     *\n     */\n    ImageLoader.prototype.initSync = function () {\n        var self = this;\n\n        function syncLoad() {\n            var elem = self._elements[ self._numLoaded ];\n\n            self._numLoaded++;\n\n            self.load( elem, function ( error ) {\n                if ( !error && !self._resolved ) {\n                    syncLoad();\n                }\n            });\n        }\n\n        syncLoad();\n    };\n\n    /**\n     *\n     * Perform the image loading and set correct values on element\n     * @method load\n     * @memberof ImageLoader\n     * @param {object} $elem element object\n     * @param {function} callback optional callback for each load\n     * @fires done\n     *\n     */\n    ImageLoader.prototype.load = function ( element, callback ) {\n        var self = this,\n            image = null,\n            timeout = null,\n            isImage = (element.nodeName === \"IMG\"),\n            source = element.getAttribute( this._property );\n\n        element.setAttribute( \"data-imageloader\", true );\n\n        if ( isImage ) {\n            image = element;\n\n        } else {\n            image = new Image();\n        }\n\n        timeout = setTimeout(function () {\n            clearTimeout( timeout );\n\n            image.onload = function () {\n                self.fire( \"load\", element );\n\n                if ( !isImage ) {\n                    element.style.backgroundImage = (\"url(\" + source + \")\");\n\n                    image = null;\n                }\n\n                timeout = setTimeout(function () {\n                    clearTimeout( timeout );\n\n                    if ( (self._numLoaded === self._num2Load) && !self._resolved ) {\n                        self._resolve( true );\n\n                    } else if ( typeof callback === \"function\" ) {\n                        // Errors first\n                        callback( false );\n                    }\n\n                }, self._transitionDuration );\n            };\n\n            image.onerror = function () {\n                self.fire( \"error\", element );\n\n                if ( (self._numLoaded === self._num2Load) && !self._resolved ) {\n                    self._resolve( true );\n\n                } else if ( typeof callback === \"function\" ) {\n                    // Errors first\n                    callback( true );\n                }\n            };\n\n            image.src = source;\n\n        }, this._transitionDelay );\n\n        return this;\n    };\n\n    /**\n     *\n     * Handles element iterations and loading based on callbacks\n     * @memberof ImageLoader\n     * @method handle\n     *\n     */\n    ImageLoader.prototype.handle = function () {\n        var elems = this.getNotLoaded(),\n            self = this;\n\n        for ( var i = 0, len = elems.length; i < len; i++ ) {\n            if ( self._executor( elems[ i ] ) ) {\n                self._numLoaded++;\n\n                self.load( elems[ i ] );\n            }\n        }\n    };\n\n    /**\n     *\n     * Get all images in the set that have yet to be loaded\n     * @memberof ImageLoader\n     * @method getNotLoaded\n     *\n     */\n    ImageLoader.prototype.getNotLoaded = function () {\n        var elems = [];\n\n        for ( var i = 0, len = this._elements.length; i < len; i++ ) {\n            if ( !this._elements[ i ].getAttribute( \"data-imageloader\" ) ) {\n                elems.push( this._elements[ i ] );\n            }\n        }\n\n        return elems;\n    };\n\n    /**\n     *\n     * Resolve an instance and remove it from the stack\n     * @memberof ImageLoader\n     * @method _resolve\n     *\n     */\n    ImageLoader.prototype._resolve = function () {\n        // Resolved state\n        this._resolved = true;\n\n        // Fires the predefined \"done\" event\n        this.fire( \"done\" );\n    };\n\n\n    return ImageLoader;\n\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-imageloader/ImageLoader.js\n// module id = 69\n// module chunks = 0","/*!\n *\n * Use native element selector matching\n *\n * @matchElement\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.matchElement = factory();\n    }\n    \n})(function () {\n\n    /**\n     *\n     * Use native element selector matching\n     * @memberof! <global>\n     * @method matchElement\n     * @param {object} el the element\n     * @param {string} selector the selector to match\n     * @returns element OR null\n     *\n     */\n    var matchElement = function ( el, selector ) {\n        var method = ( el.matches ) ? \"matches\" : ( el.webkitMatchesSelector ) ? \n                                      \"webkitMatchesSelector\" : ( el.mozMatchesSelector ) ? \n                                      \"mozMatchesSelector\" : ( el.msMatchesSelector ) ? \n                                      \"msMatchesSelector\" : ( el.oMatchesSelector ) ? \n                                      \"oMatchesSelector\" : null;\n        \n        // Try testing the element agains the selector\n        if ( method && el[ method ].call( el, selector ) ) {\n            return el;\n        \n        // Keep walking up the DOM if we can\n        } else if ( el !== document.documentElement && el.parentNode ) {\n            return matchElement( el.parentNode, selector );\n        \n        // Otherwise we should not execute an event\n        } else {\n            return null;\n        }\n    };\n    \n    \n    return matchElement;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-matchelement/matchElement.js\n// module id = 70\n// module chunks = 0","/*!\n *\n * Handles wildcard route matching against urls with !num and !slug condition testing\n *\n * @MatchRoute\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.MatchRoute = factory();\n    }\n    \n})(function () {\n\n    var paramalama = require( \"paramalama\" ),\n\n    /**\n     *\n     * Handles wildcard route matching against urls with !num and !slug condition testing\n     * <ul>\n     * <li>route = \"/some/random/path/:myvar\"</li>\n     * <li>route = \"/some/random/path/:myvar!num\"</li>\n     * <li>route = \"/some/random/path/:myvar!slug\"</li>\n     * </ul>\n     * @constructor MatchRoute\n     * @memberof! <global>\n     * @requires paramalama\n     *\n     */\n    MatchRoute = function () {\n        return this.init.apply( this, arguments );\n    };\n    \n    MatchRoute.prototype = {\n        constructor: MatchRoute,\n        \n        /**\n         *\n         * Expression match http/https\n         * @memberof MatchRoute\n         * @member _rHTTPs\n         * @private\n         *\n         */\n        _rHTTPs: /^http[s]?:\\/\\/.*?\\//,\n        \n        /**\n         *\n         * Expression match trail slashes\n         * @memberof MatchRoute\n         * @member _rTrails\n         * @private\n         *\n         */\n        _rTrails: /^\\/|\\/$/g,\n        \n        /**\n         *\n         * Expression match hashbang/querystring\n         * @memberof MatchRoute\n         * @member _rHashQuery\n         * @private\n         *\n         */\n        _rHashQuery: /#.*$|\\?.*$/g,\n        \n        /**\n         *\n         * Expression match wildcards\n         * @memberof MatchRoute\n         * @member _rWild\n         * @private\n         *\n         */\n        _rWild: /^:/,\n        \n        /**\n         *\n         * Expressions to match wildcards with supported conditions\n         * @memberof MatchRoute\n         * @member _wilders\n         * @private\n         *\n         */\n        _wilders: {\n            num: /^[0-9]+$/,\n            slug: /^[A-Za-z]+[A-Za-z0-9-_.]*$/\n        },\n        \n        \n        /**\n         *\n         * MatchRoute init constructor method\n         * @memberof MatchRoute\n         * @method init\n         * @param {array} routes Config routes can be passed on instantiation\n         *\n         */\n        init: function ( routes ) {\n            /**\n             *\n             * The routes config array\n             * @memberof MatchRoute\n             * @member _routes\n             * @private\n             *\n             */\n            this._routes = ( routes ) ? this._cleanRoutes( routes ) : [];\n        },\n    \n        /**\n         *\n         * Get the internal route array\n         * @memberof MatchRoute\n         * @method MatchRoute.getRoutes\n         * @returns {array}\n         *\n         */\n        getRoutes: function () {\n            return this._routes;\n        },\n        \n        /**\n         *\n         * Update routes config array\n         * @memberof MatchRoute\n         * @method config\n         * @param {array} routes to match against\n         *\n         */\n        config: function ( routes ) {\n            // Force array on routes\n            routes = ( typeof routes === \"string\" ) ? [ routes ] : routes;\n    \n            this._routes = this._routes.concat( this._cleanRoutes( routes ) );\n            \n            return this;\n        },\n        \n        /**\n         *\n         * Test a url against a routes config for match validation\n         * @memberof MatchRoute\n         * @method test\n         * @param {string} url to test against routes\n         * @returns True or False\n         *\n         */\n        test: function ( url ) {\n            return this.parse( url, this._routes ).matched;\n        },\n        \n        /**\n         *\n         * Match a url against a routes config for matches\n         * @memberof MatchRoute\n         * @method params\n         * @param {string} url to test against routes\n         * @returns Array of matching routes\n         *\n         */\n        params: function ( url ) {\n            return this.parse( url, this._routes ).params;\n        },\n        \n        /**\n         *\n         * Compare a url against a specific route\n         * @memberof MatchRoute\n         * @method compare\n         * @param {string} route compare route\n         * @param {string} url compare url\n         * @returns MatchRoute.parse()\n         *\n         */\n        compare: function ( route, url ) {\n            return this.parse( url, [route] );\n        },\n        \n        /**\n         *\n         * Parse a url for matches against config array\n         * @memberof MatchRoute\n         * @method parse\n         * @param {string} url to test against routes\n         * @param {array} routes The routes to test against\n         * @returns Object witch match bool and matches array\n         *\n         */\n        parse: function ( url, routes ) {\n            var segMatches,\n                isStar,\n                params,\n                match,\n                route = this._cleanRoute( url ),\n                ruris,\n                regex,\n                cond,\n                uris = route.split( \"/\" ),\n                uLen = uris.length,\n                iLen = routes.length,\n                ret;\n            \n            for ( var i = 0; i < iLen; i++ ) {\n                // Flag \"*\" route\n                isStar = (routes[ i ] === \"*\");\n                \n                // Start fresh each iteration\n                // Only one matched route allowed\n                ret = {\n                    matched: false,\n                    route: null,\n                    uri: [],\n                    params: {},\n                    query: paramalama( url )\n                };\n                \n                ruris = routes[ i ].split( \"/\" );\n                \n                // Handle route === \"/\"\n                if ( route === \"/\" && routes[ i ] === \"/\" ) {\n                    ret.matched = true;\n                    ret.route = routes[ i ];\n                    ret.uri = \"/\";\n                    \n                    break;\n                }\n                \n                // If the actual url doesn't match the route in segment length,\n                // it cannot possibly be considered for matching so just skip it\n                if ( ruris.length !== uris.length && !isStar ) {\n                    continue;\n                }\n                \n                segMatches = 0;\n                \n                for ( var j = 0; j < uLen; j++ ) {\n                    // Matched a variable uri segment\n                    if ( this._rWild.test( ruris[ j ] ) ) {\n                        // Try to split on conditions\n                        params = ruris[ j ].split( \"!\" );\n                        \n                        // The variable segment\n                        match = params[ 0 ];\n                        \n                        // The match condition\n                        cond = params[ 1 ];\n                        \n                        // With conditions\n                        if ( cond ) {\n                            // We support this condition\n                            if ( this._wilders[ cond ] ) {\n                                regex = this._wilders[ cond ];\n                            }\n                            \n                            // Test against the condition\n                            if ( regex && regex.test( uris[ j ] ) ) {\n                                segMatches++;\n                                \n                                // Add the match to the config data\n                                ret.params[ match.replace( this._rWild, \"\" ) ] = uris[ j ];\n                                ret.uri.push( uris[ j ] );\n                            }\n                        \n                        // No conditions, anything goes   \n                        } else {\n                            segMatches++;\n                            \n                            // Add the match to the config data\n                            ret.params[ match.replace( this._rWild, \"\" ) ] = uris[ j ];\n                            ret.uri.push( uris[ j ] );\n                        }\n                    \n                    // Defined segment always goes   \n                    } else {\n                        if ( uris[ j ] === ruris[ j ] ) {\n                            segMatches++;\n                            \n                            ret.uri.push( uris[ j ] );\n                        }\n                    }\n                }\n                \n                // Handle a uri segment match OR \"*\" wildcard everything\n                if ( segMatches === uris.length || isStar ) {\n                    ret.matched = true;\n                    ret.route = routes[ i ];\n                    ret.uri = ( isStar ) ? route : ret.uri.join( \"/\" );\n                    \n                    break;\n                }\n            }\n            \n            return ret;\n        },\n        \n        /**\n         *\n         * Clean a route string\n         * If the route === \"/\" then it is returned as is\n         * @memberof MatchRoute\n         * @method _cleanRoute\n         * @param {string} route the route to clean\n         * @returns cleaned route string\n         * @private\n         *\n         */\n        _cleanRoute: function ( route ) {\n            if ( route !== \"/\" ) {\n                route = route.replace( this._rHTTPs, \"\" );\n                route = route.replace( this._rTrails, \"\" );\n                route = route.replace( this._rHashQuery, \"\" );\n                route = route.replace( this._rTrails, \"\" );\n            }\n            \n            if ( route === \"\" ) {\n                route = \"/\";\n            }\n            \n            return route;\n        },\n        \n        /**\n         *\n         * Clean an array of route strings\n         * @memberof MatchRoute\n         * @method _cleanRoutes\n         * @param {array} routes the routes to clean\n         * @returns cleaned routes array\n         * @private\n         *\n         */\n        _cleanRoutes: function ( routes ) {\n            for ( var i = routes.length; i--; ) {\n                routes[ i ] = this._cleanRoute( routes[ i ] );\n            }\n            \n            return routes;\n        }\n    };\n    \n    \n    return MatchRoute;\n\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-matchroute/MatchRoute.js\n// module id = 71\n// module chunks = 0","/*!\n *\n * A lightweight manager for HTML5 audio and video.\n *\n * @MediaBox\n * @singleton\n * @author: kitajchuk\n *\n * @useful web pages with information on this stuffs\n * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.MediaBox = factory();\n    }\n    \n})(function () {\n\n\n    var Easing = require( \"properjs-easing\" ),\n        Tween = require( \"properjs-tween\" ),\n        raf = window.requestAnimationFrame,\n        caf = window.cancelAnimationFrame,\n\n    /******************************************************************************\n     * @Private API\n    *******************************************************************************/\n    \n    /**\n     *\n     * Expression match hashbang/querystring\n     * @member rHashQuery\n     * @private\n     *\n     */\n    rHashQuery = /[#|?].*$/g,\n    \n    \n    /**\n     *\n     * Replace \"no\" in canPlayType strings\n     * @member rNos\n     * @private\n     *\n     */\n    rNos = /^no$/,\n    \n    \n    /**\n     *\n     * Clean up all those typeof's\n     * @method isFunction\n     * @returns boolean\n     * @private\n     *\n     */\n    isFunction = function ( fn ) {\n        return (typeof fn === \"function\");\n    },\n    \n    \n    /**\n     *\n     * Test that an object is an Element\n     * @method isElement\n     * @returns boolean\n     * @private\n     *\n     */\n    isElement = function ( el ) {\n        return (el instanceof HTMLElement);\n    },\n    \n    \n    /**\n     *\n     * Borrowed(ish)\n     * Modernizr v3.0.0-alpha.4 on master branch\n     * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/audio.js\n     * @method getAudioSupport\n     * @returns object\n     * @private\n     *\n     */\n    getAudioSupport = function () {\n        var elem = document.createElement( \"audio\" ),\n            ret = {};\n    \n        try {\n            if ( elem.canPlayType ) {\n                ret.ogg = elem.canPlayType( 'audio/ogg; codecs=\"vorbis\"' ).replace( rNos, \"\" );\n                ret.mp3 = elem.canPlayType( 'audio/mpeg;' ).replace( rNos, \"\" );\n                ret.opus = elem.canPlayType( 'audio/ogg; codecs=\"opus\"' ).replace( rNos, \"\" );\n    \n                // Mimetypes accepted:\n                // developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements\n                // bit.ly/iphoneoscodecs\n                ret.wav = elem.canPlayType( 'audio/wav; codecs=\"1\"' ).replace( rNos, \"\" );\n                ret.m4a = (elem.canPlayType( 'audio/x-m4a;' ) || elem.canPlayType( 'audio/aac;' )).replace( rNos, \"\" );\n            }\n    \n        } catch ( e ) {}\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Borrowed(ish)\n     * Modernizr v3.0.0-alpha.4 on master branch\n     * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/video.js\n     * @method getVideoSupport\n     * @returns object\n     * @private\n     *\n     */\n    getVideoSupport = function () {\n        var elem = document.createElement( \"video\" ),\n            ret = {};\n    \n        try {\n            if ( elem.canPlayType ) {\n                ret.ogg = elem.canPlayType( 'video/ogg; codecs=\"theora\"' ).replace( rNos, \"\" );\n    \n                // Without QuickTime, this value will be `undefined`. github.com/Modernizr/Modernizr/issues/546\n                ret.h264 = elem.canPlayType( 'video/mp4; codecs=\"avc1.42E01E\"' ).replace( rNos, \"\" );\n                ret.webm = elem.canPlayType( 'video/webm; codecs=\"vp8, vorbis\"' ).replace( rNos, \"\" );\n                ret.vp9 = elem.canPlayType( 'video/webm; codecs=\"vp9\"' ).replace( rNos, \"\" );\n                ret.hls = elem.canPlayType( 'application/x-mpegURL; codecs=\"avc1.42E01E\"' ).replace( rNos, \"\" );\n            }\n    \n        } catch ( e ) {}\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Get mimetype string from media source\n     * @method getMimeForMedia\n     * @param {string} src media file source\n     * @private\n     *\n     */\n    getMimeForMedia = function ( type, src ) {\n        var ext = src.split( \".\" ).pop().toLowerCase().replace( rHashQuery, \"\" ),\n            ret;\n    \n        if ( type === \"video\" ) {\n            switch ( ext ) {\n                case \"webm\":\n                    ret = \"video/webm\";\n                    break;\n                case \"mp4\":\n                case \"m4v\":\n                    ret = \"video/mp4\";\n                    break;\n                case \"ogv\":\n                    ret = \"video/ogg\";\n                    break;\n            }\n    \n        } else {\n            switch ( ext ) {\n                case \"aac\":\n                    ret = \"audio/aac\";\n                    break;\n                case \"m4a\":\n                    ret = \"audio/x-m4a\";\n                    break;\n                case \"mp4\":\n                    ret = \"audio/mp4\";\n                    break;\n                case \"mp1\":\n                case \"mp2\":\n                case \"mp3\":\n                case \"mpg\":\n                case \"mpeg\":\n                    ret = \"audio/mpeg\";\n                    break;\n                case \"oga\":\n                case \"ogg\":\n                    ret = \"audio/ogg\";\n                    break;\n                case \"wav\":\n                    ret = \"audio/wav\";\n                    break;\n            }\n        }\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Get the audio source that should be used\n     * @method getCanPlaySource\n     * @param {string} media the media type to check\n     * @param {array} sources Array of media sources\n     * @returns object\n     * @private\n     *\n     */\n    getCanPlaySource = function ( media, sources ) {\n        var source, canPlay;\n    \n        for ( var i = 0, len = sources.length; i < len; i++ ) {\n            var src = sources[ i ].split( \".\" ).pop().toLowerCase().replace( rHashQuery, \"\" );\n    \n    \n            // The only time we break, this honors webm > mp4\n            if ( src === \"webm\" && MediaBox.support[ media ][ src ] === \"probably\" ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ][ src ];\n                break;\n            }\n    \n            if ( MediaBox.support[ media ][ src ] === \"probably\" || MediaBox.support[ media ][ src ] === \"maybe\" ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ][ src ];\n            }\n    \n            if ( (src === \"ogv\" || src === \"oga\") && (MediaBox.support[ media ].ogg === \"probably\" || MediaBox.support[ media ].ogg === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].ogg;\n            }\n    \n            if ( (src === \"mp4\" || src === \"m4v\") && (MediaBox.support[ media ].h264 === \"probably\" || MediaBox.support[ media ].h264 === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].h264;\n            }\n    \n            if ( src === \"aac\" && (MediaBox.support[ media ].m4a === \"probably\" || MediaBox.support[ media ].m4a === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].m4a;\n            }\n    \n            if ( (src === \"mp1\" || src === \"mp2\" || src === \"mpg\" || src === \"mpeg\") && (MediaBox.support[ media ].mp3 === \"probably\" || MediaBox.support[ media ].mp3 === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].mp3;\n            }\n    \n/*\n            if ( source ) {\n                break;\n            }\n*/\n        }\n    \n        return {\n            source: source,\n            canPlay: canPlay\n        };\n    },\n    \n    \n    /**\n     *\n     * MediaBox clear a timeupdate interval for audio/video tracks\n     * @method clearPlaybackUpdate\n     * @param {object} track The media object\n     *\n     */\n    clearPlaybackUpdate = function ( track ) {\n        if ( track._updateId ) {\n            caf( track._updateId );\n    \n            track._updateId = null;\n            track._updateFn = null;\n        }\n    },\n    \n    \n    /**\n     *\n     * MediaBox crossbrowser create audio context\n     * @method createAudioContext\n     * @returns instance of audio context\n     *\n     */\n    createAudioContext = function () {\n        var AudioContext;\n    \n        if ( window.AudioContext ) {\n            AudioContext = window.AudioContext;\n    \n        } else if ( window.webkitAudioContext ) {\n            AudioContext = window.webkitAudioContext;\n        }\n    \n        return ( AudioContext ) ? new AudioContext() : AudioContext;\n    },\n    \n    \n    /**\n     *\n     * MediaBox Open a new XMLHttpRequest\n     * @method createRequest\n     * @returns instance of audio context\n     *\n     */\n    createRequest = function ( url, config, callback ) {\n        var xhr = new XMLHttpRequest();\n    \n        xhr.open( \"GET\", url, true );\n    \n        if ( config ) {\n            for ( var i in config ) {\n                xhr[ i ] = config[ i ];\n            }\n        }\n    \n        xhr.onreadystatechange = function ( e ) {\n            if ( this.readyState === 4 ) {\n                if ( this.status === 200 ) {\n                    try {\n                        if ( !config.responseType ) {\n                            this.responseJSON = JSON.parse( this.responseText );\n                        }\n    \n                        if ( isFunction( callback ) ) {\n                            callback( this );\n                        }\n    \n                    } catch ( error ) {\n                        throw new Error([\n                            error.name,\n                            error.message\n    \n                        ].join( \" : \" ));\n                    }\n                }\n            }\n        };\n    \n        xhr.send();\n    \n        return xhr;\n    },\n    \n    \n    /**\n     *\n     * MediaBox init constructor for singleton\n     * @method init\n     * @private\n     *\n     */\n    init = function () {\n        _instance = this;\n    },\n    \n    \n    /**\n     *\n     * MediaBox default volume setting\n     * @member _volume\n     * @private\n     *\n     */\n    _volume = 1,\n    \n    \n    /**\n     *\n     * MediaBox information for each channel.\n     * These are default channels you can use.\n     * <ul>\n     * <li>bgm - background music channel</li>\n     * <li>sfx - sound effects channel</li>\n     * <li>vid - video channel</li>\n     * </ul>\n     * @member _channels\n     * @private\n     *\n     */\n    _channels = {\n        bgm: {\n            volume: _volume,\n            _builtIn: true\n        },\n        sfx: {\n            volume: _volume,\n            _builtIn: true\n        },\n        vid: {\n            volume: _volume,\n            _builtIn: true\n        }\n    },\n    \n    /**\n     *\n     * MediaBox holds all audio tracks\n     * @member _audio\n     * @private\n     *\n     */\n    _audio = {},\n    \n    /**\n     *\n     * MediaBox holds all video tracks\n     * @member _video\n     * @private\n     *\n     */\n    _video = {},\n    \n    \n    /**\n     *\n     * The singleton instance for MediaBox\n     * @member _instance\n     * @private\n     *\n     */\n    _instance = null,\n    \n    \n    /**\n     *\n     * Master audio context instance\n     * @member _context\n     * @private\n     *\n     */\n    _context = createAudioContext(),\n    \n    \n    /******************************************************************************\n     * @Public API\n    *******************************************************************************/\n    \n    /**\n     *\n     * A complete management tool for html5 video and audio context\n     * @constructor MediaBox\n     * @requires Tween\n     * @memberof! <global>\n     *\n     */\n    MediaBox = function () {\n        return (_instance || init.apply( this, arguments ));\n    };\n    \n    \n    /**\n     *\n     * MediaBox types object\n     * @memberof MediaBox\n     * @member types\n     *\n     */\n    MediaBox.types = {\n        AUDIO: \"audio\",\n        VIDEO: \"video\"\n    };\n    \n    \n    /**\n     *\n     * MediaBox support object\n     * @memberof MediaBox\n     * @member support\n     *\n     */\n    MediaBox.support = {\n        audio: getAudioSupport(),\n        video: getVideoSupport()\n    };\n    \n    \n    /**\n     *\n     * MediaBox stopped state constant\n     * @memberof MediaBox\n     * @member STATE_STOPPED\n     *\n     */\n    MediaBox.STATE_STOPPED = 0;\n    \n    \n    /**\n     *\n     * MediaBox stopping state constant\n     * @memberof MediaBox\n     * @member STATE_STOPPING\n     *\n     */\n    MediaBox.STATE_STOPPING = 1;\n    \n    \n    /**\n     *\n     * MediaBox paused state constant\n     * @memberof MediaBox\n     * @member STATE_PAUSED\n     *\n     */\n    MediaBox.STATE_PAUSED = 2;\n    \n    \n    /**\n     *\n     * MediaBox playing state constant\n     * @memberof MediaBox\n     * @member STATE_PLAYING\n     *\n     */\n    MediaBox.STATE_PLAYING = 3;\n    \n    \n    /**\n     *\n     * MediaBox prototype\n     *\n     */\n    MediaBox.prototype = {\n        constructor: MediaBox,\n    \n        /**\n         *\n         * MediaBox check if media is loaded via ajax\n         * @memberof MediaBox\n         * @method isLoaded\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isLoaded: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.loaded === true);\n        },\n    \n        /**\n         *\n         * MediaBox check stopped/paused status for audio/video\n         * @memberof MediaBox\n         * @method isStopped\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isStopped: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_STOPPED);\n        },\n    \n        /**\n         *\n         * MediaBox check stopped/paused status for audio/video\n         * @memberof MediaBox\n         * @method isPaused\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isPaused: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_PAUSED);\n        },\n    \n        /**\n         *\n         * MediaBox check playing status for audio/video\n         * @memberof MediaBox\n         * @method isPlaying\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isPlaying: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_PLAYING || obj.state === MediaBox.STATE_STOPPING);\n        },\n    \n        /**\n         *\n         * MediaBox set volume for audio OR video\n         * @memberof MediaBox\n         * @method setVolume\n         * @param {string} id reference id for media\n         * @param {number} volume the volume to set to\n         *\n         */\n        setVolume: function ( id, volume ) {\n            var obj = this.getMedia( id );\n    \n            obj._node.volume = volume;\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox set volume for audio OR video\n         * @memberof MediaBox\n         * @method getVolume\n         * @param {string} id reference id for media\n         * @returns number\n         *\n         */\n        getVolume: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return obj._node.volume;\n        },\n    \n        /**\n         *\n         * MediaBox get an audio nodes property\n         * @memberof MediaBox\n         * @method getAudioProp\n         * @param {string} id Audio id\n         * @param {string} prop The property to access\n         *\n         */\n        getMediaProp: function ( id, prop ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                return obj._node[ prop ];\n            }\n        },\n    \n        /**\n         *\n         * MediaBox set an audio nodes property/attribute\n         * @memberof MediaBox\n         * @method setAudioProp\n         * @param {string} id Audio id\n         * @param {string} prop The property to set\n         * @param {mixed} value The value to assign\n         *\n         */\n        setMediaProp: function ( id, prop, value ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                obj._node[ prop ] = value;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get an audio nodes attribute\n         * @memberof MediaBox\n         * @method getAudioAttr\n         * @param {string} id Audio id\n         * @param {string} prop The property to access\n         *\n         */\n        getMediaAttr: function ( id, prop ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                return obj._node.getAttribute( prop );\n            }\n        },\n    \n        /**\n         *\n         * MediaBox set an audio nodes attribute\n         * @memberof MediaBox\n         * @method setAudioAttr\n         * @param {string} id Audio id\n         * @param {string} prop The property to set\n         * @param {mixed} value The value to assign\n         *\n         */\n        setMediaAttr: function ( id, prop, value ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                obj._node.setAttribute( prop, value );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add an audio nodes event listener\n         * @memberof MediaBox\n         * @method addAudioEvent\n         * @param {string} id Audio id to add event for\n         * @param {string} event Event to add\n         * @param {function} callback The event handler to call\n         *\n         */\n        addMediaEvent: function ( id, event, callback ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                // Capture timeupdate to run at 60fps instead\n                if ( event === \"timeupdate\" ) {\n                    obj._events.timeupdate = callback;\n    \n                    return _instance;\n                }\n    \n                obj._events[ event ] = function () {\n                    if ( isFunction( callback ) ) {\n                        callback.apply( this, arguments );\n                    }\n                };\n    \n                obj._node.addEventListener( event, obj._events[ event ], false );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox remove an audio nodes event listener\n         * @memberof MediaBox\n         * @method removeAudioEvent\n         * @param {string} id Audio id to remove event for\n         * @param {string} event Event to remove\n         *\n         */\n        removeMediaEvent: function ( id, event ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                // Capture timeupdate to run at 60fps instead\n                if ( event === \"timeupdate\" ) {\n                    clearPlaybackUpdate( obj );\n                }\n    \n                obj._node.removeEventListener( event, obj._events[ event ], false );\n    \n                obj._events[ event ] = null;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox play audio node by id\n         * @memberof MediaBox\n         * @method playAudio\n         * @param {string} id reference id for media\n         *\n         */\n        playMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && (this.isStopped( id ) || this.isPaused( id )) ) {\n                obj._node.volume = _channels[ obj.channel ].volume;\n                obj._node.play();\n                obj.state = MediaBox.STATE_PLAYING;\n    \n                if ( !obj._updateId && isFunction( obj._events.timeupdate ) ) {\n                    obj._updateFn = function () {\n                        obj._events.timeupdate.call( obj._node, null );\n                        \n                        obj._updateId = raf( obj._updateFn );\n                    };\n                    \n                    obj._updateId = raf( obj._updateFn );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox stop audio node by id with a paused state\n         * @memberof MediaBox\n         * @method pauseAudio\n         * @param {string} id reference id for media\n         *\n         */\n        pauseMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && this.isPlaying( id ) ) {\n                obj._node.pause();\n                obj.state = MediaBox.STATE_PAUSED;\n    \n                clearPlaybackUpdate( obj );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox stop audio node by id with a stopped state\n         * @memberof MediaBox\n         * @method stopAudio\n         * @param {string} id reference id for media\n         *\n         */\n        stopMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && this.isPlaying( id ) ) {\n                obj._node.pause();\n                obj.state = MediaBox.STATE_STOPPED;\n    \n                clearPlaybackUpdate( obj );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get audio object by id\n         * @memberof getMedia\n         * @method getAudio\n         * @param {string} id reference id for media\n         * @returns object\n         *\n         */\n        getMedia: function ( id ) {\n            return _video[ id ] ? _video[ id ] : _audio[ id ];\n        },\n    \n        /**\n         *\n         * MediaBox get all audio objects\n         * @memberof MediaBox\n         * @method getAudios\n         * @returns object\n         *\n         */\n        getAudios: function () {\n            return _audio;\n        },\n    \n        /**\n         *\n         * MediaBox get all video objects\n         * @memberof MediaBox\n         * @method getVideos\n         * @returns object\n         *\n         */\n        getVideos: function () {\n            return _video;\n        },\n    \n        /**\n         *\n         * MediaBox kill a media object abstractly\n         * @memberof MediaBox\n         * @method destroyMedia\n         * @param {string} id reference id for media\n         *\n         */\n        destroyMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            this.stopMedia( id );\n    \n            if ( obj.type === MediaBox.types.AUDIO ) {\n                delete _audio[ id ];\n    \n            } else {\n                delete _video[ id ];\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox load media config JSON formatted in a json bundle\n         * @memberof MediaBox\n         * @method loadMedia\n         * @param {string} url The url to the JSON config\n         * @param {function} callback The function to fire when done loading\n         *\n         */\n        loadMedia: function ( url, callback ) {\n            var self = this;\n    \n            createRequest( url, null, function ( xhr ) {\n                self.addMedia( xhr.responseJSON );\n    \n                if ( isFunction( callback ) ) {\n                    callback();\n                }\n            });\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add media from bundle json\n         * @memberof MediaBox\n         * @method addMedia\n         * @param {object} bundle Formatted media bundle JSON\n         *\n         */\n        addMedia: function ( bundle ) {\n            for ( var m in bundle ) {\n                for ( var i = bundle[ m ].length; i--; ) {\n                    // this.addVideo() / this.addAudio()\n                    if ( isFunction( this[ m ] ) ) {\n                        this[ m ]( bundle[ m ][ i ] );\n                    }\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add a video element\n         * @memberof MediaBox\n         * @method addVideo\n         * @param {object} obj Formatted media bundle\n         *\n         */\n        addVideo: function ( obj ) {\n            var id = obj.id,\n                src = obj.src,\n                props = {\n                    element: obj.element,\n                    channel: obj.channel\n                };\n    \n            // Disallow overrides / Require id and src props\n            if ( _video[ id ] || !id || !src ) {\n                return _instance;\n            }\n    \n            // Allow new channels to exist\n            if ( !_channels[ props.channel ] ) {\n                _channels[ props.channel ] = {\n                    volume: _volume\n                };\n            }\n    \n            // Create video object\n            _video[ id ] = {};\n            _video[ id ].type = MediaBox.types.VIDEO;\n            _video[ id ].state = MediaBox.STATE_STOPPED;\n            _video[ id ].loaded = true;\n            _video[ id ].channel = props.channel;\n            _video[ id ].sources = src;\n            _video[ id ]._source = getCanPlaySource( MediaBox.types.VIDEO, src );\n            _video[ id ]._events = {};\n            _video[ id ]._updateId = null;\n            _video[ id ]._updateFn = null;\n            _video[ id ]._node = (props.element || document.createElement( \"video\" ));\n            _video[ id ]._nodeSource = document.createElement( \"source\" );\n            _video[ id ]._nodeSource.src = _video[ id ]._source.source;\n            _video[ id ]._nodeSource.type = getMimeForMedia( MediaBox.types.VIDEO, _video[ id ]._source.source );\n            _video[ id ]._node.appendChild( _video[ id ]._nodeSource );\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add an audio context\n         * @memberof MediaBox\n         * @method addAudio\n         * @param {object} obj Formatted media bundle\n         *\n         */\n        addAudio: function ( obj ) {\n            var id = obj.id,\n                src = obj.src,\n                props = {\n                    channel: obj.channel,\n                    CORS: (obj.CORS || false)\n                };\n    \n            // Disallow overrides / Require id and src props\n            if ( _audio[ id ] || !id || !src ) {\n                return _instance;\n            }\n            \n            // Allow new channels to exist\n            if ( !_channels[ props.channel ] ) {\n                _channels[ props.channel ] = {\n                    volume: _volume\n                };\n            }\n    \n            // Create audio object\n            _audio[ id ] = {};\n            _audio[ id ].type = MediaBox.types.AUDIO;\n            _audio[ id ].state = MediaBox.STATE_STOPPED;\n            _audio[ id ].loaded = true;\n            _audio[ id ].channel = props.channel;\n            _audio[ id ].sources = src;\n            _audio[ id ]._source = getCanPlaySource( MediaBox.types.AUDIO, src );\n            _audio[ id ]._events = {};\n            _audio[ id ]._updateId = null;\n            _audio[ id ]._updateFn = null;\n            _audio[ id ]._node = new Audio( _audio[ id ]._source.source );\n    \n            // Get the media as a buffer\n            if ( isFunction( obj.onloaded ) && !props.CORS ) {\n                createRequest( _audio[ id ]._source.source, {responseType: \"arraybuffer\"}, function ( xhr ) {\n                    _context.decodeAudioData( xhr.response, obj.onloaded );\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade in audio/video volume\n         * @memberof MediaBox\n         * @method fadeMediaIn\n         * @param {string} id string reference id for audio\n         * @param {number} duration tween time in ms\n         * @param {function} easing optional easing to use\n         *\n         */\n        fadeMediaIn: function ( id, duration, easing ) {\n            var obj = this.getMedia( id ),\n                self = this,\n                volume;\n    \n            if ( obj && obj.state === MediaBox.STATE_PLAYING ) {\n                return _instance;\n            }\n    \n            if ( obj ) {\n                volume = _channels[ obj.channel ].volume;\n    \n                // Only reset volume and play if object is stopped\n                // Object state could be STATE_STOPPING at this point\n                if ( obj.state === MediaBox.STATE_STOPPED ) {\n                    this.playMedia( id );\n                    this.setVolume( id, 0 );\n    \n                } else if ( obj.state === MediaBox.STATE_STOPPING ) {\n                    obj.state = MediaBox.STATE_PLAYING;\n                }\n    \n                new Tween({\n                    to: volume,\n                    from: 0,\n                    ease: ( isFunction( easing ) ) ? easing : Easing.linear,\n                    duration: (duration || 1000),\n                    update: function ( v ) {\n                        self.setVolume( id, (v > volume) ? volume : v );\n                    },\n                    complete: function () {\n                        self.setVolume( id, volume );\n                    }\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade out audio/video volume\n         * @memberof MediaBox\n         * @method fadeMediaOut\n         * @param {string} id string reference id for audio\n         * @param {number} duration tween time in ms\n         * @param {function} easing optional easing to use\n         *\n         */\n        fadeMediaOut: function ( id, duration, easing ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && obj.state === MediaBox.STATE_STOPPING ) {\n                return _instance;\n            }\n    \n            var self = this,\n                handler = function ( v ) {\n                    // Check audio state on fadeout in case it is started again\n                    // before the duration of the fadeout is complete.\n                    if ( obj.state === MediaBox.STATE_STOPPING ) {\n                        self.setVolume( id, (v < 0) ? 0 : v );\n    \n                        if ( self.getVolume( id ) === 0 ) {\n                            self.stopMedia( id );\n                        }\n                    }\n                };\n    \n            if ( obj ) {\n                obj.state = MediaBox.STATE_STOPPING;\n    \n                new Tween({\n                    to: 0,\n                    from: self.getVolume( id ),\n                    ease: ( isFunction( easing ) ) ? easing : Easing.linear,\n                    duration: (duration || 1000),\n                    update: handler,\n                    complete: handler\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox pause all playing audio for a given channel id\n         * @memberof MediaBox\n         * @method stopChannel\n         * @param {string} channel string reference id for channel\n         *\n         */\n        stopChannel: function ( channel ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.pauseMedia( id );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.pauseMedia( id );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox resume all playing audio for a given channel id\n         * @memberof MediaBox\n         * @method playChannel\n         * @param {string} channel string reference id for channel\n         *\n         */\n        playChannel: function ( channel ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PAUSED ) {\n                    this.playMedia( id );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PAUSED ) {\n                    this.playMedia( id );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade out all playing audio/video for a given channel id\n         * @memberof MediaBox\n         * @method fadeChannelOut\n         * @param {string} channel string reference id for channel\n         * @param {number} duration tween time in ms\n         *\n         */\n        fadeChannelOut: function ( channel, duration ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade in all playing audio/video for a given channel id\n         * @memberof MediaBox\n         * @method fadeChannelIn\n         * @param {string} channel string reference id for channel\n         * @param {number} duration tween time in ms\n         *\n         */\n        fadeChannelIn: function ( channel, duration ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_STOPPED ) {\n                    this.fadeMediaIn( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_STOPPED ) {\n                    this.fadeMediaIn( id, duration );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox crossfade volume between multiple channels\n         * @memberof MediaBox\n         * @method crossFadeChannel\n         * @param {string} channel string reference id for channel\n         * @param {string} objId string reference id for object to fade in\n         * @param {number} duration tween time in ms\n         *\n         */\n        crossFadeChannel: function ( channel, objId, duration ) {\n            var id;\n            \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            return this.fadeMediaIn( objId, duration );\n        },\n    \n        /**\n         *\n         * MediaBox set the property for a channel\n         * @memberof MediaBox\n         * @method setChannelProp\n         * @param {string} id string id reference to channel\n         * @param {string} key string prop key\n         * @param {string} val prop val\n         *\n         */\n        setChannelProp: function ( id, key, val ) {\n            if ( _channels[ id ] ) {\n                _channels[ id ][ key ] = val;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get the property for a channel\n         * @memberof MediaBox\n         * @method getChannelProp\n         * @param {string} id string id reference to channel\n         * @param {string} key string prop key\n         *\n         */\n        getChannelProp: function ( id, key ) {\n            if ( _channels[ id ] ) {\n                return _channels[ id ][ key ];\n            }\n        },\n        \n        \n        /**\n         *\n         * MediaBox get the channels config\n         * @memberof MediaBox\n         * @method _channels\n         *\n         */\n        getChannels: function () {\n            return _channels;\n        }\n    };\n    \n    \n    return MediaBox;\n\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-mediabox/MediaBox.js\n// module id = 72\n// module chunks = 0","/*!\n *\n * Asynchronous webpage transitioning with pushstate management.\n *\n * @PageController\n * @author: kitajchuk\n *\n * @module\n * - init\n * - isActive\n * - onload\n * - unload\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.PageController = factory();\n    }\n\n})(function () {\n\n    // Useful stuff\n    var Router = require( \"properjs-router\" ),\n        Controller = require( \"properjs-controller\" ),\n\n        _router = null,\n        _config = [],\n        _modules = [],\n        _synced = {\n            active: [],\n            inactive: []\n        },\n        _initialized = false,\n        _timeBefore = null,\n        _timeDelay = 0,\n        _eventPrefix = \"page-controller-\",\n        _currentRoute = null,\n        _isFirstRoute = true,\n        _currentQuery = null,\n        _currentToString = null,\n        _isSamePage = false,\n        _silentMode = false,\n        _silentCallback = null,\n        _isRoutingActive = false,\n\n        // Singleton\n        _instance = null,\n\n\n    // Private functions\n    fire = function ( event, arg ) {\n        if ( !_silentMode ) {\n            _instance.fire( (_eventPrefix + event), arg );\n        }\n    },\n\n\n    isFunction = function ( fn ) {\n        return (typeof fn === \"function\");\n    },\n\n\n    isSameObject = function ( o1, o2 ) {\n        return (JSON.stringify( o1 ) === JSON.stringify( o2 ));\n    },\n\n\n    execInit = function ( method ) {\n        // One time module initialization\n        for ( var i = _modules.length; i--; ) {\n            if ( !_modules[ i ].__initialized && isFunction( _modules[ i ].init ) ) {\n                _modules[ i ].__initialized = true;\n                _modules[ i ].init();\n            }\n        }\n    },\n\n\n    execUnload = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        // Unload currently active modules only\n        for ( var i = _synced.active.length; i--; ) {\n            if ( isFunction( _synced.active[ i ].unload ) ) {\n                _synced.active[ i ].unload();\n            }\n        }\n    },\n\n\n    execOnload = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        // Unload newly active modules only\n        for ( var i = _synced.active.length; i--; ) {\n            if ( isFunction( _synced.active[ i ].onload ) ) {\n                _synced.active[ i ].onload();\n            }\n        }\n    },\n\n\n    getRouteDataToString = function ( data ) {\n        var ret = data.uri,\n            i;\n\n        for ( i in data.query ) {\n            ret += \"-\" + i + \"-\" + data.query[ i ];\n        }\n\n        for ( i in data.params ) {\n            ret += \"-\" + i + \"-\" + data.params[ i ];\n        }\n\n        return ret;\n    },\n\n\n    /**\n     * @fires page-controller-router-synced-modules\n     */\n    syncModules = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        _synced.active = [];\n        _synced.inactive = [];\n\n        for ( var i = _modules.length; i--; ) {\n            var module = _modules[ i ];\n\n            if ( isFunction( module.isActive ) ) {\n                // isActive method should rebuild module variables\n                if ( module.isActive() ) {\n                    _synced.active.push( module );\n\n                } else {\n                    _synced.inactive.push( module );\n                }\n            }\n        }\n\n        fire( \"router-synced-modules\", _synced );\n    },\n\n\n    onRouterResponse = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        _isRoutingActive = true;\n\n        function __route() {\n            if ( (Date.now() - _timeBefore) >= _instance._options.transitionTime ) {\n                _instance.stop();\n\n                handleRouterResponse( data );\n            }\n        }\n\n        _instance.go( __route );\n    },\n\n\n    onPopGetRouter = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        onPreGetRouter( data.request );\n    \n        setTimeout( function () {\n            handleRouterResponse( data );\n\n        }, _instance._options.transitionTime );\n    },\n\n\n    /**\n     * @fires page-controller-router-transition-out\n     * @fires page-controller-router-samepage\n     */\n    onPreGetRouter = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        var isSameRequest = (_currentToString === getRouteDataToString( data ));\n\n        if ( isSameRequest ) {\n            fire( \"router-samepage\", {\n                request: data\n            });\n            _isSamePage = true;\n            return;\n        }\n\n        _timeBefore = Date.now();\n\n        if ( !_isFirstRoute ) {\n            fire( \"router-transition-out\", {\n                request: data\n            });\n        }\n    },\n\n\n    /**\n     * @fires page-controller-router-refresh-document\n     * @fires page-controller-router-transition-in\n     */\n    handleRouterResponse = function ( res ) {\n        if ( _isSamePage ) {\n            _isSamePage = false;\n            _isRoutingActive = false;\n            return;\n        }\n\n        var data = {\n            response: res.response.responseText,\n            request: res.request,\n            status: res.status\n        };\n\n        _currentRoute = data.request.uri;\n        _currentQuery = data.request.query;\n        _currentToString = getRouteDataToString( data.request );\n\n        // Think of this as window.onload, happens once\n        if ( _isFirstRoute ) {\n            _isFirstRoute = false;\n            _isRoutingActive = false;\n            syncModules();\n            execOnload();\n\n            fire( \"initialized-page\", data );\n\n        // All other Router sequences fall here\n        } else {\n            // Allow transition duration to take place\n            setTimeout(function () {\n                // 0.1 Sync modules and unload active ones\n                syncModules();\n                execUnload();\n\n                // 0.2 Refresh the document content\n                fire( \"router-refresh-document\", data );\n\n                // 0.3 Sync modules and onload newly active ones\n                syncModules();\n                execOnload();\n\n                // 0.4 Trigger transition of content to come back in\n                fire( \"router-transition-in\", data );\n\n                _isRoutingActive = false;\n\n                // 0.5 Check `silent` mode\n                if ( _silentMode ) {\n                    _silentMode = false;\n\n                    if ( isFunction( _silentCallback ) ) {\n                        _silentCallback( data );\n                        _silentCallback = null;\n                    }\n                }\n\n            }, _instance._options.transitionTime );\n        }\n    };\n\n\n    /**\n     *\n     * Page transition manager\n     * @constructor PageController\n     * @augments Controller\n     * @requires Controller\n     * @requires Router\n     * @memberof! <global>\n     * @param {object} options Settings for control features\n     * <ul>\n     * <li>transitionTime</li>\n     * <li>routerOptions</li>\n     * </ul>\n     *\n     */\n    var PageController = function ( options ) {\n        // Singleton\n        if ( !_instance ) {\n            _instance = this;\n\n            /**\n             *\n             * The default options\n             * @memberof _options\n             * @member _routerOptions\n             * @private\n             *\n             */\n            this._options = {\n                transitionTime: _timeDelay,\n                routerOptions: {\n                    pushStateOptions: {}\n                }\n            };\n\n            // Normalize usage options passed in\n            options = (options || {});\n\n            // Merge usage options with defaults\n            if ( options.transitionTime ) {\n                this._options.transitionTime = options.transitionTime;\n            }\n\n            if ( options.routerOptions ) {\n                for ( var i in options.routerOptions ) {\n                    this._options.routerOptions[ i ] = options.routerOptions[ i ];\n                }\n            }\n        }\n\n        return _instance;\n    };\n\n    PageController.prototype = new Controller();\n\n    /**\n     *\n     * Initialize controller on page\n     * @memberof PageController\n     * @method initPage\n     *\n     */\n    PageController.prototype.initPage = function () {\n        if ( _initialized ) {\n            return;\n        }\n\n        _initialized = true;\n\n        /**\n         *\n         * Instance of Router\n         * @private\n         *\n         */\n        _router = new Router( this._options.routerOptions );\n\n        if ( _router._matcher.parse( window.location.href, _config ).matched ) {\n            _router.bind();\n\n            for ( var i = _config.length; i--; ) {\n                _router.get( _config[ i ], onRouterResponse );\n            }\n\n            _router.on( \"preget\", onPreGetRouter );\n            _router.on( \"popget\", onPopGetRouter );\n\n            execInit();\n        }\n    };\n\n    /**\n     *\n     * Trigger the router on a uri and run PageController `silently`, so no events fire.\n     * @memberof PageController\n     * @method routeSilently\n     * @param {string} uri The route to trigger\n     * @param {function} cb The optional callback to fire when done\n     *\n     */\n    PageController.prototype.routeSilently = function ( uri, cb ) {\n        _silentMode = true;\n        _silentCallback = cb;\n        _router.trigger( uri );\n    };\n\n    /**\n     *\n     * Set the Router configuration\n     * @memberof PageController\n     * @method setConfig\n     * @param {object} config The config for MatchRoute\n     *\n     */\n    PageController.prototype.setConfig = function ( config ) {\n        _config = config;\n    };\n\n    /**\n     *\n     * Set the module configuration\n     * @memberof PageController\n     * @method setModules\n     * @param {object} modules The array of module objects\n     *\n     */\n    PageController.prototype.setModules = function ( modules ) {\n        if ( !modules ) {\n            return;\n        }\n\n        for ( var i = modules.length; i--; ) {\n            this.addModule( modules[ i ] );\n        }\n    };\n\n    /**\n     *\n     * Add to the module configuration\n     * @memberof PageController\n     * @method addModule\n     * @param {object} module The module object to add\n     *\n     */\n    PageController.prototype.addModule = function ( module ) {\n        if ( _modules.indexOf( module ) === -1 && isFunction( module.isActive ) && isFunction( module.onload ) && isFunction( module.unload ) ) {\n            _modules.push( module );\n\n        } else {\n            throw new Error( \"PageController ERROR - All registered modules require isActive, onload and unload methods.\" );\n        }\n    };\n\n    /**\n     *\n     * Returns the array of modules\n     * @memberof PageController\n     * @method getModules\n     * @returns array\n     *\n     */\n    PageController.prototype.getModules = function () {\n        return _modules;\n    };\n\n    /**\n     *\n     * Returns the MatchRoute config\n     * @memberof PageController\n     * @method getConfig\n     * @returns array\n     *\n     */\n    PageController.prototype.getConfig = function () {\n        return _config;\n    };\n\n    /**\n     *\n     * Returns the instances Router\n     * @memberof PageController\n     * @method getRouter\n     * @returns Router\n     *\n     */\n    PageController.prototype.getRouter = function () {\n        return _router;\n    };\n\n    /**\n     *\n     * Returns the instances PushState\n     * @memberof PageController\n     * @method getPusher\n     * @returns PushState\n     *\n     */\n    PageController.prototype.getPusher = function () {\n        return _router._pusher;\n    };\n\n    /**\n     *\n     * Returns the instances MatchRoute\n     * @memberof PageController\n     * @method getMatcher\n     * @returns MatchRoute\n     *\n     */\n    PageController.prototype.getMatcher = function () {\n        return _router._matcher;\n    };\n\n    /**\n     *\n     * Returns the current route pathed\n     * @memberof PageController\n     * @method getRoute\n     * @returns string\n     *\n     */\n    PageController.prototype.getRoute = function () {\n        return _currentRoute;\n    };\n\n    /**\n     *\n     * Returns the current query params object\n     * @memberof PageController\n     * @method getQuery\n     * @returns string\n     *\n     */\n    PageController.prototype.getQuery = function () {\n        return _currentQuery;\n    };\n\n    return PageController;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-pagecontroller/PageController.js\n// module id = 73\n// module chunks = 0","/*!\n *\n * Handles history pushstate/popstate with async option\n * If history is not supported, falls back to hashbang!\n *\n * @PushState\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.PushState = factory();\n    }\n\n})(function () {\n\n    /**\n     *\n     * A simple pushState Class\n     * @constructor PushState\n     * @memberof! <global>\n     *\n     */\n    var PushState = function () {\n        return this.init.apply( this, arguments );\n    };\n\n    PushState.prototype = {\n        constructor: PushState,\n\n        /**\n         *\n         * Flag whether pushState is enabled\n         * @memberof PushState\n         * @member _pushable\n         * @private\n         *\n         */\n        _pushable: (\"history\" in window && \"pushState\" in window.history),\n\n        /**\n         *\n         * Fallback to hashchange if needed. Support:\n         * <ul>\n         * <li>Internet Explorer 8</li>\n         * <li>Firefox 3.6</li>\n         * <li>Chrome 5</li>\n         * <li>Safari 5</li>\n         * <li>Opera 10.6</li>\n         * </ul>\n         * @memberof PushState\n         * @member _hashable\n         * @private\n         *\n         */\n        _hashable: (\"onhashchange\" in window),\n\n        /**\n         *\n         * PushState init constructor method\n         * @memberof PushState\n         * @method PushState.init\n         * @param {object} options Settings for PushState\n         * <ul>\n         * <li>options.forceHash</li>\n         * </ul>\n         *\n         * @fires backstate\n         * @fires forwardstate\n         * @fires popstate\n         *\n         */\n        init: function ( options ) {\n            /**\n             *\n             * Ensure this first cache URL is clean as a whistle\n             * @memberof PushState\n             * @member _initUrl\n             * @private\n             *\n             */\n            this._initUrl = window.location.href.replace( window.location.hash, \"\" );\n\n            /**\n             *\n             * User options for usage\n             * @memberof PushState\n             * @member _options\n             * @private\n             *\n             */\n            this._options = (options || {});\n\n            /**\n             *\n             * Flag whether state is enabled\n             * @memberof PushState\n             * @member _enabled\n             * @private\n             *\n             */\n            this._enabled = false;\n\n            /**\n             *\n             * Flag when hash is changed by PushState\n             * This allows appropriate replication of popstate\n             * @memberof PushState\n             * @member _ishashpushed\n             * @private\n             *\n             */\n            this._ishashpushed = false;;\n\n            /**\n             *\n             * Unique ID ticker\n             * @memberof PushState\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n\n            /**\n             *\n             * Stored state objects\n             * @memberof PushState\n             * @member _states\n             * @private\n             *\n             */\n            this._states = {};\n\n            /**\n             *\n             * Event callbacks\n             * @memberof PushState\n             * @member _callbacks\n             * @private\n             *\n             */\n            this._callbacks = {};\n\n            // Set initial state\n            this._states[ this._initUrl ] = {\n                uid: this.getUID()\n            };\n\n            // Enable popstate management\n            this._stateEnable();\n        },\n\n        /**\n         *\n         * Bind a callback to an event\n         * @memberof PushState\n         * @method on\n         * @param {string} event The event to bind to\n         * @param {function} callback The function to call\n         *\n         */\n        on: function ( event, callback ) {\n            if ( typeof callback === \"function\" ) {\n                if ( !this._callbacks[ event ] ) {\n                    this._callbacks[ event ] = [];\n                }\n\n                callback._pushstateID = this.getUID();\n                callback._pushstateType = event;\n\n                this._callbacks[ event ].push( callback );\n            }\n        },\n\n        /**\n         *\n         * Unbind a callback to an event\n         * @memberof PushState\n         * @method off\n         * @param {string} event The event that was bound\n         * @param {function} callback The function to remove\n         *\n         */\n        off: function ( event, callback ) {\n            if ( this._callbacks[ event ] ) {\n                for ( var i = this._callbacks[ event ].length; i--; ) {\n                    if ( this._callbacks[ event ][ i ]._pushstateID === callback._pushstateID ) {\n                        this._callbacks[ event ].splice( i, 1 );\n                        break;\n                    }\n                }\n            }\n        },\n\n        /**\n         *\n         * Push onto the History state\n         * @memberof PushState\n         * @method push\n         * @param {string} url address to push to history\n         *\n         */\n        push: function ( url ) {\n            // Dont push current URL\n            if ( url === window.location.href ) {\n                return;\n            }\n\n            this._push( url );\n\n            this._states[ url ] = {\n                uid: this.getUID()\n            };\n        },\n\n        /**\n         *\n         * Manually go back in history state\n         * @memberof PushState\n         * @method goBack\n         *\n         * @fires backstate\n         *\n         */\n        goBack: function () {\n            window.history.back();\n\n            this._fire( \"backstate\" );\n        },\n\n        /**\n         *\n         * Manually go forward in history state\n         * @memberof PushState\n         * @method goForward\n         *\n         * @fires forwardstate\n         *\n         */\n        goForward: function () {\n            window.history.forward();\n\n            this._fire( \"forwardstate\" );\n        },\n\n        /**\n         *\n         * Get a unique ID\n         * @memberof PushState\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n\n            return this._uid;\n        },\n\n        /**\n         *\n         * Calls window.history.pushState\n         * @memberof PushState\n         * @method _push\n         * @param {string} url The url to push\n         * @private\n         *\n         */\n        _push: function ( url ) {\n            if ( this._pushable && !this._options.forceHash ) {\n                window.history.pushState( this._states[ url ], \"\", url );\n\n            } else {\n                // This replace ensures we get the following:\n                // \"/\":         root\n                // \"/foo/bar/\": uri path\n                var hashUri = url.replace( window.location.origin, \"\" );\n\n                // Fix for root hash uri.\n                // Ensure we dont get the following:\n                // \"/foo/bar/#/foo/bar/\"\n                // Rather we would get the following:\n                // \"/foo/bar/#/\"\n                if ( hashUri === window.location.pathname ) {\n                    hashUri = \"/\";\n                }\n\n                this._ishashpushed = true;\n\n                window.location.hash = hashUri;\n            }\n        },\n\n        /**\n         *\n         * Fire an events callbacks\n         * @memberof PushState\n         * @method _fire\n         * @param {string} event The event to fire\n         * @param {string} url The current url\n         * @private\n         *\n         */\n        _fire: function ( event, url ) {\n            if ( this._callbacks[ event ] ) {\n                for ( var i = this._callbacks[ event ].length; i--; ) {\n                    this._callbacks[ event ][ i ].apply( this, [].slice.call( arguments, 1 ) );\n                }\n            }\n        },\n\n        /**\n         *\n         * Bind this instances state handler\n         * @memberof PushState\n         * @method _stateEnabled\n         * @private\n         *\n         * @fires popstate\n         *\n         */\n        _stateEnable: function () {\n            if ( this._enabled ) {\n                return this;\n            }\n\n            var self = this,\n                handler = function () {\n                    var url = window.location.href,\n                        roots = [\"#/\", \"#\", \"\"];\n\n                    // Ensure we clean out the hash for Router\n                    // Example:\n                    // Start:  http://localhost/foo/#/bar/\n                    // Result: http://localhost/foo/bar/\n                    if ( self._options.forceHash ) {\n                        // Shave the hash from the end of the URL\n                        url = url.replace( window.location.hash, \"\" );\n\n                        // Shave the hash root from the end of the URL\n                        url = url.replace( window.location.pathname, \"\" );\n\n                        // Empty hash means we have gone back to root\n                        if ( roots.indexOf( window.location.hash ) !== -1 ) {\n                            // Append the hash root to the URL\n                            url = (url + window.location.pathname);\n\n                        } else {\n                            // Append the applied hash pathname to the URL\n                            url = (url + window.location.hash.replace( \"#\", \"\" ));\n                        }\n                    }\n\n                    self._fire( \"popstate\", url, self._states[ url ] );\n                };\n\n            this._enabled = true;\n\n            if ( this._pushable && !this._options.forceHash ) {\n                window.addEventListener( \"popstate\", function ( e ) {\n                    handler();\n\n                }, false );\n\n            } else if ( this._hashable ) {\n                // For hashstate we should apply initial hash on page load\n                this._push( this._initUrl );\n\n                window.addEventListener( \"hashchange\", function ( e ) {\n                    if ( !self._ishashpushed ) {\n                        handler();\n\n                    } else {\n                        self._ishashpushed = false;\n                    }\n\n                }, false );\n            }\n        }\n    };\n\n    return PushState;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-pushstate/PushState.js\n// module id = 74\n// module chunks = 0","/*!\n *\n * Window resize / orientationchange event controller\n *\n * @ResizeController\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.ResizeController = factory();\n    }\n    \n})(function () {\n\n    var Controller = require( \"properjs-controller\" ),\n\n        // Orientation?\n        _hasOrientation = (\"orientation\" in window),\n\n        // Current window viewport\n        _currentView = null,\n\n        // Singleton\n        _instance = null;\n\n    /**\n     *\n     * Window resize / orientationchange event controller\n     * @constructor ResizeController\n     * @augments Controller\n     * @requires Controller\n     * @memberof! <global>\n     *\n     * @fires resize\n     * @fires resizedown\n     * @fires resizeup\n     * @fires resizewidth\n     * @fires resizeheight\n     * @fires orientationchange\n     * @fires orientationportrait\n     * @fires orientationlandscape\n     *\n     */\n    var ResizeController = function () {\n        // Singleton\n        if ( !_instance ) {\n            _instance = this;\n\n            // Initial viewport settings\n            _currentView = _instance.getViewport();\n\n            // Call on parent cycle\n            this.go(function () {\n                var currentView = _instance.getViewport(),\n                    isStill = (currentView.width === _currentView.width && currentView.height === _currentView.height),\n                    isResize = (currentView.width !== _currentView.width || currentView.height !== _currentView.height),\n                    isResizeUp = (currentView.width > _currentView.width || currentView.height > _currentView.height),\n                    isResizeDown = (currentView.width < _currentView.width || currentView.height < _currentView.height),\n                    isResizeWidth = (currentView.width !== _currentView.width),\n                    isResizeHeight = (currentView.height !== _currentView.height),\n                    isOrientation = (currentView.orient !== _currentView.orient),\n                    isOrientationPortrait = (currentView.orient !== _currentView.orient && currentView.orient !== 90),\n                    isOrientationLandscape = (currentView.orient !== _currentView.orient && currentView.orient === 90);\n\n                // Fire blanket resize event\n                if ( isResize ) {\n                    /**\n                     *\n                     * @event resize\n                     *\n                     */\n                    _instance.fire( \"resize\" );\n                }\n\n                // Fire resizeup and resizedown\n                if ( isResizeDown ) {\n                    /**\n                     *\n                     * @event resizedown\n                     *\n                     */\n                    _instance.fire( \"resizedown\" );\n\n                } else if ( isResizeUp ) {\n                    /**\n                     *\n                     * @event resizeup\n                     *\n                     */\n                    _instance.fire( \"resizeup\" );\n                }\n\n                // Fire resizewidth and resizeheight\n                if ( isResizeWidth ) {\n                    /**\n                     *\n                     * @event resizewidth\n                     *\n                     */\n                    _instance.fire( \"resizewidth\" );\n\n                } else if ( isResizeHeight ) {\n                    /**\n                     *\n                     * @event resizeheight\n                     *\n                     */\n                    _instance.fire( \"resizeheight\" );\n                }\n\n                // Fire blanket orientationchange event\n                if ( isOrientation ) {\n                    /**\n                     *\n                     * @event orientationchange\n                     *\n                     */\n                    _instance.fire( \"orientationchange\" );\n                }\n\n                // Fire orientationportrait and orientationlandscape\n                if ( isOrientationPortrait ) {\n                    /**\n                     *\n                     * @event orientationportrait\n                     *\n                     */\n                    _instance.fire( \"orientationportrait\" );\n\n                } else if ( isOrientationLandscape ) {\n                    /**\n                     *\n                     * @event orientationlandscape\n                     *\n                     */\n                    _instance.fire( \"orientationlandscape\" );\n                }\n\n                _currentView = currentView;\n            });\n        }\n\n        return _instance;\n    };\n\n    ResizeController.prototype = new Controller();\n\n    /**\n     *\n     * Returns the current window viewport specs\n     * @memberof ResizeController\n     * @method getViewport\n     * @returns object\n     *\n     */\n    ResizeController.prototype.getViewport = function () {\n        return {\n            width: window.innerWidth,\n            height: window.innerHeight,\n            orient: _hasOrientation ? Math.abs( window.orientation ) : null\n        };\n    };\n\n    /**\n     *\n     * Tells if the viewport is in protrait mode\n     * @memberof ResizeController\n     * @method isPortrait\n     * @returns boolean\n     *\n     */\n    ResizeController.prototype.isPortrait = function () {\n        var orient = this.getViewport().orient;\n\n        return (orient !== null && orient !== 90);\n    };\n\n    /**\n     *\n     * Tells if the viewport is in landscape mode\n     * @memberof ResizeController\n     * @method isLandscape\n     * @returns boolean\n     *\n     */\n    ResizeController.prototype.isLandscape = function () {\n        var orient = this.getViewport().orient;\n\n        return (orient !== null && orient === 90);\n    };\n\n\n    return ResizeController;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-resizecontroller/ResizeController.js\n// module id = 75\n// module chunks = 0","/*!\n *\n * Handles basic get routing\n *\n * @Router\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Router = factory();\n    }\n\n})(function () {\n\n    var PushState = require( \"properjs-pushstate\" ),\n        MatchRoute = require( \"properjs-matchroute\" ),\n        matchElement = require( \"properjs-matchelement\" ),\n        _initDelay = 200,\n        _triggerEl;\n\n\n    /**\n     *\n     * A simple router Class\n     * @constructor Router\n     * @requires PushState\n     * @requires MatchRoute\n     * @requires matchElement\n     * @memberof! <global>\n     *\n     */\n    var Router = function () {\n        return this.init.apply( this, arguments );\n    };\n\n    Router.prototype = {\n        constructor: Router,\n\n        /**\n         *\n         * Expression match http/https\n         * @memberof Router\n         * @member _rHTTPs\n         * @private\n         *\n         */\n        _rHTTPs: /^http[s]?:\\/\\/.*?\\//,\n\n        /**\n         *\n         * Expression match common file types...\n         * @memberof Router\n         * @member _rFiles\n         * @private\n         *\n         */\n        _rFiles: /\\.(jpg|jpeg|png|gif|pdf|csv|txt|md|doc|docx|xls|xlsx|webm|mp4|mp3)$/gi,\n\n        /**\n         *\n         * Expression match this documents domain\n         * @memberof Router\n         * @member _rDomain\n         * @private\n         *\n         */\n        _rDomain: new RegExp( document.domain ),\n\n        /**\n         *\n         * Flag routing state\n         * @memberof Router\n         * @member _isRouting\n         * @private\n         *\n         */\n        _isRouting: false,\n\n        /**\n         *\n         * Router init constructor method\n         * @memberof Router\n         * @method init\n         * @param {object} options Settings for PushState\n         * <ul>\n         * <li>options.caching</li>\n         * <li>options.proxy</li>\n         * <li>options.proxy.domain</li>\n         * <li>options.handle404</li>\n         * <li>options.handle500</li>\n         * <li>options.pushStateOptions</li>\n         * </ul>\n         *\n         * @fires preget\n         * @fires popget\n         * @fires get\n         *\n         */\n        init: function ( options ) {\n            /**\n             *\n             * Router Store user options\n             * @memberof Router\n             * @member _options\n             * @private\n             *\n             */\n            this._options = {\n                async: true,\n                proxy: false,\n                caching: true,\n                handle404: true,\n                handle500: true,\n                pushStateOptions: {}\n            };\n\n            // Normalize usage options passed in\n            options = (options || {});\n\n            // Merge usage options with defaults\n            for ( var i in options ) {\n                this._options[ i ] = options[ i ];\n            }\n\n            /**\n             *\n             * Internal MatchRoute instance\n             * @memberof Router\n             * @member _matcher\n             * @private\n             *\n             */\n            this._matcher = new MatchRoute();\n\n            /**\n             *\n             * Internal PushState instance\n             * @memberof Router\n             * @member _pusher\n             * @private\n             *\n             */\n            this._pusher = new PushState( this._options.pushStateOptions );\n\n            /**\n             *\n             * Event handling callbacks\n             * @memberof Router\n             * @member _callbacks\n             * @private\n             *\n             */\n            this._callbacks = {};\n\n            /**\n             *\n             * Stored XHR responses\n             * @memberof Router\n             * @member _responses\n             * @private\n             *\n             */\n            this._responses = {};\n\n            /**\n             *\n             * Router unique ID\n             * @memberof Router\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n\n            /**\n             *\n             * Router is READY status ?\n             * @memberof Router\n             * @member _ready\n             * @private\n             *\n             */\n            this._ready = false;\n        },\n\n        /**\n         *\n         * Create PushState instance and add event listener\n         * @memberof Router\n         * @method bind\n         *\n         */\n        bind: function () {\n            var self = this,\n                // Ensure this first cache URL is clean as a whistle\n                url = window.location.href.replace( window.location.hash, \"\" );\n\n            // Bind GET requests to links\n            document.addEventListener( \"click\", function ( e ) {\n                self._handleClick( this, e );\n\n            }, false );\n\n            // Bind popstate event for history\n            this._pusher.on( \"popstate\", function ( url, state ) {\n                self._handlePopstate( url, state );\n            });\n\n            // Fire first route\n            // Async this in order to allow .get() to work after instantiation\n            if ( this._options.async && this._options.handle404 ) {\n                this._route( url, function ( response, status ) {\n                    self._ready = true;\n                });\n\n            // Shim a little and bypass true XHR here if not handling 404s\n            } else {\n                setTimeout(function () {\n                    // https://developer.mozilla.org/en-US/docs/Web/API/XMLSerializer\n                    var doc = new XMLSerializer().serializeToString( document );\n                    var xhr = {\n                        status: 200,\n                        responseText: doc\n                    };\n\n                    self._fire( \"get\", url, xhr, xhr.status );\n                    self._cache( url, xhr );\n                    self._ready = true;\n\n                }, _initDelay );\n            }\n        },\n\n        /**\n         *\n         * Add an event listener\n         * Binding \"beforeget\" and \"afterget\" wraps the XHR request\n         * @memberof Router\n         * @method on\n         * @param {string} event The event to bind to\n         * @param {function} callback The function to call\n         *\n         */\n        on: function ( event, callback ) {\n            this._bind( event, callback );\n        },\n\n        /**\n         *\n         * Remove an event listener\n         * @memberof Router\n         * @method off\n         * @param {string} event The event to unbind\n         * @param {function} callback The function to reference\n         *\n         */\n        off: function ( event, callback ) {\n            this._unbind( event, callback );\n        },\n\n        /**\n         *\n         * Support router triggers by url\n         * @memberof Router\n         * @method trigger\n         * @param {string} url The url to route to\n         *\n         */\n        trigger: function ( url ) {\n            if ( !_triggerEl ) {\n                _triggerEl = document.createElement( \"a\" );\n            }\n\n            _triggerEl.href = url;\n\n            this._handleClick( _triggerEl, {\n                target: _triggerEl\n            });\n        },\n\n        /**\n         *\n         * Bind a GET request route\n         * @memberof Router\n         * @method get\n         * @param {string} route route to match\n         * @param {function} callback function to call when route is requested\n         *\n         */\n        get: function ( route, callback ) {\n            // Add route to matcher\n            this._matcher.config( [route] );\n\n            // Bind the route to the callback\n            if ( callback._routerRoutes ) {\n                callback._routerRoutes.push( route );\n\n            } else {\n                callback._routerRoutes = [route];\n            }\n\n            // When binding multiple routes to a single\n            // callback, we need to make sure the callbacks\n            // routes array is updated above but the callback\n            // only gets added to the list once.\n            if ( callback._routerRoutes.length === 1 ) {\n                this._bind( \"get\", callback );\n            }\n        },\n\n        /**\n         *\n         * Get a sanitized route for a url\n         * @memberof Router\n         * @method getRouteForUrl\n         * @param {string} url The url to use\n         * @returns {string}\n         *\n         */\n        getRouteForUrl: function ( url ) {\n            return this._matcher._cleanRoute( url );\n        },\n\n        /**\n         *\n         * Get the match data for a url against the routes config\n         * @memberof Router\n         * @method getRouteDataForUrl\n         * @param {string} url The url to use\n         * @returns {object}\n         *\n         */\n        getRouteDataForUrl: function ( url ) {\n            return this._matcher.parse( url, this._matcher.getRoutes() ).params;\n        },\n\n        /**\n         *\n         * Get a unique ID\n         * @memberof Router\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n\n            return this._uid;\n        },\n\n        /**\n         * Compatible event preventDefault\n         * @memberof Router\n         * @method _preventDefault\n         * @param {object} e The event object\n         * @private\n         *\n         */\n        _preventDefault: function ( e ) {\n            if ( e.preventDefault ) {\n                e.preventDefault();\n\n            } else {\n                e.returnValue = false;\n            }\n        },\n\n        /**\n         * GET click event handler\n         * @memberof Router\n         * @method _handleClick\n         * @param {object} el The event context element\n         * @param {object} e The event object\n         * @private\n         *\n         * @fires get\n         *\n         */\n        _handleClick: function ( el, e ) {\n            var elem = (matchElement( el, \"a\" ) || matchElement( e.target, \"a\" )),\n                isMatched = elem && this._matcher.test( elem.href ),\n                isDomain = elem && this._rDomain.test( elem.href ),\n                isProxy = elem && this._options.proxy && this._options.proxy.domain,\n                isHashed = elem && elem.href.indexOf( \"#\" ) !== -1,\n                isIgnore = elem && elem.className.indexOf( \"js-router--ignore\" ) !== -1,\n                isMetaKey = elem && e.metaKey,\n                isBlank = elem && elem.target === \"_blank\",\n                isFile = elem && isDomain && elem.href.match( this._rFiles );\n\n            // 0.1 => Ensure url passes MatchRoute config\n            // 0.2 => Ensure url is on the Document's Domain\n            // 0.X => Allow proxy domain's to go through this checkpoint\n            if ( (isMatched && isDomain) || isProxy ) {\n                // 0.3 => Ensure url is not a #hash\n                // 0.4 => Ensure the element does not contain a `js-router--ignore` className\n                // 0.5 => Ensure the Event.metaKey is not TRUE - Command+click\n                // 0.6 => Ensure the element target is not for a new tab\n                // 0.7 => Ensure url is not a file link on the same document domain\n                if ( !isHashed && !isIgnore && !isMetaKey && !isBlank && !isFile ) {\n                    this._preventDefault( e );\n\n                    if ( !this._isRouting ) {\n                        this._route( elem.href );\n                    }\n                }\n            }\n        },\n\n        /**\n         * Handle history popstate event from PushState\n         * @memberof Router\n         * @method _handlePopstate\n         * @param {string} url The url popped to\n         * @param {object} state The PushState state object\n         * @private\n         *\n         * @fires get\n         *\n         */\n        _handlePopstate: function ( url, state ) {\n            // Hook around browsers firing popstate on pageload\n            if ( this._ready ) {\n                for ( var i = this._callbacks.get.length; i--; ) {\n                    var dat = this._matcher.parse( url, this._callbacks.get[ i ]._routerRoutes );\n\n                    if ( dat.matched ) {\n                        break;\n                    }\n                }\n\n                data = {\n                    route: this._matcher._cleanRoute( url ),\n                    response: this._responses[ url ],\n                    request: dat,\n                    status: this._responses[ url ].status\n                };\n\n                this._fire( \"popget\", url, data );\n\n            } else {\n                this._ready = true;\n            }\n        },\n\n        /**\n         * Execute the route\n         * @memberof Router\n         * @method _route\n         * @param {string} url The url in question\n         * @param {function} callback Optional, fired with done\n         * @private\n         *\n         */\n        _route: function ( url, callback ) {\n            var self = this,\n                urls = {\n                    // For XHR\n                    request: url,\n\n                    // For pushState and Cache\n                    original: url\n                };\n\n            this._isRouting = true;\n\n            this._matchUrl( urls.original );\n\n            // Handle proxy first since we modify the request URL\n            // Basically, just piece together a URL that swaps this domain with proxy domain\n            if ( this._options.proxy && this._options.proxy.domain ) {\n                // Use window.location.host so it includes port for localhost\n                urls.request = (this._options.proxy.domain + \"/\" + urls.request.replace( this._rHTTPs, \"\" ));\n            }\n\n            this._getUrl( urls, function ( response, status ) {\n                self._isRouting = false;\n\n                // Push the URL to window History\n                self._pusher.push( urls.original );\n\n                // Fire event for routing\n                self._fire( \"get\", urls.original, response, status );\n\n                if ( typeof callback === \"function\" ) {\n                    callback( response, status );\n                }\n            });\n        },\n\n        /**\n         * Match a URL and fire \"preget\"\n         * @memberof Router\n         * @method _matchUrl\n         * @param {string} url The url in question\n         * @private\n         *\n         */\n        _matchUrl: function ( url ) {\n            if ( !this._ready ) {\n                return;\n            }\n\n            for ( var i = this._callbacks.get.length; i--; ) {\n                var data = this._matcher.parse( url, this._callbacks.get[ i ]._routerRoutes );\n\n                if ( data.matched ) {\n                    this._fire( \"preget\", url, data );\n                    break;\n                }\n            }\n        },\n\n        /**\n         *\n         * Request a url with an XMLHttpRequest\n         * @memberof Router\n         * @method _getUrl\n         * @param {object} urls The urls to request / push / cache\n         * @param {function} callback The function to call when done\n         * @private\n         *\n         */\n        _getUrl: function ( urls, callback ) {\n            var handler = function ( res, stat ) {\n                    try {\n                        // Cache if option enabled\n                        self._cache( urls.original, res );\n\n                        if ( typeof callback === \"function\" ) {\n                            callback( res, stat );\n                        }\n\n                    } catch ( error ) {}\n                },\n                xhr = null,\n                self = this;\n\n            // Cached response ?\n            if ( this._responses[ urls.original ] ) {\n                handler( this._responses[ urls.original ], this._responses[ urls.original ].status );\n\n            // Fresh request ?\n            } else if ( this._options.async ) {\n                xhr = new XMLHttpRequest();\n\n                xhr.open( \"GET\", urls.request, true );\n\n                xhr.onreadystatechange = function ( e ) {\n                    if ( this.readyState === 4 ) {\n                        if ( this.status === 200 ) {\n                            handler( this, 200 );\n\n                        } else if ( this.status === 404 && self._options.handle404 ) {\n                            handler( this, 404 );\n\n                        } else if ( this.status === 500 && self._options.handle500 ) {\n                            handler( this, 500 );\n                        }\n                    }\n                };\n\n                xhr.send();\n\n            } else {\n                handler( { responseText: \"\" }, 200 );\n            }\n        },\n\n        /**\n         *\n         * Cache an XHR response object\n         * @memberof Router\n         * @method _cache\n         * @param {string} url The url to cache for\n         * @param {object} res The XHR object\n         * @private\n         *\n         */\n        _cache: function ( url, res ) {\n            // Caching is enabled, Not currently cached yet\n            if ( this._options.caching && !this._responses[ url ] ) {\n                this._responses[ url ] = res;\n            }\n        },\n\n        /**\n         *\n         * Bind an event to a callback\n         * @memberof Router\n         * @method _bind\n         * @param {string} event what to bind on\n         * @param {function} callback fired on event\n         * @private\n         *\n         */\n        _bind: function ( event, callback ) {\n            if ( typeof callback === \"function\" ) {\n                if ( !this._callbacks[ event ] ) {\n                    this._callbacks[ event ] = [];\n                }\n\n                callback._jsRouterID = this.getUID();\n\n                this._callbacks[ event ].push( callback );\n            }\n        },\n\n        /**\n         *\n         * Unbind an event to a callback(s)\n         * @memberof Router\n         * @method _bind\n         * @param {string} event what to bind on\n         * @param {function} callback fired on event\n         * @private\n         *\n         */\n        _unbind: function ( event, callback ) {\n            if ( !this._callbacks[ event ] ) {\n                return this;\n            }\n\n            // Remove a single callback\n            if ( callback ) {\n                for ( var i = 0, len = this._callbacks[ event ].length; i < len; i++ ) {\n                    if ( callback._jsRouterID === this._callbacks[ event ][ i ]._jsRouterID ) {\n                        this._callbacks[ event ].splice( i, 1 );\n\n                        break;\n                    }\n                }\n\n            // Remove all callbacks for event\n            } else {\n                for ( var j = this._callbacks[ event ].length; j--; ) {\n                    this._callbacks[ event ][ j ] = null;\n                }\n\n                delete this._callbacks[ event ];\n            }\n        },\n\n        /**\n         *\n         * Fire an event to a callback\n         * @memberof Router\n         * @method _fire\n         * @param {string} event what to bind on\n         * @param {string} url fired on event\n         * @param {string} response html from responseText\n         * @param {number} status The request status\n         * @private\n         *\n         */\n        _fire: function ( event, url, response, status ) {\n            var i;\n\n            // GET events have routes and are special ;-P\n            if ( event === \"get\" ) {\n                for ( i = this._callbacks[ event ].length; i--; ) {\n                    var data = this._matcher.parse( url, this._callbacks[ event ][ i ]._routerRoutes );\n\n                    if ( data.matched ) {\n                        this._callbacks[ event ][ i ].call( this, {\n                            route: this._matcher._cleanRoute( url ),\n                            response: response,\n                            request: data,\n                            status: status\n                        });\n                    }\n                }\n\n            // Fires basic timing events \"preget\", \"popget\"\n            } else if ( this._callbacks[ event ] ) {\n                for ( i = this._callbacks[ event ].length; i--; ) {\n                    this._callbacks[ event ][ i ].call( this, response );\n                }\n            }\n        }\n    };\n\n\n    return Router;\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-router/Router.js\n// module id = 76\n// module chunks = 0","/**\n *\n * As bare bones a template render as it comes\n * @method template\n * @param {string} html HTML to render from\n * @param {object} data Data to render with\n * @returns {string}\n * @memberof! <global>\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.template = factory();\n    }\n    \n})(function () {\n\n    var template = function ( html, data ) {\n        // Allow varying bracket styles, {{foo}} or {foo}\n        return html.replace( /\\{{1,2}([^{}]*)\\}{1,2}/g, function ( a, b ) {\n            // Replace spaces, allowing { foo } style\n            var r = data[ b.replace( /\\s/g, \"\" ) ];\n    \n            // Allow string or numeral replacement\n            // This would be interesting also, return (\"\" + r);\n            // That would give you [Object object] for values that are iterable\n            return ( typeof r === \"string\" || typeof r === \"number\" ) ? r : a;\n        });\n    };\n\n    return template;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-template/template.js\n// module id = 77\n// module chunks = 0","/*!\n *\n * Throttle callbacks\n *\n * @throttle\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.throttle = factory();\n    }\n    \n})(function () {\n\n\n    /**\n     *\n     * Rev limit your method calls\n     * @requires debounce\n     * @memberof! <global>\n     * @method throttle\n     * @param {function} callback The method handler\n     * @param {number} threshold The timeout delay in ms\n     *\n     */\n    var throttle = function ( callback, threshold ) {\n        var wait = false;\n\n        return function () {\n            if ( !wait ) {\n                callback.call();\n                wait = true;\n\n                setTimeout(function () {\n                    wait = false;\n\n                }, (threshold || 100) );\n            }\n        };\n    };\n    \n    \n    return throttle;\n\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/properjs-throttle/throttle.js\n// module id = 78\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 79\n// module chunks = 0","require( \"../sass/screen.scss\" );\n\n\nimport * as core from \"./core\";\nimport router from \"./router\";\nimport overlay from \"./overlay\";\nimport gallery from \"./gallery\";\nimport intro from \"./intro\";\nimport main from \"./main\";\n\n\n/**\n *\n * @public\n * @class App\n * @classdesc Load the App application Class to handle it ALL.\n *\n */\nclass App {\n    constructor () {\n        this.core = core;\n        this.main = main;\n        this.router = router;\n        this.overlay = overlay;\n        this.gallery = gallery;\n        this.intro = intro;\n        this.analytics = new core.Analytics();\n\n        if ( !this.core.dom.page.length ) {\n            //this.router.redirect();\n\n        } else {\n            this.bindEvents();\n            this.initModules();\n        }\n\n        if ( core.env.isConfig() ) {\n            core.dom.html.addClass( \"is-config\" );\n        }\n\n        core.log( \"App\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initModules\n     * @memberof App\n     * @description Initialize modules.\n     *\n     */\n    initModules () {\n        this.core.detect.init( this );\n        this.core.resizes.init( this );\n        //this.core.scrolls.init( this );\n        this.main.init( this );\n        this.router.init( this );\n        this.overlay.init( this );\n        this.gallery.init( this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof App\n     * @description Bind top-level app events.\n     *\n     */\n    bindEvents () {\n        this._onPreloadDone = this.onPreloadDone.bind( this );\n\n        this.core.emitter.on( \"app--preload-done\", this._onPreloadDone );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onPreloadDone\n     * @memberof App\n     * @description Handle intro teardown.\n     *\n     */\n    onPreloadDone () {\n        this.core.emitter.off( \"app--preload-done\", this._onPreloadDone );\n\n        this.intro.teardown();\n    }\n}\n\n\n\n/******************************************************************************\n * Bootstrap\n*******************************************************************************/\n// window.Squarespace.onInitialize( window.Y, () => {\n//     window.app = new App();\n// });\n\n\n\n/******************************************************************************\n * Expose\n*******************************************************************************/\nwindow.app = new App();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default window.app;\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/app.js"],"sourceRoot":""}